/*! For license information please see main.3dc09b42.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),a=n(43),o=n(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(s(e)!==e)throw Error(i(188))}function p(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=p(e)))return t;e=e.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),j=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var _=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var z=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case b:return"Fragment";case v:return"Profiler";case x:return"StrictMode";case S:return"Suspense";case k:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case j:return e.displayName||"Context";case y:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}var O=Array.isArray,P=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},F=[],D=-1;function B(e){return{current:e}}function W(e){0>D||(e.current=F[D],F[D]=null,D--)}function M(e,t){D++,F[D]=e.current,e.current=t}var U,q,H=B(null),V=B(null),Q=B(null),G=B(null);function X(e,t){switch(M(Q,t),M(V,e),M(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=xu(t=bu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(H),M(H,e)}function K(){W(H),W(V),W(Q)}function Y(e){null!==e.memoizedState&&M(G,e);var t=H.current,n=xu(t,e.type);t!==n&&(M(V,e),M(H,n))}function $(e){V.current===e&&(W(H),W(V)),G.current===e&&(W(G),dp._currentValue=I)}function J(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||"",q=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+U+e+q}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(l){if(l&&r&&"string"===typeof l.stack)return[l.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),i=o[0],l=o[1];if(i&&l){var s=i.split("\n"),c=l.split("\n");for(a=r=0;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===s.length||a===c.length)for(r=s.length-1,a=c.length-1;1<=r&&0<=a&&s[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(s[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||s[r]!==c[a]){var d="\n"+s[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=a);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,ae=r.unstable_scheduleCallback,oe=r.unstable_cancelCallback,ie=r.unstable_shouldYield,le=r.unstable_requestPaint,se=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,de=r.unstable_ImmediatePriority,ue=r.unstable_UserBlockingPriority,pe=r.unstable_NormalPriority,fe=r.unstable_LowPriority,me=r.unstable_IdlePriority,he=r.log,ge=r.unstable_setDisableYieldValue,be=null,xe=null;function ve(e){if("function"===typeof he&&ge(e),xe&&"function"===typeof xe.setStrictMode)try{xe.setStrictMode(be,e)}catch(t){}}var ye=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(je(e)/we|0)|0},je=Math.log,we=Math.LN2;var Se=256,ke=262144,Ne=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ee(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,o=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var l=134217727&r;return 0!==l?0!==(r=l&~o)?a=Ce(r):0!==(i&=l)?a=Ce(i):n||0!==(n=l&~e)&&(a=Ce(n)):0!==(l=r&~o)?a=Ce(l):0!==i?a=Ce(i):n||0!==(n=r&~e)&&(a=Ce(n)),0===a?0:0!==t&&t!==a&&0===(t&o)&&((o=a&-a)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:a}function _e(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ze(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Te(){var e=Ne;return 0===(62914560&(Ne<<=1))&&(Ne=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ye(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Pe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ye(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Le(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Ie(n))&(e.suspendedLanes|t))?0:n}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function De(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Cp(e.type)}function Be(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var We=Math.random().toString(36).slice(2),Me="__reactFiber$"+We,Ue="__reactProps$"+We,qe="__reactContainer$"+We,He="__reactEvents$"+We,Ve="__reactListeners$"+We,Qe="__reactHandles$"+We,Ge="__reactResources$"+We,Xe="__reactMarker$"+We;function Ke(e){delete e[Me],delete e[Ue],delete e[He],delete e[Ve],delete e[Qe]}function Ye(e){var t=e[Me];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[Me]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Iu(e);null!==e;){if(n=e[Me])return n;e=Iu(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[Me]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ze(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Xe]=!0}var tt=new Set,nt={};function rt(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},lt={};function st(e,t,n){if(a=t,re.call(lt,a)||!re.call(it,a)&&(ot.test(a)?lt[a]=!0:(it[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function dt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function pt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=pt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function bt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function xt(e,t,n,r,a,o,i,l){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?yt(e,i,ut(t)):null!=n?yt(e,i,ut(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=o&&(e.defaultChecked=!!o),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.name=""+ut(l):e.removeAttribute("name")}function vt(e,t,n,r,a,o,i,l){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=l?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i),ft(e)}function yt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function jt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(O(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Nt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Ct(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Ct(e,o,t[o])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Tt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var Ot=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,It=null;function Ft(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(xt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Ue]||null;if(!a)throw Error(i(90));xt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&mt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&jt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Bt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Lt||null!==It)&&(Zc(),Lt&&(t=Lt,e=It,It=Lt=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function Wt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ue]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Mt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Mt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch($p){Ut=!1}var Ht=null,Vt=null,Qt=null;function Gt(){if(Qt)return Qt;var e,t,n=Vt,r=n.length,a="value"in Ht?Ht.value:Ht.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return Qt=a.slice(e,1<t?1-t:void 0)}function Xt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Yt(){return!1}function $t(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Kt:Yt,this.isPropagationStopped=Yt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Jt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=$t(tn),rn=f({},tn,{view:0,detail:0}),an=$t(rn),on=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),ln=$t(on),sn=$t(f({},on,{dataTransfer:0})),cn=$t(f({},rn,{relatedTarget:0})),dn=$t(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),un=$t(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pn=$t(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function bn(){return gn}var xn=$t(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(e){return"keypress"===e.type?Xt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),vn=$t(f({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=$t(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn})),jn=$t(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=$t(f({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=$t(f({},tn,{newState:0,oldState:0})),kn=[9,13,27,32],Nn=Mt&&"CompositionEvent"in window,Cn=null;Mt&&"documentMode"in document&&(Cn=document.documentMode);var En=Mt&&"TextEvent"in window&&!Cn,_n=Mt&&(!Nn||Cn&&8<Cn&&11>=Cn),zn=String.fromCharCode(32),Tn=!1;function An(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var On=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function In(e,t,n,r){Lt?It?It.push(r):It=[r]:Lt=r,0<(t=ru(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fn=null,Dn=null;function Bn(e){Kd(e,0)}function Wn(e){if(mt(Je(e)))return e}function Mn(e,t){if("change"===e)return t}var Un=!1;if(Mt){var qn;if(Mt){var Hn="oninput"in document;if(!Hn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Hn="function"===typeof Vn.oninput}qn=Hn}else qn=!1;Un=qn&&(!document.documentMode||9<document.documentMode)}function Qn(){Fn&&(Fn.detachEvent("onpropertychange",Gn),Dn=Fn=null)}function Gn(e){if("value"===e.propertyName&&Wn(Dn)){var t=[];In(t,Dn,e,Pt(e)),Bt(Bn,t)}}function Xn(e,t,n){"focusin"===e?(Qn(),Dn=n,(Fn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Qn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Dn)}function Yn(e,t){if("click"===e)return Wn(t)}function $n(e,t){if("input"===e||"change"===e)return Wn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!re.call(t,a)||!Jn(e[a],t[a]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var or=Mt&&"documentMode"in document&&11>=document.documentMode,ir=null,lr=null,sr=null,cr=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==ir||ir!==ht(r)||("selectionStart"in(r=ir)&&ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Zn(sr,r)||(sr=r,0<(r=ru(lr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},fr={},mr={};function hr(e){if(fr[e])return fr[e];if(!pr[e])return e;var t,n=pr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return fr[e]=n[t];return e}Mt&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);var gr=hr("animationend"),br=hr("animationiteration"),xr=hr("animationstart"),vr=hr("transitionrun"),yr=hr("transitionstart"),jr=hr("transitioncancel"),wr=hr("transitionend"),Sr=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Sr.set(e,t),rt(t,[e])}kr.push("scrollEnd");var Cr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Er=[],_r=0,zr=0;function Tr(){for(var e=_r,t=zr=_r=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var a=Er[t];Er[t++]=null;var o=Er[t];if(Er[t++]=null,null!==r&&null!==a){var i=r.pending;null===i?a.next=a:(a.next=i.next,i.next=a),r.pending=a}0!==o&&Pr(n,a,o)}}function Ar(e,t,n,r){Er[_r++]=e,Er[_r++]=t,Er[_r++]=n,Er[_r++]=r,zr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Ar(e,t,n,r),Lr(e)}function Or(e,t){return Ar(e,null,null,t),Lr(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(a=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,a&&null!==t&&(a=31-ye(n),null===(r=(e=o.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),o):null}function Lr(e){if(50<Hc)throw Hc=0,Vc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ir={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(e,t,n,r){return new Fr(e,t,n,r)}function Br(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wr(e,t){var n=e.alternate;return null===n?((n=Dr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Mr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,a,o){var l=0;if(r=e,"function"===typeof e)Br(e)&&(l=1);else if("string"===typeof e)l=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Dr(31,n,t,a)).elementType=E,e.lanes=o,e;case b:return qr(n.children,a,o,t);case x:l=8,a|=24;break;case v:return(e=Dr(12,n,t,2|a)).elementType=v,e.lanes=o,e;case S:return(e=Dr(13,n,t,a)).elementType=S,e.lanes=o,e;case k:return(e=Dr(19,n,t,a)).elementType=k,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:l=10;break e;case y:l=9;break e;case w:l=11;break e;case N:l=14;break e;case C:l=16,r=null;break e}l=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=Dr(l,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function qr(e,t,n,r){return(e=Dr(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=Dr(6,e,null,t)).lanes=n,e}function Vr(e){var t=Dr(18,null,null,0);return t.stateNode=e,t}function Qr(e,t,n){return(t=Dr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=new WeakMap;function Xr(e,t){if("object"===typeof e&&null!==e){var n=Gr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Gr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Kr=[],Yr=0,$r=null,Jr=0,Zr=[],ea=0,ta=null,na=1,ra="";function aa(e,t){Kr[Yr++]=Jr,Kr[Yr++]=$r,$r=e,Jr=t}function oa(e,t,n){Zr[ea++]=na,Zr[ea++]=ra,Zr[ea++]=ta,ta=e;var r=na;e=ra;var a=32-ye(r)-1;r&=~(1<<a),n+=1;var o=32-ye(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,na=1<<32-ye(t)+a|n<<a|r,ra=o+e}else na=1<<o|n<<a|r,ra=e}function ia(e){null!==e.return&&(aa(e,1),oa(e,1,0))}function la(e){for(;e===$r;)$r=Kr[--Yr],Kr[Yr]=null,Jr=Kr[--Yr],Kr[Yr]=null;for(;e===ta;)ta=Zr[--ea],Zr[ea]=null,ra=Zr[--ea],Zr[ea]=null,na=Zr[--ea],Zr[ea]=null}function sa(e,t){Zr[ea++]=na,Zr[ea++]=ra,Zr[ea++]=ta,na=t.id,ra=t.overflow,ta=e}var ca=null,da=null,ua=!1,pa=null,fa=!1,ma=Error(i(519));function ha(e){throw ja(Xr(Error(i(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),ma}function ga(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Me]=e,t[Ue]=r,n){case"dialog":Yd("cancel",t),Yd("close",t);break;case"iframe":case"object":case"embed":Yd("load",t);break;case"video":case"audio":for(n=0;n<Gd.length;n++)Yd(Gd[n],t);break;case"source":Yd("error",t);break;case"img":case"image":case"link":Yd("error",t),Yd("load",t);break;case"details":Yd("toggle",t);break;case"input":Yd("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Yd("invalid",t);break;case"textarea":Yd("invalid",t),St(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||cu(t.textContent,n)?(null!=r.popover&&(Yd("beforetoggle",t),Yd("toggle",t)),null!=r.onScroll&&Yd("scroll",t),null!=r.onScrollEnd&&Yd("scrollend",t),null!=r.onClick&&(t.onclick=Rt),t=!0):t=!1,t||ha(e,!0)}function ba(e){for(ca=e.return;ca;)switch(ca.tag){case 5:case 31:case 13:return void(fa=!1);case 27:case 3:return void(fa=!0);default:ca=ca.return}}function xa(e){if(e!==ca)return!1;if(!ua)return ba(e),ua=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||vu(e.type,e.memoizedProps)),t=!t),t&&da&&ha(e),ba(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));da=Lu(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));da=Lu(e)}else 27===n?(n=da,Cu(e.type)?(e=Pu,Pu=null,da=e):da=n):da=ca?Ou(e.stateNode.nextSibling):null;return!0}function va(){da=ca=null,ua=!1}function ya(){var e=pa;return null!==e&&(null===Tc?Tc=e:Tc.push.apply(Tc,e),pa=null),e}function ja(e){null===pa?pa=[e]:pa.push(e)}var wa=B(null),Sa=null,ka=null;function Na(e,t,n){M(wa,t._currentValue),t._currentValue=n}function Ca(e){e._currentValue=wa.current,W(wa)}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var o=a.dependencies;if(null!==o){var l=a.child;o=o.firstContext;e:for(;null!==o;){var s=o;o=a;for(var c=0;c<t.length;c++)if(s.context===t[c]){o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Ea(o.return,n,e),r||(l=null);break e}o=s.next}}else if(18===a.tag){if(null===(l=a.return))throw Error(i(341));l.lanes|=n,null!==(o=l.alternate)&&(o.lanes|=n),Ea(l,n,e),l=null}else l=a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===e){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}}function za(e,t,n,r){e=null;for(var a=t,o=!1;null!==a;){if(!o)if(0!==(524288&a.flags))o=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var l=a.alternate;if(null===l)throw Error(i(387));if(null!==(l=l.memoizedProps)){var s=a.type;Jn(a.pendingProps.value,l.value)||(null!==e?e.push(s):e=[s])}}else if(a===G.current){if(null===(l=a.alternate))throw Error(i(387));l.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(dp):e=[dp])}a=a.return}null!==e&&_a(t,e,n,r),t.flags|=262144}function Ta(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Aa(e){Sa=e,ka=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ra(e){return Pa(Sa,e)}function Oa(e,t){return null===Sa&&Aa(e),Pa(e,t)}function Pa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ka){if(null===e)throw Error(i(308));ka=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ka=ka.next=t;return n}var La="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ia=r.unstable_scheduleCallback,Fa=r.unstable_NormalPriority,Da={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ba(){return{controller:new La,data:new Map,refCount:0}}function Wa(e){e.refCount--,0===e.refCount&&Ia(Fa,function(){e.controller.abort()})}var Ma=null,Ua=0,qa=0,Ha=null;function Va(){if(0===--Ua&&null!==Ma){null!==Ha&&(Ha.status="fulfilled");var e=Ma;Ma=null,qa=0,Ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Qa=P.S;P.S=function(e,t){Oc=se(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ma){var n=Ma=[];Ua=0,qa=Ud(),Ha={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ua++,t.then(Va,Va)}(0,t),null!==Qa&&Qa(e,t)};var Ga=B(null);function Xa(){var e=Ga.current;return null!==e?e:mc.pooledCache}function Ka(e,t){M(Ga,null===t?Ga.current:t.pool)}function Ya(){var e=Xa();return null===e?null:{parent:Da._currentValue,pool:e}}var $a=Error(i(460)),Ja=Error(i(474)),Za=Error(i(542)),eo={then:function(){}};function to(e){return"fulfilled"===(e=e.status)||"rejected"===e}function no(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Rt,Rt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw io(e=t.reason),e;default:if("string"===typeof t.status)t.then(Rt,Rt);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw io(e=t.reason),e}throw ao=t,$a}}function ro(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw ao=t,$a;throw t}}var ao=null;function oo(){if(null===ao)throw Error(i(459));var e=ao;return ao=null,e}function io(e){if(e===$a||e===Za)throw Error(i(483))}var lo=null,so=0;function co(e){var t=so;return so+=1,null===lo&&(lo=[]),no(lo,e,t)}function uo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function po(e,t){if(t.$$typeof===m)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Wr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===b?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===C&&ro(o)===t.type)?(uo(t=a(t,n.props),n),t.return=e,t):(uo(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,o){return null===t||7!==t.tag?((t=qr(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case h:return uo(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Qr(t,e.mode,n)).return=e,t;case C:return p(e,t=ro(t),n)}if(O(t)||T(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,co(t),n);if(t.$$typeof===j)return p(e,Oa(e,t),n);po(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===a?c(e,t,n,r):null;case g:return n.key===a?d(e,t,n,r):null;case C:return f(e,t,n=ro(n),r)}if(O(n)||T(n))return null!==a?null:u(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,co(n),r);if(n.$$typeof===j)return f(e,t,Oa(e,n),r);po(e,n)}return null}function m(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return s(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case h:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case g:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case C:return m(e,t,n,r=ro(r),a)}if(O(r)||T(r))return u(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return m(e,t,n,co(r),a);if(r.$$typeof===j)return m(e,t,n,Oa(t,r),a);po(t,r)}return null}function x(s,c,d,u){if("object"===typeof d&&null!==d&&d.type===b&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case h:e:{for(var v=d.key;null!==c;){if(c.key===v){if((v=d.type)===b){if(7===c.tag){n(s,c.sibling),(u=a(c,d.props.children)).return=s,s=u;break e}}else if(c.elementType===v||"object"===typeof v&&null!==v&&v.$$typeof===C&&ro(v)===c.type){n(s,c.sibling),uo(u=a(c,d.props),d),u.return=s,s=u;break e}n(s,c);break}t(s,c),c=c.sibling}d.type===b?((u=qr(d.props.children,s.mode,u,d.key)).return=s,s=u):(uo(u=Ur(d.type,d.key,d.props,null,s.mode,u),d),u.return=s,s=u)}return l(s);case g:e:{for(v=d.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(s,c.sibling),(u=a(c,d.children||[])).return=s,s=u;break e}n(s,c);break}t(s,c),c=c.sibling}(u=Qr(d,s.mode,u)).return=s,s=u}return l(s);case C:return x(s,c,d=ro(d),u)}if(O(d))return function(a,i,l,s){for(var c=null,d=null,u=i,h=i=0,g=null;null!==u&&h<l.length;h++){u.index>h?(g=u,u=null):g=u.sibling;var b=f(a,u,l[h],s);if(null===b){null===u&&(u=g);break}e&&u&&null===b.alternate&&t(a,u),i=o(b,i,h),null===d?c=b:d.sibling=b,d=b,u=g}if(h===l.length)return n(a,u),ua&&aa(a,h),c;if(null===u){for(;h<l.length;h++)null!==(u=p(a,l[h],s))&&(i=o(u,i,h),null===d?c=u:d.sibling=u,d=u);return ua&&aa(a,h),c}for(u=r(u);h<l.length;h++)null!==(g=m(u,a,h,l[h],s))&&(e&&null!==g.alternate&&u.delete(null===g.key?h:g.key),i=o(g,i,h),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(a,e)}),ua&&aa(a,h),c}(s,c,d,u);if(T(d)){if("function"!==typeof(v=T(d)))throw Error(i(150));return function(a,l,s,c){if(null==s)throw Error(i(151));for(var d=null,u=null,h=l,g=l=0,b=null,x=s.next();null!==h&&!x.done;g++,x=s.next()){h.index>g?(b=h,h=null):b=h.sibling;var v=f(a,h,x.value,c);if(null===v){null===h&&(h=b);break}e&&h&&null===v.alternate&&t(a,h),l=o(v,l,g),null===u?d=v:u.sibling=v,u=v,h=b}if(x.done)return n(a,h),ua&&aa(a,g),d;if(null===h){for(;!x.done;g++,x=s.next())null!==(x=p(a,x.value,c))&&(l=o(x,l,g),null===u?d=x:u.sibling=x,u=x);return ua&&aa(a,g),d}for(h=r(h);!x.done;g++,x=s.next())null!==(x=m(h,a,g,x.value,c))&&(e&&null!==x.alternate&&h.delete(null===x.key?g:x.key),l=o(x,l,g),null===u?d=x:u.sibling=x,u=x);return e&&h.forEach(function(e){return t(a,e)}),ua&&aa(a,g),d}(s,c,d=v.call(d),u)}if("function"===typeof d.then)return x(s,c,co(d),u);if(d.$$typeof===j)return x(s,c,Oa(s,d),u);po(s,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(n(s,c.sibling),(u=a(c,d)).return=s,s=u):(n(s,c),(u=Hr(d,s.mode,u)).return=s,s=u),l(s)):n(s,c)}return function(e,t,n,r){try{so=0;var a=x(e,t,n,r);return lo=null,a}catch(i){if(i===$a||i===Za)throw i;var o=Dr(29,i,null,e.mode);return o.lanes=r,o.return=e,o}}}var mo=fo(!0),ho=fo(!1),go=!1;function bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function yo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Lr(e),Pr(e,null,n),t}return Ar(e,r,t,n),Lr(e)}function jo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}function wo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var So=!1;function ko(){if(So){if(null!==Ha)throw Ha}}function No(e,t,n,r){So=!1;var a=e.updateQueue;go=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var s=l,c=s.next;s.next=null,null===i?o=c:i.next=c,i=s;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=s))}if(null!==o){var u=a.baseState;for(i=0,d=c=s=null,l=o;;){var p=-536870913&l.lane,m=p!==l.lane;if(m?(gc&p)===p:(r&p)===p){0!==p&&p===qa&&(So=!0),null!==d&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var h=e,g=l;p=t;var b=n;switch(g.tag){case 1:if("function"===typeof(h=g.payload)){u=h.call(b,u,p);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=g.payload)?h.call(b,u,p):h)||void 0===p)break e;u=f({},u,p);break e;case 2:go=!0}}null!==(p=l.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=a.callbacks)?a.callbacks=[p]:m.push(p))}else m={lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=m,s=u):d=d.next=m,i|=p;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(m=l).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}null===d&&(s=u),a.baseState=s,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null===o&&(a.shared.lanes=0),kc|=i,e.lanes=i,e.memoizedState=u}}function Co(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function Eo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Co(n[e],t)}var _o=B(null),zo=B(0);function To(e,t){M(zo,e=wc),M(_o,t),wc=e|t.baseLanes}function Ao(){M(zo,wc),M(_o,_o.current)}function Ro(){wc=zo.current,W(_o),W(zo)}var Oo=B(null),Po=null;function Lo(e){var t=e.alternate;M(Wo,1&Wo.current),M(Oo,e),null===Po&&(null===t||null!==_o.current||null!==t.memoizedState)&&(Po=e)}function Io(e){M(Wo,Wo.current),M(Oo,e),null===Po&&(Po=e)}function Fo(e){22===e.tag?(M(Wo,Wo.current),M(Oo,e),null===Po&&(Po=e)):Do()}function Do(){M(Wo,Wo.current),M(Oo,Oo.current)}function Bo(e){W(Oo),Po===e&&(Po=null),W(Wo)}var Wo=B(0);function Mo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Au(n)||Ru(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=0,qo=null,Ho=null,Vo=null,Qo=!1,Go=!1,Xo=!1,Ko=0,Yo=0,$o=null,Jo=0;function Zo(){throw Error(i(321))}function ei(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function ti(e,t,n,r,a,o){return Uo=o,qo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=null===e||null===e.memoizedState?gl:bl,Xo=!1,o=n(r,a),Xo=!1,Go&&(o=ri(t,n,r,a)),ni(e),o}function ni(e){P.H=hl;var t=null!==Ho&&null!==Ho.next;if(Uo=0,Vo=Ho=qo=null,Qo=!1,Yo=0,$o=null,t)throw Error(i(300));null===e||Ol||null!==(e=e.dependencies)&&Ta(e)&&(Ol=!0)}function ri(e,t,n,r){qo=e;var a=0;do{if(Go&&($o=null),Yo=0,Go=!1,25<=a)throw Error(i(301));if(a+=1,Vo=Ho=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}P.H=xl,o=t(n,r)}while(Go);return o}function ai(){var e=P.H,t=e.useState()[0];return t="function"===typeof t.then?di(t):t,e=e.useState()[0],(null!==Ho?Ho.memoizedState:null)!==e&&(qo.flags|=1024),t}function oi(){var e=0!==Ko;return Ko=0,e}function ii(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function li(e){if(Qo){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Qo=!1}Uo=0,Vo=Ho=qo=null,Go=!1,Yo=Ko=0,$o=null}function si(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vo?qo.memoizedState=Vo=e:Vo=Vo.next=e,Vo}function ci(){if(null===Ho){var e=qo.alternate;e=null!==e?e.memoizedState:null}else e=Ho.next;var t=null===Vo?qo.memoizedState:Vo.next;if(null!==t)Vo=t,Ho=e;else{if(null===e){if(null===qo.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Ho=e).memoizedState,baseState:Ho.baseState,baseQueue:Ho.baseQueue,queue:Ho.queue,next:null},null===Vo?qo.memoizedState=Vo=e:Vo=Vo.next=e}return Vo}function di(e){var t=Yo;return Yo+=1,null===$o&&($o=[]),e=no($o,e,t),t=qo,null===(null===Vo?t.memoizedState:Vo.next)&&(t=t.alternate,P.H=null===t||null===t.memoizedState?gl:bl),e}function ui(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return di(e);if(e.$$typeof===j)return Ra(e)}throw Error(i(438,String(e)))}function pi(e){var t=null,n=qo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=qo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},qo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=_;return t.index++,n}function fi(e,t){return"function"===typeof t?t(e):t}function mi(e){return hi(ci(),Ho,e)}function hi(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(null!==o){if(null!==a){var l=a.next;a.next=o.next,o.next=l}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,null===a)e.memoizedState=o;else{var s=l=null,c=null,d=t=a.next,u=!1;do{var p=-536870913&d.lane;if(p!==d.lane?(gc&p)===p:(Uo&p)===p){var f=d.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),p===qa&&(u=!0);else{if((Uo&f)===f){d=d.next,f===qa&&(u=!0);continue}p={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(s=c=p,l=o):c=c.next=p,qo.lanes|=f,kc|=f}p=d.action,Xo&&n(o,p),o=d.hasEagerState?d.eagerState:n(o,p)}else f={lane:p,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(s=c=f,l=o):c=c.next=f,qo.lanes|=p,kc|=p;d=d.next}while(null!==d&&d!==t);if(null===c?l=o:c.next=s,!Jn(o,e.memoizedState)&&(Ol=!0,u&&null!==(n=Ha)))throw n;e.memoizedState=o,e.baseState=l,e.baseQueue=c,r.lastRenderedState=o}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function gi(e){var t=ci(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var l=a=a.next;do{o=e(o,l.action),l=l.next}while(l!==a);Jn(o,t.memoizedState)||(Ol=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function bi(e,t,n){var r=qo,a=ci(),o=ua;if(o){if(void 0===n)throw Error(i(407));n=n()}else n=t();var l=!Jn((Ho||a).memoizedState,n);if(l&&(a.memoizedState=n,Ol=!0),a=a.queue,Ui(yi.bind(null,r,a,e),[e]),a.getSnapshot!==t||l||null!==Vo&&1&Vo.memoizedState.tag){if(r.flags|=2048,Fi(9,{destroy:void 0},vi.bind(null,r,a,n,t),null),null===mc)throw Error(i(349));o||0!==(127&Uo)||xi(r,t,n)}return n}function xi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=qo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function vi(e,t,n,r){t.value=n,t.getSnapshot=r,ji(t)&&wi(e)}function yi(e,t,n){return n(function(){ji(t)&&wi(e)})}function ji(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function wi(e){var t=Or(e,2);null!==t&&Xc(t,e,2)}function Si(e){var t=si();if("function"===typeof e){var n=e;if(e=n(),Xo){ve(!0);try{n()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e},t}function ki(e,t,n,r){return e.baseState=n,hi(e,Ho,"function"===typeof r?r:fi)}function Ni(e,t,n,r,a){if(pl(e))throw Error(i(485));if(null!==(e=t.action)){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==P.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,Ci(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Ci(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var o=P.T,i={};P.T=i;try{var l=n(a,r),s=P.S;null!==s&&s(i,l),Ei(e,t,l)}catch(c){zi(e,t,c)}finally{null!==o&&null!==i.types&&(o.types=i.types),P.T=o}}else try{Ei(e,t,o=n(a,r))}catch(d){zi(e,t,d)}}function Ei(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){_i(e,t,n)},function(n){return zi(e,t,n)}):_i(e,t,n)}function _i(e,t,n){t.status="fulfilled",t.value=n,Ti(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ci(e,n)))}function zi(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ti(t),t=t.next}while(t!==r)}e.action=null}function Ti(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ai(e,t){return t}function Ri(e,t){if(ua){var n=mc.formState;if(null!==n){e:{var r=qo;if(ua){if(da){t:{for(var a=da,o=fa;8!==a.nodeType;){if(!o){a=null;break t}if(null===(a=Ou(a.nextSibling))){a=null;break t}}a="F!"===(o=a.data)||"F"===o?a:null}if(a){da=Ou(a.nextSibling),r="F!"===a.data;break e}}ha(r)}r=!1}r&&(t=n[0])}}return(n=si()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},n.queue=r,n=cl.bind(null,qo,r),r.dispatch=n,r=Si(!1),o=ul.bind(null,qo,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=si()).queue=a,n=Ni.bind(null,qo,a,o,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Oi(e){return Pi(ci(),Ho,e)}function Pi(e,t,n){if(t=hi(e,t,Ai)[0],e=mi(fi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=di(t)}catch(i){if(i===$a)throw Za;throw i}else r=t;var a=(t=ci()).queue,o=a.dispatch;return n!==t.memoizedState&&(qo.flags|=2048,Fi(9,{destroy:void 0},Li.bind(null,a,n),null)),[r,o,e]}function Li(e,t){e.action=t}function Ii(e){var t=ci(),n=Ho;if(null!==n)return Pi(t,n,e);ci(),t=t.memoizedState;var r=(n=ci()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Fi(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=qo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Di(){return ci().memoizedState}function Bi(e,t,n,r){var a=si();qo.flags|=e,a.memoizedState=Fi(1|t,{destroy:void 0},n,void 0===r?null:r)}function Wi(e,t,n,r){var a=ci();r=void 0===r?null:r;var o=a.memoizedState.inst;null!==Ho&&null!==r&&ei(r,Ho.memoizedState.deps)?a.memoizedState=Fi(t,o,n,r):(qo.flags|=e,a.memoizedState=Fi(1|t,o,n,r))}function Mi(e,t){Bi(8390656,8,e,t)}function Ui(e,t){Wi(2048,8,e,t)}function qi(e){var t=ci().memoizedState;return function(e){qo.flags|=4;var t=qo.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},qo.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fc))throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Hi(e,t){return Wi(4,2,e,t)}function Vi(e,t){return Wi(4,4,e,t)}function Qi(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Gi(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Wi(4,4,Qi.bind(null,t,e),n)}function Xi(){}function Ki(e,t){var n=ci();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ei(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yi(e,t){var n=ci();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ei(t,r[1]))return r[0];if(r=e(),Xo){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r}function $i(e,t,n){return void 0===n||0!==(1073741824&Uo)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=n,e=Gc(),qo.lanes|=e,kc|=e,n)}function Ji(e,t,n,r){return Jn(n,t)?n:null!==_o.current?(e=$i(e,n,r),Jn(e,t)||(Ol=!0),e):0===(42&Uo)||0!==(1073741824&Uo)&&0===(261930&gc)?(Ol=!0,e.memoizedState=n):(e=Gc(),qo.lanes|=e,kc|=e,t)}function Zi(e,t,n,r,a){var o=L.p;L.p=0!==o&&8>o?o:8;var i=P.T,l={};P.T=l,ul(e,!1,t,n);try{var s=a(),c=P.S;if(null!==c&&c(l,s),null!==s&&"object"===typeof s&&"function"===typeof s.then)dl(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(s,r),Qc());else dl(e,t,r,Qc())}catch(d){dl(e,t,{then:function(){},status:"rejected",reason:d},Qc())}finally{L.p=o,null!==i&&null!==l.types&&(i.types=l.types),P.T=i}}function el(){}function tl(e,t,n,r){if(5!==e.tag)throw Error(i(476));var a=nl(e).queue;Zi(e,a,t,I,null===n?el:function(){return rl(e),n(r)})}function nl(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:I},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function rl(e){var t=nl(e);null===t.next&&(t=e.alternate.memoizedState),dl(e,t.next.queue,{},Qc())}function al(){return Ra(dp)}function ol(){return ci().memoizedState}function il(){return ci().memoizedState}function ll(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Qc(),r=yo(t,e=vo(n),n);return null!==r&&(Xc(r,t,n),jo(r,t,n)),t={cache:Ba()},void(e.payload=t)}t=t.return}}function sl(e,t,n){var r=Qc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},pl(e)?fl(t,n):null!==(n=Rr(e,t,n,r))&&(Xc(n,e,r),ml(n,t,r))}function cl(e,t,n){dl(e,t,n,Qc())}function dl(e,t,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(pl(e))fl(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=o(i,n);if(a.hasEagerState=!0,a.eagerState=l,Jn(l,i))return Ar(e,t,a,0),null===mc&&Tr(),!1}catch(s){}if(null!==(n=Rr(e,t,a,r)))return Xc(n,e,r),ml(n,t,r),!0}return!1}function ul(e,t,n,r){if(r={lane:2,revertLane:Ud(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},pl(e)){if(t)throw Error(i(479))}else null!==(t=Rr(e,n,r,2))&&Xc(t,e,2)}function pl(e){var t=e.alternate;return e===qo||null!==t&&t===qo}function fl(e,t){Go=Qo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ml(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}var hl={readContext:Ra,use:ui,useCallback:Zo,useContext:Zo,useEffect:Zo,useImperativeHandle:Zo,useLayoutEffect:Zo,useInsertionEffect:Zo,useMemo:Zo,useReducer:Zo,useRef:Zo,useState:Zo,useDebugValue:Zo,useDeferredValue:Zo,useTransition:Zo,useSyncExternalStore:Zo,useId:Zo,useHostTransitionStatus:Zo,useFormState:Zo,useActionState:Zo,useOptimistic:Zo,useMemoCache:Zo,useCacheRefresh:Zo};hl.useEffectEvent=Zo;var gl={readContext:Ra,use:ui,useCallback:function(e,t){return si().memoizedState=[e,void 0===t?null:t],e},useContext:Ra,useEffect:Mi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Bi(4194308,4,Qi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bi(4194308,4,e,t)},useInsertionEffect:function(e,t){Bi(4,2,e,t)},useMemo:function(e,t){var n=si();t=void 0===t?null:t;var r=e();if(Xo){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=si();if(void 0!==n){var a=n(t);if(Xo){ve(!0);try{n(t)}finally{ve(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=sl.bind(null,qo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},si().memoizedState=e},useState:function(e){var t=(e=Si(e)).queue,n=cl.bind(null,qo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Xi,useDeferredValue:function(e,t){return $i(si(),e,t)},useTransition:function(){var e=Si(!1);return e=Zi.bind(null,qo,e.queue,!0,!1),si().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=qo,a=si();if(ua){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===mc)throw Error(i(349));0!==(127&gc)||xi(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Mi(yi.bind(null,r,o,e),[e]),r.flags|=2048,Fi(9,{destroy:void 0},vi.bind(null,r,o,n,t),null),n},useId:function(){var e=si(),t=mc.identifierPrefix;if(ua){var n=ra;t="_"+t+"R_"+(n=(na&~(1<<32-ye(na)-1)).toString(32)+n),0<(n=Ko++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Jo++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:al,useFormState:Ri,useActionState:Ri,useOptimistic:function(e){var t=si();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ul.bind(null,qo,!0,n),n.dispatch=t,[e,t]},useMemoCache:pi,useCacheRefresh:function(){return si().memoizedState=ll.bind(null,qo)},useEffectEvent:function(e){var t=si(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fc))throw Error(i(440));return n.impl.apply(void 0,arguments)}}},bl={readContext:Ra,use:ui,useCallback:Ki,useContext:Ra,useEffect:Ui,useImperativeHandle:Gi,useInsertionEffect:Hi,useLayoutEffect:Vi,useMemo:Yi,useReducer:mi,useRef:Di,useState:function(){return mi(fi)},useDebugValue:Xi,useDeferredValue:function(e,t){return Ji(ci(),Ho.memoizedState,e,t)},useTransition:function(){var e=mi(fi)[0],t=ci().memoizedState;return["boolean"===typeof e?e:di(e),t]},useSyncExternalStore:bi,useId:ol,useHostTransitionStatus:al,useFormState:Oi,useActionState:Oi,useOptimistic:function(e,t){return ki(ci(),0,e,t)},useMemoCache:pi,useCacheRefresh:il};bl.useEffectEvent=qi;var xl={readContext:Ra,use:ui,useCallback:Ki,useContext:Ra,useEffect:Ui,useImperativeHandle:Gi,useInsertionEffect:Hi,useLayoutEffect:Vi,useMemo:Yi,useReducer:gi,useRef:Di,useState:function(){return gi(fi)},useDebugValue:Xi,useDeferredValue:function(e,t){var n=ci();return null===Ho?$i(n,e,t):Ji(n,Ho.memoizedState,e,t)},useTransition:function(){var e=gi(fi)[0],t=ci().memoizedState;return["boolean"===typeof e?e:di(e),t]},useSyncExternalStore:bi,useId:ol,useHostTransitionStatus:al,useFormState:Ii,useActionState:Ii,useOptimistic:function(e,t){var n=ci();return null!==Ho?ki(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:pi,useCacheRefresh:il};function vl(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}xl.useEffectEvent=qi;var yl={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qc(),a=vo(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=yo(e,a,r))&&(Xc(t,e,r),jo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qc(),a=vo(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=yo(e,a,r))&&(Xc(t,e,r),jo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qc(),r=vo(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=yo(e,r,n))&&(Xc(t,e,n),jo(t,e,n))}};function jl(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(a,o))}function wl(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yl.enqueueReplaceState(t,t.state,null)}function Sl(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=f({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}function kl(e){Cr(e)}function Nl(e){console.error(e)}function Cl(e){Cr(e)}function El(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function _l(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function zl(e,t,n){return(n=vo(n)).tag=3,n.payload={element:null},n.callback=function(){El(e,t)},n}function Tl(e){return(e=vo(e)).tag=3,e}function Al(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var o=r.value;e.payload=function(){return a(o)},e.callback=function(){_l(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){_l(t,n,r),"function"!==typeof a&&(null===Ic?Ic=new Set([this]):Ic.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Rl=Error(i(461)),Ol=!1;function Pl(e,t,n,r){t.child=null===e?ho(t,null,n,r):mo(t,e.child,n,r)}function Ll(e,t,n,r,a){n=n.render;var o=t.ref;if("ref"in r){var i={};for(var l in r)"ref"!==l&&(i[l]=r[l])}else i=r;return Aa(t),r=ti(e,t,n,i,o,a),l=oi(),null===e||Ol?(ua&&l&&ia(t),t.flags|=1,Pl(e,t,r,a),t.child):(ii(e,t,a),as(e,t,a))}function Il(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Br(o)||void 0!==o.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Fl(e,t,o,r,a))}if(o=e.child,!os(e,a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(i,r)&&e.ref===t.ref)return as(e,t,a)}return t.flags|=1,(e=Wr(o,r)).ref=t.ref,e.return=t,t.child=e}function Fl(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(Zn(o,r)&&e.ref===t.ref){if(Ol=!1,t.pendingProps=r=o,!os(e,a))return t.lanes=e.lanes,as(e,t,a);0!==(131072&e.flags)&&(Ol=!0)}}return Hl(e,t,n,r,a)}function Dl(e,t,n,r){var a=r.children,o=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(o=null!==o?o.baseLanes|n:n,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~o}else r=0,t.child=null;return Wl(e,t,o,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Wl(e,t,null!==o?o.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ka(0,null!==o?o.cachePool:null),null!==o?To(t,o):Ao(),Fo(t)}else null!==o?(Ka(0,o.cachePool),To(t,o),Do(),t.memoizedState=null):(null!==e&&Ka(0,null),Ao(),Do());return Pl(e,t,a,n),t.child}function Bl(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Wl(e,t,n,r,a){var o=Xa();return o=null===o?null:{parent:Da._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Ka(0,null),Ao(),Fo(t),null!==e&&za(e,t,r,!0),t.childLanes=a,null}function Ml(e,t){return(t=Zl({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ul(e,t,n){return mo(t,e.child,null,n),(e=Ml(t,t.pendingProps)).flags|=2,Bo(t),t.memoizedState=null,e}function ql(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Hl(e,t,n,r,a){return Aa(t),n=ti(e,t,n,r,void 0,a),r=oi(),null===e||Ol?(ua&&r&&ia(t),t.flags|=1,Pl(e,t,n,a),t.child):(ii(e,t,a),as(e,t,a))}function Vl(e,t,n,r,a,o){return Aa(t),t.updateQueue=null,n=ri(t,r,n,a),ni(e),r=oi(),null===e||Ol?(ua&&r&&ia(t),t.flags|=1,Pl(e,t,n,o),t.child):(ii(e,t,o),as(e,t,o))}function Ql(e,t,n,r,a){if(Aa(t),null===t.stateNode){var o=Ir,i=n.contextType;"object"===typeof i&&null!==i&&(o=Ra(i)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=yl,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},bo(t),i=n.contextType,o.context="object"===typeof i&&null!==i?Ra(i):Ir,o.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(vl(t,n,i,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(i=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),i!==o.state&&yl.enqueueReplaceState(o,o.state,null),No(t,r,o,a),ko(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var l=t.memoizedProps,s=Sl(n,l);o.props=s;var c=o.context,d=n.contextType;i=Ir,"object"===typeof d&&null!==d&&(i=Ra(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate,l=t.pendingProps!==l,d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(l||c!==i)&&wl(t,o,r,i),go=!1;var p=t.memoizedState;o.state=p,No(t,r,o,a),ko(),c=t.memoizedState,l||p!==c||go?("function"===typeof u&&(vl(t,n,u,r),c=t.memoizedState),(s=go||jl(t,n,s,r,p,c,i))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=i,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,xo(e,t),d=Sl(n,i=t.memoizedProps),o.props=d,u=t.pendingProps,p=o.context,c=n.contextType,s=Ir,"object"===typeof c&&null!==c&&(s=Ra(c)),(c="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==u||p!==s)&&wl(t,o,r,s),go=!1,p=t.memoizedState,o.state=p,No(t,r,o,a),ko();var f=t.memoizedState;i!==u||p!==f||go||null!==e&&null!==e.dependencies&&Ta(e.dependencies)?("function"===typeof l&&(vl(t,n,l,r),f=t.memoizedState),(d=go||jl(t,n,d,r,p,f,s)||null!==e&&null!==e.dependencies&&Ta(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=s,r=d):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,ql(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=mo(t,e.child,null,a),t.child=mo(t,null,n,a)):Pl(e,t,n,a),t.memoizedState=o.state,e=t.child):e=as(e,t,a),e}function Gl(e,t,n,r){return va(),t.flags|=256,Pl(e,t,n,r),t.child}var Xl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kl(e){return{baseLanes:e,cachePool:Ya()}}function Yl(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ec),e}function $l(e,t,n){var r,a=t.pendingProps,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Wo.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ua){if(o?Lo(t):Do(),(e=da)?null!==(e=null!==(e=Tu(e,fa))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},(n=Vr(e)).return=t,t.child=n,ca=t,da=null):e=null,null===e)throw ha(t);return Ru(e)?t.lanes=32:t.lanes=536870912,null}var s=a.children;return a=a.fallback,o?(Do(),s=Zl({mode:"hidden",children:s},o=t.mode),a=qr(a,o,n,null),s.return=t,a.return=t,s.sibling=a,t.child=s,(a=t.child).memoizedState=Kl(n),a.childLanes=Yl(e,r,n),t.memoizedState=Xl,Bl(null,a)):(Lo(t),Jl(t,s))}var c=e.memoizedState;if(null!==c&&null!==(s=c.dehydrated)){if(l)256&t.flags?(Lo(t),t.flags&=-257,t=es(e,t,n)):null!==t.memoizedState?(Do(),t.child=e.child,t.flags|=128,t=null):(Do(),s=a.fallback,o=t.mode,a=Zl({mode:"visible",children:a.children},o),(s=qr(s,o,n,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,mo(t,e.child,null,n),(a=t.child).memoizedState=Kl(n),a.childLanes=Yl(e,r,n),t.memoizedState=Xl,t=Bl(null,a));else if(Lo(t),Ru(s)){if(r=s.nextSibling&&s.nextSibling.dataset)var d=r.dgst;r=d,(a=Error(i(419))).stack="",a.digest=r,ja({value:a,source:null,stack:null}),t=es(e,t,n)}else if(Ol||za(e,t,n,!1),r=0!==(n&e.childLanes),Ol||r){if(null!==(r=mc)&&(0!==(a=Le(r,n))&&a!==c.retryLane))throw c.retryLane=a,Or(e,a),Xc(r,e,a),Rl;Au(s)||id(),t=es(e,t,n)}else Au(s)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,da=Ou(s.nextSibling),ca=t,ua=!0,pa=null,fa=!1,null!==e&&sa(t,e),(t=Jl(t,a.children)).flags|=4096);return t}return o?(Do(),s=a.fallback,o=t.mode,d=(c=e.child).sibling,(a=Wr(c,{mode:"hidden",children:a.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?s=Wr(d,s):(s=qr(s,o,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,Bl(null,a),a=t.child,null===(s=e.child.memoizedState)?s=Kl(n):(null!==(o=s.cachePool)?(c=Da._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=Ya(),s={baseLanes:s.baseLanes|n,cachePool:o}),a.memoizedState=s,a.childLanes=Yl(e,r,n),t.memoizedState=Xl,Bl(e.child,a)):(Lo(t),e=(n=e.child).sibling,(n=Wr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Jl(e,t){return(t=Zl({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zl(e,t){return(e=Dr(22,e,null,t)).lanes=0,e}function es(e,t,n){return mo(t,e.child,null,n),(e=Jl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ts(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function ns(e,t,n,r,a,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a,i.treeForkCount=o)}function rs(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;r=r.children;var i=Wo.current,l=0!==(2&i);if(l?(i=1&i|2,t.flags|=128):i&=1,M(Wo,i),Pl(e,t,r,n),r=ua?Jr:0,!l&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ts(e,n,t);else if(19===e.tag)ts(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Mo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ns(t,!1,a,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Mo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ns(t,!0,n,null,o,r);break;case"together":ns(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),kc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(za(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Wr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function os(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ta(e))}function is(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ol=!0;else{if(!os(e,n)&&0===(128&t.flags))return Ol=!1,function(e,t,n){switch(t.tag){case 3:X(t,t.stateNode.containerInfo),Na(0,Da,e.memoizedState.cache),va();break;case 27:case 5:Y(t);break;case 4:X(t,t.stateNode.containerInfo);break;case 10:Na(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Io(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Lo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?$l(e,t,n):(Lo(t),null!==(e=as(e,t,n))?e.sibling:null);Lo(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(za(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return rs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),M(Wo,Wo.current),r)break;return null;case 22:return t.lanes=0,Dl(e,t,n,t.pendingProps);case 24:Na(0,Da,e.memoizedState.cache)}return as(e,t,n)}(e,t,n);Ol=0!==(131072&e.flags)}else Ol=!1,ua&&0!==(1048576&t.flags)&&oa(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ro(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var a=e.$$typeof;if(a===w){t.tag=11,t=Ll(null,t,e,r,n);break e}if(a===N){t.tag=14,t=Il(null,t,e,r,n);break e}}throw t=R(e)||e,Error(i(306,t,""))}Br(e)?(r=Sl(e,r),t.tag=1,t=Ql(null,t,e,r,n)):(t.tag=0,t=Hl(null,t,e,r,n))}return t;case 0:return Hl(e,t,t.type,t.pendingProps,n);case 1:return Ql(e,t,r=t.type,a=Sl(r,t.pendingProps),n);case 3:e:{if(X(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,xo(e,t),No(t,r,null,n);var l=t.memoizedState;if(r=l.cache,Na(0,Da,r),r!==o.cache&&_a(t,[Da],n,!0),ko(),r=l.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Gl(e,t,r,n);break e}if(r!==a){ja(a=Xr(Error(i(424)),t)),t=Gl(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(da=Ou(e.firstChild),ca=t,ua=!0,pa=null,fa=!0,n=ho(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(va(),r===a){t=as(e,t,n);break e}Pl(e,t,r,n)}t=t.child}return t;case 26:return ql(e,t),null===e?(n=Vu(t.type,null,t.pendingProps,null))?t.memoizedState=n:ua||(n=t.type,e=t.pendingProps,(r=gu(Q.current).createElement(n))[Me]=t,r[Ue]=e,pu(r,n,e),et(r),t.stateNode=r):t.memoizedState=Vu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&ua&&(r=t.stateNode=Fu(t.type,t.pendingProps,Q.current),ca=t,fa=!0,a=da,Cu(t.type)?(Pu=a,da=Ou(r.firstChild)):da=a),Pl(e,t,t.pendingProps.children,n),ql(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ua&&((a=r=da)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Xe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===o)return e}if(null===(e=Ou(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fa))?(t.stateNode=r,ca=t,da=Ou(r.firstChild),fa=!1,a=!0):a=!1),a||ha(t)),Y(t),a=t.type,o=t.pendingProps,l=null!==e?e.memoizedProps:null,r=o.children,vu(a,o)?r=null:null!==l&&vu(a,l)&&(t.flags|=32),null!==t.memoizedState&&(a=ti(e,t,ai,null,null,n),dp._currentValue=a),ql(e,t),Pl(e,t,r,n),t.child;case 6:return null===e&&ua&&((e=n=da)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Ou(e.nextSibling)))return null}return e}(n,t.pendingProps,fa))?(t.stateNode=n,ca=t,da=null,e=!0):e=!1),e||ha(t)),null;case 13:return $l(e,t,n);case 4:return X(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=mo(t,null,r,n):Pl(e,t,r,n),t.child;case 11:return Ll(e,t,t.type,t.pendingProps,n);case 7:return Pl(e,t,t.pendingProps,n),t.child;case 8:case 12:return Pl(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Na(0,t.type,r.value),Pl(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Aa(t),r=r(a=Ra(a)),t.flags|=1,Pl(e,t,r,n),t.child;case 14:return Il(e,t,t.type,t.pendingProps,n);case 15:return Fl(e,t,t.type,t.pendingProps,n);case 19:return rs(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,a=0!==(128&t.flags);if(t.flags&=-129,null===e){if(ua){if("hidden"===r.mode)return e=Ml(t,r),t.lanes=536870912,Bl(null,e);if(Io(t),(e=da)?null!==(e=null!==(e=Tu(e,fa))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},(n=Vr(e)).return=t,t.child=n,ca=t,da=null):e=null,null===e)throw ha(t);return t.lanes=536870912,null}return Ml(t,r)}var o=e.memoizedState;if(null!==o){var l=o.dehydrated;if(Io(t),a)if(256&t.flags)t.flags&=-257,t=Ul(e,t,n);else{if(null===t.memoizedState)throw Error(i(558));t.child=e.child,t.flags|=128,t=null}else if(Ol||za(e,t,n,!1),a=0!==(n&e.childLanes),Ol||a){if(null!==(r=mc)&&0!==(l=Le(r,n))&&l!==o.retryLane)throw o.retryLane=l,Or(e,l),Xc(r,e,l),Rl;id(),t=Ul(e,t,n)}else e=o.treeContext,da=Ou(l.nextSibling),ca=t,ua=!0,pa=null,fa=!1,null!==e&&sa(t,e),(t=Ml(t,r)).flags|=4096;return t}return(e=Wr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Dl(e,t,n,t.pendingProps);case 24:return Aa(t),r=Ra(Da),null===e?(null===(a=Xa())&&(a=mc,o=Ba(),a.pooledCache=o,o.refCount++,null!==o&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},bo(t),Na(0,Da,a)):(0!==(e.lanes&n)&&(xo(e,t),No(t,null,null,n),ko()),a=e.memoizedState,o=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),Na(0,Da,r)):(r=o.cache,Na(0,Da,r),r!==a.cache&&_a(t,[Da],n,!0))),Pl(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ls(e){e.flags|=4}function ss(e,t,n,r,a){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&a)===a)if(e.stateNode.complete)e.flags|=8192;else{if(!rd())throw ao=eo,Ja;e.flags|=8192}}else e.flags&=-16777217}function cs(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ap(t)){if(!rd())throw ao=eo,Ja;e.flags|=8192}}function ds(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Te():536870912,e.lanes|=t,_c|=t)}function us(e,t){if(!ua)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ps(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fs(e,t,n){var r=t.pendingProps;switch(la(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ps(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ca(Da),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(xa(t)?ls(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ya())),ps(t),null;case 26:var a=t.type,o=t.memoizedState;return null===e?(ls(t),null!==o?(ps(t),cs(t,o)):(ps(t),ss(t,a,0,0,n))):o?o!==e.memoizedState?(ls(t),ps(t),cs(t,o)):(ps(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ls(t),ps(t),ss(t,a,0,0,n)),null;case 27:if($(t),n=Q.current,a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ls(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return ps(t),null}e=H.current,xa(t)?ga(t):(e=Fu(a,r,n),t.stateNode=e,ls(t))}return ps(t),null;case 5:if($(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ls(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return ps(t),null}if(o=H.current,xa(t))ga(t);else{var l=gu(Q.current);switch(o){case 1:o=l.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:o=l.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":o=l.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":o=l.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(o=l.createElement("div")).innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o="string"===typeof r.is?l.createElement("select",{is:r.is}):l.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o="string"===typeof r.is?l.createElement(a,{is:r.is}):l.createElement(a)}}o[Me]=t,o[Ue]=r;e:for(l=t.child;null!==l;){if(5===l.tag||6===l.tag)o.appendChild(l.stateNode);else if(4!==l.tag&&27!==l.tag&&null!==l.child){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;null===l.sibling;){if(null===l.return||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=o;e:switch(pu(o,a,r),a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ls(t)}}return ps(t),ss(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ls(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=Q.current,xa(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ca))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Me]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||cu(e.nodeValue,n)))||ha(t,!0)}else(e=gu(e).createTextNode(r))[Me]=t,t.stateNode=e}return ps(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=xa(t),null!==n){if(null===e){if(!r)throw Error(i(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(i(557));e[Me]=t}else va(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ps(t),e=!1}else n=ya(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Bo(t),t):(Bo(t),null);if(0!==(128&t.flags))throw Error(i(558))}return ps(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=xa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[Me]=t}else va(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ps(t),a=!1}else a=ya(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(Bo(t),t):(Bo(t),null)}return Bo(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool),o=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ds(t,t.updateQueue),ps(t),null);case 4:return K(),null===e&&Zd(t.stateNode.containerInfo),ps(t),null;case 10:return Ca(t.type),ps(t),null;case 19:if(W(Wo),null===(r=t.memoizedState))return ps(t),null;if(a=0!==(128&t.flags),null===(o=r.rendering))if(a)us(r,!1);else{if(0!==Sc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=Mo(e))){for(t.flags|=128,us(r,!1),e=o.updateQueue,t.updateQueue=e,ds(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Mr(n,e),n=n.sibling;return M(Wo,1&Wo.current|2),ua&&aa(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&se()>Pc&&(t.flags|=128,a=!0,us(r,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Mo(o))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,ds(t,e),us(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!ua)return ps(t),null}else 2*se()-r.renderingStartTime>Pc&&536870912!==n&&(t.flags|=128,a=!0,us(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=se(),e.sibling=null,n=Wo.current,M(Wo,a?1&n|2:1&n),ua&&aa(t,r.treeForkCount),e):(ps(t),null);case 22:case 23:return Bo(t),Ro(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(ps(t),6&t.subtreeFlags&&(t.flags|=8192)):ps(t),null!==(n=t.updateQueue)&&ds(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&W(Ga),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ca(Da),ps(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function ms(e,t){switch(la(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ca(Da),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 31:if(null!==t.memoizedState){if(Bo(t),null===t.alternate)throw Error(i(340));va()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Bo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));va()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return W(Wo),null;case 4:return K(),null;case 10:return Ca(t.type),null;case 22:case 23:return Bo(t),Ro(),null!==e&&W(Ga),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ca(Da),null;default:return null}}function hs(e,t){switch(la(t),t.tag){case 3:Ca(Da),K();break;case 26:case 27:case 5:$(t);break;case 4:K();break;case 31:null!==t.memoizedState&&Bo(t);break;case 13:Bo(t);break;case 19:W(Wo);break;case 10:Ca(t.type);break;case 22:case 23:Bo(t),Ro(),null!==e&&W(Ga);break;case 24:Ca(Da)}}function gs(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var o=n.create,i=n.inst;r=o(),i.destroy=r}n=n.next}while(n!==a)}}catch(l){Sd(t,t.return,l)}}function bs(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var o=a.next;r=o;do{if((r.tag&e)===e){var i=r.inst,l=i.destroy;if(void 0!==l){i.destroy=void 0,a=t;var s=n,c=l;try{c()}catch(d){Sd(a,s,d)}}}r=r.next}while(r!==o)}}catch(d){Sd(t,t.return,d)}}function xs(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Eo(t,n)}catch(r){Sd(e,e.return,r)}}}function vs(e,t,n){n.props=Sl(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Sd(e,t,r)}}function ys(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){Sd(e,t,a)}}function js(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){Sd(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){Sd(e,t,o)}else n.current=null}function ws(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Sd(e,e.return,a)}}function Ss(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,l=null,s=null,c=null,d=null,u=null;for(m in n){var p=n[m];if(n.hasOwnProperty(m)&&null!=p)switch(m){case"checked":case"value":break;case"defaultValue":c=p;default:r.hasOwnProperty(m)||du(e,t,m,null,r,p)}}for(var f in r){var m=r[f];if(p=n[f],r.hasOwnProperty(f)&&(null!=m||null!=p))switch(f){case"type":o=m;break;case"name":a=m;break;case"checked":d=m;break;case"defaultChecked":u=m;break;case"value":l=m;break;case"defaultValue":s=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(i(137,t));break;default:m!==p&&du(e,t,f,m,r,p)}}return void xt(e,l,s,c,d,u,o,a);case"select":for(o in m=l=s=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(o)||du(e,t,o,null,r,c)}for(a in r)if(o=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=o||null!=c))switch(a){case"value":f=o;break;case"defaultValue":s=o;break;case"multiple":l=o;default:o!==c&&du(e,t,a,o,r,c)}return t=s,n=l,r=m,void(null!=f?jt(e,!!n,f,!1):!!r!==!!n&&(null!=t?jt(e,!!n,t,!0):jt(e,!!n,n?[]:"",!1)));case"textarea":for(s in m=f=null,n)if(a=n[s],n.hasOwnProperty(s)&&null!=a&&!r.hasOwnProperty(s))switch(s){case"value":case"children":break;default:du(e,t,s,null,r,a)}for(l in r)if(a=r[l],o=n[l],r.hasOwnProperty(l)&&(null!=a||null!=o))switch(l){case"value":f=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(i(91));break;default:a!==o&&du(e,t,l,a,r,o)}return void wt(e,f,m);case"option":for(var h in n)if(f=n[h],n.hasOwnProperty(h)&&null!=f&&!r.hasOwnProperty(h))if("selected"===h)e.selected=!1;else du(e,t,h,null,r,f);for(c in r)if(f=r[c],m=n[c],r.hasOwnProperty(c)&&f!==m&&(null!=f||null!=m))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else du(e,t,c,f,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&du(e,t,g,null,r,f);for(d in r)if(f=r[d],m=n[d],r.hasOwnProperty(d)&&f!==m&&(null!=f||null!=m))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:du(e,t,d,f,r,m)}return;default:if(_t(t)){for(var b in n)f=n[b],n.hasOwnProperty(b)&&void 0!==f&&!r.hasOwnProperty(b)&&uu(e,t,b,void 0,r,f);for(u in r)f=r[u],m=n[u],!r.hasOwnProperty(u)||f===m||void 0===f&&void 0===m||uu(e,t,u,f,r,m);return}}for(var x in n)f=n[x],n.hasOwnProperty(x)&&null!=f&&!r.hasOwnProperty(x)&&du(e,t,x,null,r,f);for(p in r)f=r[p],m=n[p],!r.hasOwnProperty(p)||f===m||null==f&&null==m||du(e,t,p,f,r,m)}(r,e.type,n,t),r[Ue]=t}catch(a){Sd(e,e.return,a)}}function ks(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Cu(e.type)||4===e.tag}function Ns(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ks(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Cu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Rt));else if(4!==r&&(27===r&&Cu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Cs(e,t,n),e=e.sibling;null!==e;)Cs(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Cu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function _s(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);pu(t,r,n),t[Me]=e,t[Ue]=n}catch(o){Sd(e,e.return,o)}}var zs=!1,Ts=!1,As=!1,Rs="function"===typeof WeakSet?WeakSet:Set,Os=null;function Ps(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Xs(e,n),4&r&&gs(5,n);break;case 1:if(Xs(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){Sd(n,n.return,i)}else{var a=Sl(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){Sd(n,n.return,l)}}64&r&&xs(n),512&r&&ys(n,n.return);break;case 3:if(Xs(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Eo(e,t)}catch(i){Sd(n,n.return,i)}}break;case 27:null===t&&4&r&&_s(n);case 26:case 5:Xs(e,n),null===t&&4&r&&ws(n),512&r&&ys(n,n.return);break;case 12:Xs(e,n);break;case 31:Xs(e,n),4&r&&Ws(e,n);break;case 13:Xs(e,n),4&r&&Ms(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Ed.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||zs)){t=null!==t&&null!==t.memoizedState||Ts,a=zs;var o=Ts;zs=r,(Ts=t)&&!o?Ys(e,n,0!==(8772&n.subtreeFlags)):Xs(e,n),zs=a,Ts=o}break;case 30:break;default:Xs(e,n)}}function Ls(e){var t=e.alternate;null!==t&&(e.alternate=null,Ls(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ke(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Is=null,Fs=!1;function Ds(e,t,n){for(n=n.child;null!==n;)Bs(e,t,n),n=n.sibling}function Bs(e,t,n){if(xe&&"function"===typeof xe.onCommitFiberUnmount)try{xe.onCommitFiberUnmount(be,n)}catch(o){}switch(n.tag){case 26:Ts||js(n,t),Ds(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Ts||js(n,t);var r=Is,a=Fs;Cu(n.type)&&(Is=n.stateNode,Fs=!1),Ds(e,t,n),Du(n.stateNode),Is=r,Fs=a;break;case 5:Ts||js(n,t);case 6:if(r=Is,a=Fs,Is=null,Ds(e,t,n),Fs=a,null!==(Is=r))if(Fs)try{(9===Is.nodeType?Is.body:"HTML"===Is.nodeName?Is.ownerDocument.body:Is).removeChild(n.stateNode)}catch(i){Sd(n,t,i)}else try{Is.removeChild(n.stateNode)}catch(i){Sd(n,t,i)}break;case 18:null!==Is&&(Fs?(Eu(9===(e=Is).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Hp(e)):Eu(Is,n.stateNode));break;case 4:r=Is,a=Fs,Is=n.stateNode.containerInfo,Fs=!0,Ds(e,t,n),Is=r,Fs=a;break;case 0:case 11:case 14:case 15:bs(2,n,t),Ts||bs(4,n,t),Ds(e,t,n);break;case 1:Ts||(js(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&vs(n,t,r)),Ds(e,t,n);break;case 21:Ds(e,t,n);break;case 22:Ts=(r=Ts)||null!==n.memoizedState,Ds(e,t,n),Ts=r;break;default:Ds(e,t,n)}}function Ws(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Hp(e)}catch(n){Sd(t,t.return,n)}}}function Ms(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Hp(e)}catch(n){Sd(t,t.return,n)}}function Us(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Rs),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Rs),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=_d.bind(null,e,t);t.then(r,r)}})}function qs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],o=e,l=t,s=l;e:for(;null!==s;){switch(s.tag){case 27:if(Cu(s.type)){Is=s.stateNode,Fs=!1;break e}break;case 5:Is=s.stateNode,Fs=!1;break e;case 3:case 4:Is=s.stateNode.containerInfo,Fs=!0;break e}s=s.return}if(null===Is)throw Error(i(160));Bs(o,l,a),Is=null,Fs=!1,null!==(o=a.alternate)&&(o.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Vs(t,e),t=t.sibling}var Hs=null;function Vs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qs(t,e),Qs(e),4&r&&(bs(3,e,e.return),gs(3,e),bs(5,e,e.return));break;case 1:qs(t,e),Qs(e),512&r&&(Ts||null===n||js(n,n.return)),64&r&&zs&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Hs;if(qs(t,e),Qs(e),512&r&&(Ts||null===n||js(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(o=a.getElementsByTagName("title")[0])||o[Xe]||o[Me]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector("head > title"))),pu(o,r,n),o[Me]=e,et(o),r=o;break e;case"link":var l=np("link","href",a).get(r+(n.href||""));if(l)for(var s=0;s<l.length;s++)if((o=l[s]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){l.splice(s,1);break t}pu(o=a.createElement(r),r,n),a.head.appendChild(o);break;case"meta":if(l=np("meta","content",a).get(r+(n.content||"")))for(s=0;s<l.length;s++)if((o=l[s]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){l.splice(s,1);break t}pu(o=a.createElement(r),r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[Me]=e,et(o),r=o}e.stateNode=r}else rp(a,e.type,e.stateNode);else e.stateNode=$u(a,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?rp(a,e.type,e.stateNode):$u(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Ss(e,e.memoizedProps,n.memoizedProps)}break;case 27:qs(t,e),Qs(e),512&r&&(Ts||null===n||js(n,n.return)),null!==n&&4&r&&Ss(e,e.memoizedProps,n.memoizedProps);break;case 5:if(qs(t,e),Qs(e),512&r&&(Ts||null===n||js(n,n.return)),32&e.flags){a=e.stateNode;try{kt(a,"")}catch(h){Sd(e,e.return,h)}}4&r&&null!=e.stateNode&&Ss(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(As=!0);break;case 6:if(qs(t,e),Qs(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(h){Sd(e,e.return,h)}}break;case 3:if(tp=null,a=Hs,Hs=Mu(t.containerInfo),qs(t,e),Hs=a,Qs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Hp(t.containerInfo)}catch(h){Sd(e,e.return,h)}As&&(As=!1,Gs(e));break;case 4:r=Hs,Hs=Mu(e.stateNode.containerInfo),qs(t,e),Qs(e),Hs=r;break;case 12:default:qs(t,e),Qs(e);break;case 31:case 19:qs(t,e),Qs(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Us(e,r)));break;case 13:qs(t,e),Qs(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Rc=se()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Us(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=zs,u=Ts;if(zs=d||a,Ts=u||c,qs(t,e),Ts=u,zs=d,Qs(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||zs||Ts||Ks(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,a)"function"===typeof(l=o.style).setProperty?l.setProperty("display","none","important"):l.display="none";else{s=c.stateNode;var p=c.memoizedProps.style,f=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;s.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(h){Sd(c,c.return,h)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(h){Sd(c,c.return,h)}}}else if(18===t.tag){if(null===n){c=t;try{var m=c.stateNode;a?_u(m,!0):_u(c.stateNode,!1)}catch(h){Sd(c,c.return,h)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Us(e,n))));case 30:case 21:}}function Qs(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(ks(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;Es(e,Ns(e),a);break;case 5:var o=n.stateNode;32&n.flags&&(kt(o,""),n.flags&=-33),Es(e,Ns(e),o);break;case 3:case 4:var l=n.stateNode.containerInfo;Cs(e,Ns(e),l);break;default:throw Error(i(161))}}catch(s){Sd(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gs(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gs(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Xs(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ps(e,t.alternate,t),t=t.sibling}function Ks(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:bs(4,t,t.return),Ks(t);break;case 1:js(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&vs(t,t.return,n),Ks(t);break;case 27:Du(t.stateNode);case 26:case 5:js(t,t.return),Ks(t);break;case 22:null===t.memoizedState&&Ks(t);break;default:Ks(t)}e=e.sibling}}function Ys(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,o=t,i=o.flags;switch(o.tag){case 0:case 11:case 15:Ys(a,o,n),gs(4,o);break;case 1:if(Ys(a,o,n),"function"===typeof(a=(r=o).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){Sd(r,r.return,c)}if(null!==(a=(r=o).updateQueue)){var l=r.stateNode;try{var s=a.shared.hiddenCallbacks;if(null!==s)for(a.shared.hiddenCallbacks=null,a=0;a<s.length;a++)Co(s[a],l)}catch(c){Sd(r,r.return,c)}}n&&64&i&&xs(o),ys(o,o.return);break;case 27:_s(o);case 26:case 5:Ys(a,o,n),n&&null===r&&4&i&&ws(o),ys(o,o.return);break;case 12:Ys(a,o,n);break;case 31:Ys(a,o,n),n&&4&i&&Ws(a,o);break;case 13:Ys(a,o,n),n&&4&i&&Ms(a,o);break;case 22:null===o.memoizedState&&Ys(a,o,n),ys(o,o.return);break;case 30:break;default:Ys(a,o,n)}t=t.sibling}}function $s(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Wa(n))}function Js(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Wa(e))}function Zs(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,r),t=t.sibling}function ec(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Zs(e,t,n,r),2048&a&&gs(9,t);break;case 1:case 31:case 13:default:Zs(e,t,n,r);break;case 3:Zs(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Wa(e)));break;case 12:if(2048&a){Zs(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,i=o.id,l=o.onPostCommit;"function"===typeof l&&l(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(s){Sd(t,t.return,s)}}else Zs(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,i=t.alternate,null!==t.memoizedState?2&o._visibility?Zs(e,t,n,r):nc(e,t):2&o._visibility?Zs(e,t,n,r):(o._visibility|=2,tc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&a&&$s(i,t);break;case 24:Zs(e,t,n,r),2048&a&&Js(t.alternate,t)}}function tc(e,t,n,r,a){for(a=a&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var o=e,i=t,l=n,s=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:tc(o,i,l,s,a),gs(8,i);break;case 23:break;case 22:var d=i.stateNode;null!==i.memoizedState?2&d._visibility?tc(o,i,l,s,a):nc(o,i):(d._visibility|=2,tc(o,i,l,s,a)),a&&2048&c&&$s(i.alternate,i);break;case 24:tc(o,i,l,s,a),a&&2048&c&&Js(i.alternate,i);break;default:tc(o,i,l,s,a)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:nc(n,r),2048&a&&$s(r.alternate,r);break;case 24:nc(n,r),2048&a&&Js(r.alternate,r);break;default:nc(n,r)}t=t.sibling}}var rc=8192;function ac(e,t,n){if(e.subtreeFlags&rc)for(e=e.child;null!==e;)oc(e,t,n),e=e.sibling}function oc(e,t,n){switch(e.tag){case 26:ac(e,t,n),e.flags&rc&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var a=Qu(r.href),o=t.querySelector(Gu(a));if(o)return null!==(t=o._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ip.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,void et(o);o=t.ownerDocument||t,r=Xu(r),(a=Bu.get(a))&&Zu(r,a),et(o=o.createElement("link"));var i=o;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),pu(o,"link",r),n.instance=o}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=ip.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Hs,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,n);break;case 3:case 4:var r=Hs;Hs=Mu(e.stateNode.containerInfo),ac(e,t,n),Hs=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rc,rc=16777216,ac(e,t,n),rc=r):ac(e,t,n))}}function ic(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Os=r,dc(r,e)}ic(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)sc(e),e=e.sibling}function sc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&bs(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):lc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Os=r,dc(r,e)}ic(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:bs(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function dc(e,t){for(;null!==Os;){var n=Os;switch(n.tag){case 0:case 11:case 15:bs(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Wa(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Os=r;else e:for(n=e;null!==Os;){var a=(r=Os).sibling,o=r.return;if(Ls(r),r===n){Os=null;break e}if(null!==a){a.return=o,Os=a;break e}Os=o}}}var uc={getCacheForType:function(e){var t=Ra(Da),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ra(Da).controller.signal}},pc="function"===typeof WeakMap?WeakMap:Map,fc=0,mc=null,hc=null,gc=0,bc=0,xc=null,vc=!1,yc=!1,jc=!1,wc=0,Sc=0,kc=0,Nc=0,Cc=0,Ec=0,_c=0,zc=null,Tc=null,Ac=!1,Rc=0,Oc=0,Pc=1/0,Lc=null,Ic=null,Fc=0,Dc=null,Bc=null,Wc=0,Mc=0,Uc=null,qc=null,Hc=0,Vc=null;function Qc(){return 0!==(2&fc)&&0!==gc?gc&-gc:null!==P.T?Ud():De()}function Gc(){if(0===Ec)if(0===(536870912&gc)||ua){var e=ke;0===(3932160&(ke<<=1))&&(ke=262144),Ec=e}else Ec=536870912;return null!==(e=Oo.current)&&(e.flags|=32),Ec}function Xc(e,t,n){(e!==mc||2!==bc&&9!==bc)&&null===e.cancelPendingCommit||(td(e,0),Jc(e,gc,Ec,!1)),Re(e,n),0!==(2&fc)&&e===mc||(e===mc&&(0===(2&fc)&&(Nc|=n),4===Sc&&Jc(e,gc,Ec,!1)),Ld(e))}function Kc(e,t,n){if(0!==(6&fc))throw Error(i(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||_e(e,t),a=r?function(e,t){var n=fc;fc|=2;var r=ad(),a=od();mc!==e||gc!==t?(Lc=null,Pc=se()+500,td(e,t)):yc=_e(e,t);e:for(;;)try{if(0!==bc&&null!==hc){t=hc;var o=xc;t:switch(bc){case 1:bc=0,xc=null,pd(e,t,o,1);break;case 2:case 9:if(to(o)){bc=0,xc=null,ud(t);break}t=function(){2!==bc&&9!==bc||mc!==e||(bc=7),Ld(e)},o.then(t,t);break e;case 3:bc=7;break e;case 4:bc=5;break e;case 7:to(o)?(bc=0,xc=null,ud(t)):(bc=0,xc=null,pd(e,t,o,7));break;case 5:var l=null;switch(hc.tag){case 26:l=hc.memoizedState;case 5:case 27:var s=hc;if(l?ap(l):s.stateNode.complete){bc=0,xc=null;var c=s.sibling;if(null!==c)hc=c;else{var d=s.return;null!==d?(hc=d,fd(d)):hc=null}break t}}bc=0,xc=null,pd(e,t,o,5);break;case 6:bc=0,xc=null,pd(e,t,o,6);break;case 8:ed(),Sc=6;break e;default:throw Error(i(462))}}cd();break}catch(u){nd(e,u)}return ka=Sa=null,P.H=r,P.A=a,fc=n,null!==hc?0:(mc=null,gc=0,Tr(),Sc)}(e,t):ld(e,t,!0),o=r;;){if(0===a){yc&&!r&&Jc(e,t,0,!1);break}if(n=e.current.alternate,!o||$c(n)){if(2===a){if(o=t,e.errorRecoveryDisabledLanes&o)var l=0;else l=0!==(l=-536870913&e.pendingLanes)?l:536870912&l?536870912:0;if(0!==l){t=l;e:{var s=e;a=zc;var c=s.current.memoizedState.isDehydrated;if(c&&(td(s,l).flags|=256),2!==(l=ld(s,l,!1))){if(jc&&!c){s.errorRecoveryDisabledLanes|=o,Nc|=o,a=4;break e}o=Tc,Tc=a,null!==o&&(null===Tc?Tc=o:Tc.push.apply(Tc,o))}a=l}if(o=!1,2!==a)continue}}if(1===a){td(e,0),Jc(e,t,0,!0);break}e:{switch(r=e,o=a){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Jc(r,t,Ec,!vc);break e;case 2:Tc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(a=Rc+300-se())){if(Jc(r,t,Ec,!vc),0!==Ee(r,0,!0))break e;Wc=t,r.timeoutHandle=ju(Yc.bind(null,r,n,Tc,Lc,Ac,t,Ec,Nc,_c,vc,o,"Throttled",-0,0),a)}else Yc(r,n,Tc,Lc,Ac,t,Ec,Nc,_c,vc,o,null,-0,0)}break}a=ld(e,t,!1),o=!1}Ld(e)}function Yc(e,t,n,r,a,o,i,l,s,c,d,u,p,f){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||16785408===(16785408&u)){oc(t,o,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt});var m=(62914560&o)===o?Rc-se():(4194048&o)===o?Oc-se():0;if(null!==(m=function(e,t){return e.stylesheets&&0===e.count&&sp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&sp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===op&&(op=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],o=a.transferSize,i=a.initiatorType,l=a.duration;if(o&&l&&fu(i)){for(i=0,l=a.responseEnd,r+=1;r<n.length;r++){var s=n[r],c=s.startTime;if(c>l)break;var d=s.transferSize,u=s.initiatorType;d&&fu(u)&&(i+=d*((s=s.responseEnd)<l?1:(l-c)/(s-c)))}if(--r,t+=8*(o+i)/(a.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var a=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&sp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>op?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}(u,m)))return Wc=o,e.cancelPendingCommit=m(hd.bind(null,e,t,o,n,r,a,i,l,s,d,u,null,p,f)),void Jc(e,o,i,!c)}hd(e,t,o,n,r,a,i,l,s)}function $c(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!Jn(o(),a))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jc(e,t,n,r){t&=~Cc,t&=~Nc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var o=31-ye(a),i=1<<o;r[o]=-1,a&=~i}0!==n&&Oe(e,n,t)}function Zc(){return 0!==(6&fc)||(Id(0,!1),!1)}function ed(){if(null!==hc){if(0===bc)var e=hc.return;else ka=Sa=null,li(e=hc),lo=null,so=0,e=hc;for(;null!==e;)hs(e.alternate,e),e=e.return;hc=null}}function td(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,wu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wc=0,ed(),mc=e,hc=n=Wr(e.current,null),gc=t,bc=0,xc=null,vc=!1,yc=_e(e,t),jc=!1,_c=Ec=Cc=Nc=kc=Sc=0,Tc=zc=null,Ac=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-ye(r),o=1<<a;t|=e[a],r&=~o}return wc=t,Tr(),n}function nd(e,t){qo=null,P.H=hl,t===$a||t===Za?(t=oo(),bc=3):t===Ja?(t=oo(),bc=4):bc=t===Rl?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,xc=t,null===hc&&(Sc=1,El(e,Xr(t,e.current)))}function rd(){var e=Oo.current;return null===e||((4194048&gc)===gc?null===Po:((62914560&gc)===gc||0!==(536870912&gc))&&e===Po)}function ad(){var e=P.H;return P.H=hl,null===e?hl:e}function od(){var e=P.A;return P.A=uc,e}function id(){Sc=4,vc||(4194048&gc)!==gc&&null!==Oo.current||(yc=!0),0===(134217727&kc)&&0===(134217727&Nc)||null===mc||Jc(mc,gc,Ec,!1)}function ld(e,t,n){var r=fc;fc|=2;var a=ad(),o=od();mc===e&&gc===t||(Lc=null,td(e,t)),t=!1;var i=Sc;e:for(;;)try{if(0!==bc&&null!==hc){var l=hc,s=xc;switch(bc){case 8:ed(),i=6;break e;case 3:case 2:case 9:case 6:null===Oo.current&&(t=!0);var c=bc;if(bc=0,xc=null,pd(e,l,s,c),n&&yc){i=0;break e}break;default:c=bc,bc=0,xc=null,pd(e,l,s,c)}}sd(),i=Sc;break}catch(d){nd(e,d)}return t&&e.shellSuspendCounter++,ka=Sa=null,fc=r,P.H=a,P.A=o,null===hc&&(mc=null,gc=0,Tr()),i}function sd(){for(;null!==hc;)dd(hc)}function cd(){for(;null!==hc&&!ie();)dd(hc)}function dd(e){var t=is(e.alternate,e,wc);e.memoizedProps=e.pendingProps,null===t?fd(e):hc=t}function ud(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Vl(n,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Vl(n,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:li(t);default:hs(n,t),t=is(n,t=hc=Mr(t,wc),wc)}e.memoizedProps=e.pendingProps,null===t?fd(e):hc=t}function pd(e,t,n,r){ka=Sa=null,li(t),lo=null,so=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&za(t,n,a,!0),null!==(n=Oo.current)){switch(n.tag){case 31:case 13:return null===Po?id():null===n.alternate&&0===Sc&&(Sc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===eo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),kd(e,r,a)),!1;case 22:return n.flags|=65536,r===eo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),kd(e,r,a)),!1}throw Error(i(435,n.tag))}return kd(e,r,a),id(),!1}if(ua)return null!==(t=Oo.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==ma&&ja(Xr(e=Error(i(422),{cause:r}),n))):(r!==ma&&ja(Xr(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Xr(r,n),wo(e,a=zl(e.stateNode,r,a)),4!==Sc&&(Sc=2)),!1;var o=Error(i(520),{cause:r});if(o=Xr(o,n),null===zc?zc=[o]:zc.push(o),4!==Sc&&(Sc=2),null===t)return!0;r=Xr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,wo(n,e=zl(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Ic||!Ic.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,Al(a=Tl(a),e,n,r),wo(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,gc))return Sc=1,El(e,Xr(n,e.current)),void(hc=null)}catch(o){if(null!==a)throw hc=a,o;return Sc=1,El(e,Xr(n,e.current)),void(hc=null)}32768&t.flags?(ua||1===r?e=!0:yc||0!==(536870912&gc)?e=!1:(vc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Oo.current)&&13===r.tag&&(r.flags|=16384))),md(t,e)):fd(t)}function fd(e){var t=e;do{if(0!==(32768&t.flags))return void md(t,vc);e=t.return;var n=fs(t.alternate,t,wc);if(null!==n)return void(hc=n);if(null!==(t=t.sibling))return void(hc=t);hc=t=e}while(null!==t);0===Sc&&(Sc=5)}function md(e,t){do{var n=ms(e.alternate,e);if(null!==n)return n.flags&=32767,void(hc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(hc=e);hc=e=n}while(null!==e);Sc=6,hc=null}function hd(e,t,n,r,a,o,l,s,c){e.cancelPendingCommit=null;do{yd()}while(0!==Fc);if(0!==(6&fc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,a,o){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,s=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var d=31-ye(n),u=1<<d;l[d]=0,s[d]=-1;var p=c[d];if(null!==p)for(c[d]=null,d=0;d<p.length;d++){var f=p[d];null!==f&&(f.lane&=-536870913)}n&=~u}0!==r&&Oe(e,r,0),0!==o&&0===a&&0!==e.tag&&(e.suspendedLanes|=o&~(i&~t))}(e,n,o|=zr,l,s,c),e===mc&&(hc=mc=null,gc=0),Bc=t,Dc=e,Wc=n,Mc=o,Uc=a,qc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ae(pe,function(){return jd(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=P.T,P.T=null,a=L.p,L.p=2,l=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,mu=vp,ar(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var l=0,s=-1,c=-1,d=0,u=0,p=e,f=null;t:for(;;){for(var m;p!==n||0!==a&&3!==p.nodeType||(s=l+a),p!==o||0!==r&&3!==p.nodeType||(c=l+r),3===p.nodeType&&(l+=p.nodeValue.length),null!==(m=p.firstChild);)f=p,p=m;for(;;){if(p===e)break t;if(f===n&&++d===a&&(s=l),f===o&&++u===r&&(c=l),null!==(m=p.nextSibling))break;f=(p=f).parentNode}p=m}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(hu={focusedElem:e,selectionRange:n},vp=!1,Os=t;null!==Os;)if(e=(t=Os).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Os=e;else for(;null!==Os;){switch(o=(t=Os).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(a=e[n]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=Sl(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(b){Sd(n,n.return,b)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))zu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Os=e;break}Os=t.return}}(e,t)}finally{fc=l,L.p=a,P.T=r}}Fc=1,gd(),bd(),xd()}}function gd(){if(1===Fc){Fc=0;var e=Dc,t=Bc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=P.T,P.T=null;var r=L.p;L.p=2;var a=fc;fc|=4;try{Vs(t,e);var o=hu,i=rr(e.containerInfo),l=o.focusedElem,s=o.selectionRange;if(i!==l&&l&&l.ownerDocument&&nr(l.ownerDocument.documentElement,l)){if(null!==s&&ar(l)){var c=s.start,d=s.end;if(void 0===d&&(d=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(d,l.value.length);else{var u=l.ownerDocument||document,p=u&&u.defaultView||window;if(p.getSelection){var f=p.getSelection(),m=l.textContent.length,h=Math.min(s.start,m),g=void 0===s.end?h:Math.min(s.end,m);!f.extend&&h>g&&(i=g,g=h,h=i);var b=tr(l,h),x=tr(l,g);if(b&&x&&(1!==f.rangeCount||f.anchorNode!==b.node||f.anchorOffset!==b.offset||f.focusNode!==x.node||f.focusOffset!==x.offset)){var v=u.createRange();v.setStart(b.node,b.offset),f.removeAllRanges(),h>g?(f.addRange(v),f.extend(x.node,x.offset)):(v.setEnd(x.node,x.offset),f.addRange(v))}}}}for(u=[],f=l;f=f.parentNode;)1===f.nodeType&&u.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof l.focus&&l.focus(),l=0;l<u.length;l++){var y=u[l];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}vp=!!mu,hu=mu=null}finally{fc=a,L.p=r,P.T=n}}e.current=t,Fc=2}}function bd(){if(2===Fc){Fc=0;var e=Dc,t=Bc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=P.T,P.T=null;var r=L.p;L.p=2;var a=fc;fc|=4;try{Ps(e,t.alternate,t)}finally{fc=a,L.p=r,P.T=n}}Fc=3}}function xd(){if(4===Fc||3===Fc){Fc=0,le();var e=Dc,t=Bc,n=Wc,r=qc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Fc=5:(Fc=0,Bc=Dc=null,vd(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Ic=null),Fe(n),t=t.stateNode,xe&&"function"===typeof xe.onCommitFiberRoot)try{xe.onCommitFiberRoot(be,t,void 0,128===(128&t.current.flags))}catch(s){}if(null!==r){t=P.T,a=L.p,L.p=2,P.T=null;try{for(var o=e.onRecoverableError,i=0;i<r.length;i++){var l=r[i];o(l.value,{componentStack:l.stack})}}finally{P.T=t,L.p=a}}0!==(3&Wc)&&yd(),Ld(e),a=e.pendingLanes,0!==(261930&n)&&0!==(42&a)?e===Vc?Hc++:(Hc=0,Vc=e):Hc=0,Id(0,!1)}}function vd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Wa(t)))}function yd(){return gd(),bd(),xd(),jd()}function jd(){if(5!==Fc)return!1;var e=Dc,t=Mc;Mc=0;var n=Fe(Wc),r=P.T,a=L.p;try{L.p=32>n?32:n,P.T=null,n=Uc,Uc=null;var o=Dc,l=Wc;if(Fc=0,Bc=Dc=null,Wc=0,0!==(6&fc))throw Error(i(331));var s=fc;if(fc|=4,sc(o.current),ec(o,o.current,l,n),fc=s,Id(0,!1),xe&&"function"===typeof xe.onPostCommitFiberRoot)try{xe.onPostCommitFiberRoot(be,o)}catch(c){}return!0}finally{L.p=a,P.T=r,vd(e,t)}}function wd(e,t,n){t=Xr(n,t),null!==(e=yo(e,t=zl(e.stateNode,t,2),2))&&(Re(e,2),Ld(e))}function Sd(e,t,n){if(3===e.tag)wd(e,e,n);else for(;null!==t;){if(3===t.tag){wd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ic||!Ic.has(r))){e=Xr(n,e),null!==(r=yo(t,n=Tl(2),2))&&(Al(n,r,t,e),Re(r,2),Ld(r));break}}t=t.return}}function kd(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(jc=!0,a.add(n),e=Nd.bind(null,e,t,n),t.then(e,e))}function Nd(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(gc&n)===n&&(4===Sc||3===Sc&&(62914560&gc)===gc&&300>se()-Rc?0===(2&fc)&&td(e,0):Cc|=n,_c===gc&&(_c=0)),Ld(e)}function Cd(e,t){0===t&&(t=Te()),null!==(e=Or(e,t))&&(Re(e,t),Ld(e))}function Ed(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cd(e,n)}function _d(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cd(e,n)}var zd=null,Td=null,Ad=!1,Rd=!1,Od=!1,Pd=0;function Ld(e){e!==Td&&null===e.next&&(null===Td?zd=Td=e:Td=Td.next=e),Rd=!0,Ad||(Ad=!0,ku(function(){0!==(6&fc)?ae(de,Fd):Dd()}))}function Id(e,t){if(!Od&&Rd){Od=!0;do{for(var n=!1,r=zd;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var o=0;else{var i=r.suspendedLanes,l=r.pingedLanes;o=(1<<31-ye(42|e)+1)-1,o=201326741&(o&=a&~(i&~l))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Md(r,o))}else o=gc,0===(3&(o=Ee(r,r===mc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||_e(r,o)||(n=!0,Md(r,o));r=r.next}}while(n);Od=!1}}function Fd(){Dd()}function Dd(){Rd=Ad=!1;var e=0;0!==Pd&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==yu&&(yu=e,!0);return yu=null,!1}()&&(e=Pd);for(var t=se(),n=null,r=zd;null!==r;){var a=r.next,o=Bd(r,t);0===o?(r.next=null,null===n?zd=a:n.next=a,null===a&&(Td=n)):(n=r,(0!==e||0!==(3&o))&&(Rd=!0)),r=a}0!==Fc&&5!==Fc||Id(e,!1),0!==Pd&&(Pd=0)}function Bd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var i=31-ye(o),l=1<<i,s=a[i];-1===s?0!==(l&n)&&0===(l&r)||(a[i]=ze(l,t)):s<=t&&(e.expiredLanes|=l),o&=~l}if(n=gc,n=Ee(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===bc||9===bc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&oe(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||_e(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&oe(r),Fe(n)){case 2:case 8:n=ue;break;case 32:default:n=pe;break;case 268435456:n=me}return r=Wd.bind(null,e),n=ae(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&oe(r),e.callbackPriority=2,e.callbackNode=null,2}function Wd(e,t){if(0!==Fc&&5!==Fc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(yd()&&e.callbackNode!==n)return null;var r=gc;return 0===(r=Ee(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Kc(e,r,t),Bd(e,se()),null!=e.callbackNode&&e.callbackNode===n?Wd.bind(null,e):null)}function Md(e,t){if(yd())return null;Kc(e,t,!0)}function Ud(){if(0===Pd){var e=qa;0===e&&(e=Se,0===(261888&(Se<<=1))&&(Se=256)),Pd=e}return Pd}function qd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Hd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Vd=0;Vd<kr.length;Vd++){var Qd=kr[Vd];Nr(Qd.toLowerCase(),"on"+(Qd[0].toUpperCase()+Qd.slice(1)))}Nr(gr,"onAnimationEnd"),Nr(br,"onAnimationIteration"),Nr(xr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(vr,"onTransitionRun"),Nr(yr,"onTransitionStart"),Nr(jr,"onTransitionCancel"),Nr(wr,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gd));function Kd(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],s=l.instance,c=l.currentTarget;if(l=l.listener,s!==o&&a.isPropagationStopped())break e;o=l,a.currentTarget=c;try{o(a)}catch(d){Cr(d)}a.currentTarget=null,o=s}else for(i=0;i<r.length;i++){if(s=(l=r[i]).instance,c=l.currentTarget,l=l.listener,s!==o&&a.isPropagationStopped())break e;o=l,a.currentTarget=c;try{o(a)}catch(d){Cr(d)}a.currentTarget=null,o=s}}}}function Yd(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(eu(t,e,2,!1),n.add(r))}function $d(e,t,n){var r=0;t&&(r|=4),eu(n,e,r,t)}var Jd="_reactListening"+Math.random().toString(36).slice(2);function Zd(e){if(!e[Jd]){e[Jd]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Xd.has(t)||$d(t,!1,e),$d(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Jd]||(t[Jd]=!0,$d("selectionchange",!1,t))}}function eu(e,t,n,r){switch(Cp(t)){case 2:var a=yp;break;case 8:a=jp;break;default:a=wp}n=a.bind(null,t,n,e),a=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function tu(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===a)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===a)return;i=i.return}for(;null!==l;){if(null===(i=Ye(l)))return;if(5===(c=i.tag)||6===c||26===c||27===c){r=o=i;continue e}l=l.parentNode}}r=r.return}Bt(function(){var r=o,a=Pt(n),i=[];e:{var l=Sr.get(e);if(void 0!==l){var c=nn,d=e;switch(e){case"keypress":if(0===Xt(n))break e;case"keydown":case"keyup":c=xn;break;case"focusin":d="focus",c=cn;break;case"focusout":d="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case gr:case br:case xr:c=dn;break;case wr:c=jn;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=vn;break;case"toggle":case"beforetoggle":c=Sn}var u=0!==(4&t),p=!u&&("scroll"===e||"scrollend"===e),f=u?null!==l?l+"Capture":null:l;u=[];for(var m,h=r;null!==h;){var g=h;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===f||null!=(g=Wt(h,f))&&u.push(nu(h,g,m)),p)break;h=h.return}0<u.length&&(l=new c(l,d,null,n,a),i.push({event:l,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Ot||!(d=n.relatedTarget||n.fromElement)||!Ye(d)&&!d[qe])&&(c||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(d=(d=n.relatedTarget||n.toElement)?Ye(d):null)&&(p=s(d),u=d.tag,d!==p||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=r),c!==d)){if(u=ln,g="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=vn,g="onPointerLeave",f="onPointerEnter",h="pointer"),p=null==c?l:Je(c),m=null==d?l:Je(d),(l=new u(g,h+"leave",c,n,a)).target=p,l.relatedTarget=m,g=null,Ye(a)===r&&((u=new u(f,h+"enter",d,n,a)).target=m,u.relatedTarget=p,g=u),p=g,c&&d)e:{for(u=au,h=d,m=0,g=f=c;g;g=u(g))m++;g=0;for(var b=h;b;b=u(b))g++;for(;0<m-g;)f=u(f),m--;for(;0<g-m;)h=u(h),g--;for(;m--;){if(f===h||null!==h&&f===h.alternate){u=f;break e}f=u(f),h=u(h)}u=null}else u=null;null!==c&&ou(i,l,c,u,!1),null!==d&&null!==p&&ou(i,p,d,u,!0)}if("select"===(c=(l=r?Je(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var x=Mn;else if(Ln(l))if(Un)x=$n;else{x=Kn;var v=Xn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&_t(r.elementType)&&(x=Mn):x=Yn;switch(x&&(x=x(e,r))?In(i,x,n,a):(v&&v(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&yt(l,"number",l.value)),v=r?Je(r):window,e){case"focusin":(Ln(v)||"true"===v.contentEditable)&&(ir=v,lr=r,sr=null);break;case"focusout":sr=lr=ir=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,dr(i,n,a);break;case"selectionchange":if(or)break;case"keydown":case"keyup":dr(i,n,a)}var y;if(Nn)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else On?An(e,n)&&(j="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(j="onCompositionStart");j&&(_n&&"ko"!==n.locale&&(On||"onCompositionStart"!==j?"onCompositionEnd"===j&&On&&(y=Gt()):(Vt="value"in(Ht=a)?Ht.value:Ht.textContent,On=!0)),0<(v=ru(r,j)).length&&(j=new pn(j,e,null,n,a),i.push({event:j,listeners:v}),y?j.data=y:null!==(y=Rn(n))&&(j.data=y))),(y=En?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(Tn=!0,zn);case"textInput":return(e=t.data)===zn&&Tn?null:e;default:return null}}(e,n):function(e,t){if(On)return"compositionend"===e||!Nn&&An(e,t)?(e=Gt(),Qt=Vt=Ht=null,On=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(j=ru(r,"onBeforeInput")).length&&(v=new pn("onBeforeInput","beforeinput",null,n,a),i.push({event:v,listeners:j}),v.data=y)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var o=qd((a[Ue]||null).action),i=r.submitter;i&&null!==(t=(t=i[Ue]||null)?qd(t.formAction):i.getAttribute("formAction"))&&(o=t,i=null);var l=new nn("action","action",null,r,a);e.push({event:l,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Pd){var e=i?Hd(a,i):new FormData(a);tl(n,{pending:!0,data:e,method:a.method,action:o},null,e)}}else"function"===typeof o&&(l.preventDefault(),e=i?Hd(a,i):new FormData(a),tl(n,{pending:!0,data:e,method:a.method,action:o},o,e))},currentTarget:a}]})}}(i,e,r,n,a)}Kd(i,t)})}function nu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ru(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===o||(null!=(a=Wt(e,n))&&r.unshift(nu(e,a,o)),null!=(a=Wt(e,t))&&r.push(nu(e,a,o))),3===e.tag)return r;e=e.return}return[]}function au(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ou(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var l=n,s=l.alternate,c=l.stateNode;if(l=l.tag,null!==s&&s===r)break;5!==l&&26!==l&&27!==l||null===c||(s=c,a?null!=(c=Wt(n,o))&&i.unshift(nu(n,c,s)):a||null!=(c=Wt(n,o))&&i.push(nu(n,c,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var iu=/\r\n?/g,lu=/\u0000|\uFFFD/g;function su(e){return("string"===typeof e?e:""+e).replace(iu,"\n").replace(lu,"")}function cu(e,t){return t=su(t),su(e)===t}function du(e,t,n,r,a,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Et(e,r,o);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&du(e,t,"name",a.name,a,null),du(e,t,"formEncType",a.formEncType,a,null),du(e,t,"formMethod",a.formMethod,a,null),du(e,t,"formTarget",a.formTarget,a,null)):(du(e,t,"encType",a.encType,a,null),du(e,t,"method",a.method,a,null),du(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"onScroll":null!=r&&Yd("scroll",e);break;case"onScrollEnd":null!=r&&Yd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Yd("beforetoggle",e),Yd("toggle",e),st(e,"popover",r);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":st(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&st(e,n=zt.get(n)||n,r)}}function uu(e,t,n,r,a,o){switch(n){case"style":Et(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Yd("scroll",e);break;case"onScrollEnd":null!=r&&Yd("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Ue]||null)?o[n]:null)&&e.removeEventListener(t,o,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):st(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function pu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yd("error",e),Yd("load",e);var r,a=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var l=n[r];if(null!=l)switch(r){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:du(e,t,r,l,n,null)}}return o&&du(e,t,"srcSet",n.srcSet,n,null),void(a&&du(e,t,"src",n.src,n,null));case"input":Yd("invalid",e);var s=r=l=o=null,c=null,d=null;for(a in n)if(n.hasOwnProperty(a)){var u=n[a];if(null!=u)switch(a){case"name":o=u;break;case"type":l=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":r=u;break;case"defaultValue":s=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(i(137,t));break;default:du(e,t,a,u,n,null)}}return void vt(e,r,s,c,d,l,o,!1);case"select":for(o in Yd("invalid",e),a=l=r=null,n)if(n.hasOwnProperty(o)&&null!=(s=n[o]))switch(o){case"value":r=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:du(e,t,o,s,n,null)}return t=r,n=l,e.multiple=!!a,void(null!=t?jt(e,!!a,t,!1):null!=n&&jt(e,!!a,n,!0));case"textarea":for(l in Yd("invalid",e),r=o=a=null,n)if(n.hasOwnProperty(l)&&null!=(s=n[l]))switch(l){case"value":a=s;break;case"defaultValue":o=s;break;case"children":r=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(i(91));break;default:du(e,t,l,s,n,null)}return void St(e,a,o,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else du(e,t,c,a,n,null);return;case"dialog":Yd("beforetoggle",e),Yd("toggle",e),Yd("cancel",e),Yd("close",e);break;case"iframe":case"object":Yd("load",e);break;case"video":case"audio":for(a=0;a<Gd.length;a++)Yd(Gd[a],e);break;case"image":Yd("error",e),Yd("load",e);break;case"details":Yd("toggle",e);break;case"embed":case"source":case"link":Yd("error",e),Yd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(a=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:du(e,t,d,a,n,null)}return;default:if(_t(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(a=n[u])&&uu(e,t,u,a,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(null!=(a=n[s])&&du(e,t,s,a,n,null))}function fu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var mu=null,hu=null;function gu(e){return 9===e.nodeType?e:e.ownerDocument}function bu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function vu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yu=null;var ju="function"===typeof setTimeout?setTimeout:void 0,wu="function"===typeof clearTimeout?clearTimeout:void 0,Su="function"===typeof Promise?Promise:void 0,ku="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Su?function(e){return Su.resolve(null).then(e).catch(Nu)}:ju;function Nu(e){setTimeout(function(){throw e})}function Cu(e){return"head"===e}function Eu(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)||"/&"===n){if(0===r)return e.removeChild(a),void Hp(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Du(e.ownerDocument.documentElement);else if("head"===n){Du(n=e.ownerDocument.head);for(var o=n.firstChild;o;){var i=o.nextSibling,l=o.nodeName;o[Xe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=i}}else"body"===n&&Du(e.ownerDocument.body);n=a}while(n);Hp(t)}function _u(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function zu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":zu(n),Ke(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Tu(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Ou(e.nextSibling)))return null}return e}function Au(e){return"$?"===e.data||"$~"===e.data}function Ru(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Ou(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Pu=null;function Lu(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Ou(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Iu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fu(e,t,n){switch(t=gu(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function Du(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ke(e)}var Bu=new Map,Wu=new Set;function Mu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Uu=L.d;L.d={f:function(){var e=Uu.f(),t=Zc();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?rl(t):Uu.r(e)},D:function(e){Uu.D(e),Hu("dns-prefetch",e,null)},C:function(e,t){Uu.C(e,t),Hu("preconnect",e,t)},L:function(e,t,n){Uu.L(e,t,n);var r=qu;if(r&&e&&t){var a='link[rel="preload"][as="'+bt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+bt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+bt(n.imageSizes)+'"]')):a+='[href="'+bt(e)+'"]';var o=a;switch(t){case"style":o=Qu(e);break;case"script":o=Ku(e)}Bu.has(o)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Bu.set(o,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Gu(o))||"script"===t&&r.querySelector(Yu(o))||(pu(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Uu.m(e,t);var n=qu;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+bt(r)+'"][href="'+bt(e)+'"]',o=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Ku(e)}if(!Bu.has(o)&&(e=f({rel:"modulepreload",href:e},t),Bu.set(o,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yu(o)))return}pu(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Uu.X(e,t);var n=qu;if(n&&e){var r=Ze(n).hoistableScripts,a=Ku(e),o=r.get(a);o||((o=n.querySelector(Yu(a)))||(e=f({src:e,async:!0},t),(t=Bu.get(a))&&ep(e,t),et(o=n.createElement("script")),pu(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}},S:function(e,t,n){Uu.S(e,t,n);var r=qu;if(r&&e){var a=Ze(r).hoistableStyles,o=Qu(e);t=t||"default";var i=a.get(o);if(!i){var l={loading:0,preload:null};if(i=r.querySelector(Gu(o)))l.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Bu.get(o))&&Zu(e,n);var s=i=r.createElement("link");et(s),pu(s,"link",e),s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),s.addEventListener("load",function(){l.loading|=1}),s.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Ju(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:l},a.set(o,i)}}},M:function(e,t){Uu.M(e,t);var n=qu;if(n&&e){var r=Ze(n).hoistableScripts,a=Ku(e),o=r.get(a);o||((o=n.querySelector(Yu(a)))||(e=f({src:e,async:!0,type:"module"},t),(t=Bu.get(a))&&ep(e,t),et(o=n.createElement("script")),pu(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}}};var qu="undefined"===typeof document?null:document;function Hu(e,t,n){var r=qu;if(r&&"string"===typeof t&&t){var a=bt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),Wu.has(a)||(Wu.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(pu(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Vu(e,t,n,r){var a,o,l,s,c=(c=Q.current)?Mu(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Qu(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Qu(n.href);var d=Ze(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Gu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Bu.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Bu.set(e,n),d||(a=c,o=e,l=n,s=u.state,a.querySelector('link[rel="preload"][as="style"]['+o+"]")?s.loading=1:(o=a.createElement("link"),s.preload=o,o.addEventListener("load",function(){return s.loading|=1}),o.addEventListener("error",function(){return s.loading|=2}),pu(o,"link",l),et(o),a.head.appendChild(o))))),t&&null===r)throw Error(i(528,""));return u}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Ku(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Qu(e){return'href="'+bt(e)+'"'}function Gu(e){return'link[rel="stylesheet"]['+e+"]"}function Xu(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Ku(e){return'[src="'+bt(e)+'"]'}function Yu(e){return"script[async]"+e}function $u(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+bt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var a=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),pu(r,"style",a),Ju(r,n.precedence,e),t.instance=r;case"stylesheet":a=Qu(n.href);var o=e.querySelector(Gu(a));if(o)return t.state.loading|=4,t.instance=o,et(o),o;r=Xu(n),(a=Bu.get(a))&&Zu(r,a),et(o=(e.ownerDocument||e).createElement("link"));var l=o;return l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),pu(o,"link",r),t.state.loading|=4,Ju(o,n.precedence,e),t.instance=o;case"script":return o=Ku(n.src),(a=e.querySelector(Yu(o)))?(t.instance=a,et(a),a):(r=n,(a=Bu.get(o))&&ep(r=f({},n),a),et(a=(e=e.ownerDocument||e).createElement("script")),pu(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Ju(r,n.precedence,e));return t.instance}function Ju(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,o=a,i=0;i<r.length;i++){var l=r[i];if(l.dataset.precedence===t)o=l;else if(o!==a)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ep(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tp=null;function np(e,t,n){if(null===tp){var r=new Map,a=tp=new Map;a.set(n,r)}else(r=(a=tp).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var o=n[a];if(!(o[Xe]||o[Me]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var i=o.getAttribute(t)||"";i=e+i;var l=r.get(i);l?l.push(o):r.set(i,[o])}}return r}function rp(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ap(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var op=0;function ip(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)sp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lp=null;function sp(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lp=new Map,t.forEach(cp,e),lp=null,ip.call(e))}function cp(e,t){if(!(4&t.state.loading)){var n=lp.get(e);if(n)var r=n.get(null);else{n=new Map,lp.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<a.length;o++){var i=a[o];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(a=t.instance).getAttribute("data-precedence"),(o=n.get(i)||r)===r&&n.set(null,a),n.set(i,a),this.count++,r=ip.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),o?o.parentNode.insertBefore(a,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var dp={$$typeof:j,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function up(e,t,n,r,a,o,i,l,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=o,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function pp(e,t,n,r,a,o,i,l,s,c,d,u){return e=new up(e,t,n,i,s,c,d,u,l),t=1,!0===o&&(t|=24),o=Dr(3,null,null,t),e.current=o,o.stateNode=e,(t=Ba()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},bo(o),e}function fp(e){return e?e=Ir:Ir}function mp(e,t,n,r,a,o){a=fp(a),null===r.context?r.context=a:r.pendingContext=a,(r=vo(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=yo(e,r,t))&&(Xc(n,0,t),jo(n,e,t))}function hp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gp(e,t){hp(e,t),(e=e.alternate)&&hp(e,t)}function bp(e){if(13===e.tag||31===e.tag){var t=Or(e,67108864);null!==t&&Xc(t,0,67108864),gp(e,67108864)}}function xp(e){if(13===e.tag||31===e.tag){var t=Qc(),n=Or(e,t=Ie(t));null!==n&&Xc(n,0,t),gp(e,t)}}var vp=!0;function yp(e,t,n,r){var a=P.T;P.T=null;var o=L.p;try{L.p=2,wp(e,t,n,r)}finally{L.p=o,P.T=a}}function jp(e,t,n,r){var a=P.T;P.T=null;var o=L.p;try{L.p=8,wp(e,t,n,r)}finally{L.p=o,P.T=a}}function wp(e,t,n,r){if(vp){var a=Sp(r);if(null===a)tu(e,t,r,kp,n),Lp(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return _p=Ip(_p,e,t,n,r,a),!0;case"dragenter":return zp=Ip(zp,e,t,n,r,a),!0;case"mouseover":return Tp=Ip(Tp,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Ap.set(o,Ip(Ap.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Rp.set(o,Ip(Rp.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Lp(e,r),4&t&&-1<Pp.indexOf(e)){for(;null!==a;){var o=$e(a);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var i=Ce(o.pendingLanes);if(0!==i){var l=o;for(l.pendingLanes|=2,l.entangledLanes|=2;i;){var s=1<<31-ye(i);l.entanglements[1]|=s,i&=~s}Ld(o),0===(6&fc)&&(Pc=se()+500,Id(0,!1))}}break;case 31:case 13:null!==(l=Or(o,2))&&Xc(l,0,2),Zc(),gp(o,2)}if(null===(o=Sp(r))&&tu(e,t,r,kp,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else tu(e,t,r,null,n)}}function Sp(e){return Np(e=Pt(e))}var kp=null;function Np(e){if(kp=null,null!==(e=Ye(e))){var t=s(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=d(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return kp=e,null}function Cp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case pe:case fe:return 32;case me:return 268435456;default:return 32}default:return 32}}var Ep=!1,_p=null,zp=null,Tp=null,Ap=new Map,Rp=new Map,Op=[],Pp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lp(e,t){switch(e){case"focusin":case"focusout":_p=null;break;case"dragenter":case"dragleave":zp=null;break;case"mouseover":case"mouseout":Tp=null;break;case"pointerover":case"pointerout":Ap.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rp.delete(t.pointerId)}}function Ip(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=$e(t))&&bp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Fp(e){var t=Ye(e.target);if(null!==t){var n=s(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Be(e.priority,function(){xp(n)})}else if(31===t){if(null!==(t=d(n)))return e.blockedOn=t,void Be(e.priority,function(){xp(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sp(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&bp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ot=r,n.target.dispatchEvent(r),Ot=null,t.shift()}return!0}function Bp(e,t,n){Dp(e)&&n.delete(t)}function Wp(){Ep=!1,null!==_p&&Dp(_p)&&(_p=null),null!==zp&&Dp(zp)&&(zp=null),null!==Tp&&Dp(Tp)&&(Tp=null),Ap.forEach(Bp),Rp.forEach(Bp)}function Mp(e,t){e.blockedOn===t&&(e.blockedOn=null,Ep||(Ep=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Wp)))}var Up=null;function qp(e){Up!==e&&(Up=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Up===e&&(Up=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===Np(r||n))continue;break}var o=$e(n);null!==o&&(e.splice(t,3),t-=3,tl(o,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Hp(e){function t(t){return Mp(t,e)}null!==_p&&Mp(_p,e),null!==zp&&Mp(zp,e),null!==Tp&&Mp(Tp,e),Ap.forEach(t),Rp.forEach(t);for(var n=0;n<Op.length;n++){var r=Op[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Op.length&&null===(n=Op[0]).blockedOn;)Fp(n),null===n.blockedOn&&Op.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],o=n[r+1],i=a[Ue]||null;if("function"===typeof o)i||qp(n);else if(i){var l=null;if(o&&o.hasAttribute("formAction")){if(a=o,i=o[Ue]||null)l=i.formAction;else if(null!==Np(a))continue}else l=i.action;"function"===typeof l?n[r+1]=l:(n.splice(r,3),r-=3),qp(n)}}}function Vp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return a=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==a&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==a&&(a(),a=null)}}}function Qp(e){this._internalRoot=e}function Gp(e){this._internalRoot=e}Gp.prototype.render=Qp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));mp(t.current,Qc(),e,t,null,null)},Gp.prototype.unmount=Qp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mp(e.current,2,null,e,null,null),Zc(),t[qe]=null}},Gp.prototype.unstable_scheduleHydration=function(e){if(e){var t=De();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Op.length&&0!==t&&t<Op[n].priority;n++);Op.splice(n,0,e),0===n&&Fp(e)}};var Xp=a.version;if("19.2.0"!==Xp)throw Error(i(527,Xp,"19.2.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return u(a),e;if(o===r)return u(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var l=!1,c=a.child;c;){if(c===n){l=!0,n=a,r=o;break}if(c===r){l=!0,r=a,n=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===n){l=!0,n=o,r=a;break}if(c===r){l=!0,r=o,n=a;break}c=c.sibling}if(!l)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?p(e):null)?null:e.stateNode};var Kp={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yp.isDisabled&&Yp.supportsFiber)try{be=Yp.inject(Kp),xe=Yp}catch(Jp){}}t.createRoot=function(e,t){if(!l(e))throw Error(i(299));var n=!1,r="",a=kl,o=Nl,s=Cl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=pp(e,1,!1,null,0,n,r,null,a,o,s,Vp),e[qe]=t.current,Zd(e),new Qp(t)},t.hydrateRoot=function(e,t,n){if(!l(e))throw Error(i(299));var r=!1,a="",o=kl,s=Nl,c=Cl,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(s=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(d=n.formState)),(t=pp(e,1,!0,t,0,r,a,d,o,s,c,Vp)).context=fp(null),n=t.current,(a=vo(r=Ie(r=Qc()))).callback=null,yo(n,a,r),n=r,t.current.lanes=n,Re(t,n),Ld(t),e[qe]=t.current,Zd(e),new Gp(t)},t.version="19.2.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),m=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,b={};function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||h}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||h}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=x.prototype;var j=y.prototype=new v;j.constructor=y,g(j,x.prototype),j.isPureReactComponent=!0;var w=Array.isArray;function S(){}var k={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function C(e,t,r){var a=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==a?a:null,props:r}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function z(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,a,o,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s,c,d=!1;if(null===e)d=!0;else switch(l){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case r:d=!0;break;case p:return T((d=e._init)(e._payload),t,a,o,i)}}if(d)return i=i(e),d=""===o?"."+z(e,0):o,w(i)?(a="",null!=d&&(a=d.replace(_,"$&/")+"/"),T(i,t,a,"",function(e){return e})):null!=i&&(E(i)&&(s=i,c=a+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(_,"$&/")+"/")+d,i=C(s.type,c,s.props)),t.push(i)),1;d=0;var u,f=""===o?".":o+":";if(w(e))for(var h=0;h<e.length;h++)d+=T(o=e[h],t,a,l=f+z(o,h),i);else if("function"===typeof(h=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=m&&u[m]||u["@@iterator"])?u:null))for(e=h.call(e),h=0;!(o=e.next()).done;)d+=T(o=o.value,t,a,l=f+z(o,h++),i);else if("object"===l){if("function"===typeof e.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,o,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function A(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",function(e){return t.call(n,e,a++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},P={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=P,t.Component=x,t.Fragment=a,t.Profiler=i,t.PureComponent=y,t.StrictMode=o,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),a=e.key;if(null!=t)for(o in void 0!==t.key&&(a=""+t.key),t)!N.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var i=Array(o),l=0;l<o;l++)i[l]=arguments[l+2];r.children=i}return C(e.type,a,r)},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:l,_context:e},e},t.createElement=function(e,t,n){var r,a={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)N.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var i=arguments.length-2;if(1===i)a.children=n;else if(1<i){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+2];a.children=l}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===a[r]&&(a[r]=i[r]);return C(e,o,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),a=k.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(S,O)}catch(o){O(o)}finally{null!==t&&null!==n.types&&(t.types=n.types),k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return k.H.useEffect(e,t)},t.useEffectEvent=function(e){return k.H.useEffectEvent(e)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.2.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},615:(e,t,n)=>{e.exports=n.p+"static/media/maximofactura.02ceda47f39c1cda3b64.png"},672:(e,t,n)=>{var r=n(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var i={d:{f:o,r:function(){throw Error(a(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},l=Symbol.for("react.portal");var s=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},t.useFormStatus=function(){return s.H.useHostTransitionStatus()},t.version="19.2.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var l=2*(r+1)-1,s=e[l],c=l+1,d=e[c];if(0>o(s,n))c<a&&0>o(d,s)?(e[r]=d,e[c]=n,r=c):(e[r]=s,e[l]=n,r=l);else{if(!(c<a&&0>o(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var c=[],d=[],u=1,p=null,f=3,m=!1,h=!1,g=!1,b=!1,x="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function j(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(g=!1,j(e),!h)if(null!==r(c))h=!0,k||(k=!0,S());else{var t=r(d);null!==t&&R(w,t.startTime-e)}}var S,k=!1,N=-1,C=5,E=-1;function _(){return!!b||!(t.unstable_now()-E<C)}function z(){if(b=!1,k){var e=t.unstable_now();E=e;var n=!0;try{e:{h=!1,g&&(g=!1,v(N),N=-1),m=!0;var o=f;try{t:{for(j(e),p=r(c);null!==p&&!(p.expirationTime>e&&_());){var i=p.callback;if("function"===typeof i){p.callback=null,f=p.priorityLevel;var l=i(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof l){p.callback=l,j(e),n=!0;break t}p===r(c)&&a(c),j(e)}else a(c);p=r(c)}if(null!==p)n=!0;else{var s=r(d);null!==s&&R(w,s.startTime-e),n=!1}}break e}finally{p=null,f=o,m=!1}n=void 0}}finally{n?S():k=!1}}}if("function"===typeof y)S=function(){y(z)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,A=T.port2;T.port1.onmessage=z,S=function(){A.postMessage(null)}}else S=function(){x(z,0)};function R(e,n){N=x(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>i?(e.sortIndex=o,n(d,e),null===r(c)&&e===r(d)&&(g?(v(N),N=-1):g=!0,R(w,o-i))):(e.sortIndex=l,n(c,e),h||m||(h=!0,k||(k=!0,S()))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&a&&r;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(o,i),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".8aaf327e.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="facturacion-frontend:";n.l=(r,a,o,i)=>{if(e[r])e[r].push(a);else{var l,s;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+o){l=u;break}}l||(s=!0,(l=document.createElement("script")).charset="utf-8",n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+o),l.src=r),e[r]=[a];var p=(t,n)=>{l.onerror=l.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach(e=>e(n)),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),s&&document.head.appendChild(l)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=o);var i=n.p+n.u(t),l=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,a[1](l)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,o,[i,l,s]=r,c=0;if(i.some(t=>0!==e[t])){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(s)s(n)}for(t&&t(r);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkfacturacion_frontend=self.webpackChunkfacturacion_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>Jt,hasStandardBrowserEnv:()=>en,hasStandardBrowserWebWorkerEnv:()=>tn,navigator:()=>Zt,origin:()=>nn});var a,o=n(43),i=n.t(o,2),l=n(391),s=n(950),c=n.t(s,2);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const u="popstate";function p(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function f(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function b(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function x(e,t,n,r){void 0===r&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,l=o.history,s=a.Pop,c=null,f=b();function b(){return(l.state||{idx:null}).idx}function x(){s=a.Pop;let e=b(),t=null==e?null:e-f;f=e,c&&c({action:s,location:y.location,delta:t})}function v(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),p(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,l.replaceState(d({},l.state,{idx:f}),""));let y={get action(){return s},get location(){return e(o,l)},listen(e){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(u,x),c=e,()=>{o.removeEventListener(u,x),c=null}},createHref:e=>t(o,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=a.Push;let r=h(y.location,e,t);n&&n(r,e),f=b()+1;let d=m(r,f),u=y.createHref(r);try{l.pushState(d,"",u)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;o.location.assign(u)}i&&c&&c({action:s,location:y.location,delta:1})},replace:function(e,t){s=a.Replace;let r=h(y.location,e,t);n&&n(r,e),f=b();let o=m(r,f),d=y.createHref(r);l.replaceState(o,"",d),i&&c&&c({action:s,location:y.location,delta:0})},go:e=>l.go(e)};return y}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),j(e,t,n,!1)}function j(e,t,n,r){let a=L(("string"===typeof t?b(t):t).pathname||"/",n);if(null==a)return null;let o=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let i=null;for(let l=0;null==i&&l<o.length;++l){let e=P(a);i=R(o[l],e,r)}return i}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,o)=>{let i={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(p(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let l=W([r,i.relativePath]),s=n.concat(i);e.children&&e.children.length>0&&(p(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),w(e.children,t,s,l)),(null!=e.path||e.index)&&t.push({path:l,score:A(l,e.index),routesMeta:s})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of S(e.path))a(e,t,r);else a(e,t)}),t}function S(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return a?[o,""]:[o];let i=S(r.join("/")),l=[];return l.push(...i.map(e=>""===e?o:[o,e].join("/"))),a&&l.push(...i),l.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,N=3,C=2,E=1,_=10,z=-2,T=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=z),t&&(r+=C),n.filter(e=>!T(e)).reduce((e,t)=>e+(k.test(t)?N:""===t?E:_),r)}function R(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},o="/",i=[];for(let l=0;l<r.length;++l){let e=r[l],s=l===r.length-1,c="/"===o?t:t.slice(o.length)||"/",d=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},c),u=e.route;if(!d&&s&&n&&!r[r.length-1].route.index&&(d=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),i.push({params:a,pathname:W([o,d.pathname]),pathnameBase:M(W([o,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(o=W([o,d.pathnameBase]))}return i}function O(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let o=new RegExp(a,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=l[n]||"";i=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const s=l[n];return e[r]=a&&!s?void 0:(s||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:i,pattern:e}}function P(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return f(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function I(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function F(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let n=F(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function B(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=b(e):(a=d({},e),p(!a.pathname||!a.pathname.includes("?"),I("?","pathname","search",a)),p(!a.pathname||!a.pathname.includes("#"),I("#","pathname","hash",a)),p(!a.search||!a.search.includes("#"),I("#","search","hash",a)));let o,i=""===e||""===a.pathname,l=i?"/":a.pathname;if(null==l)o=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}o=e>=0?t[e]:"/"}let s=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?b(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:U(r),hash:q(a)}}(a,o),c=l&&"/"!==l&&l.endsWith("/"),u=(i||"."===l)&&n.endsWith("/");return s.pathname.endsWith("/")||!c&&!u||(s.pathname+="/"),s}const W=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],Q=(new Set(V),["get",...V]);new Set(Q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}const X=o.createContext(null);const K=o.createContext(null);const Y=o.createContext(null);const $=o.createContext(null);const J=o.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=o.createContext(null);function ee(){return null!=o.useContext($)}function te(){return ee()||p(!1),o.useContext($).location}function ne(e){o.useContext(Y).static||o.useLayoutEffect(e)}function re(){let{isDataRoute:e}=o.useContext(J);return e?function(){let{router:e}=he(fe.UseNavigateStable),t=be(me.UseNavigateStable),n=o.useRef(!1);return ne(()=>{n.current=!0}),o.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,G({fromRouteId:t},a)))},[e,t])}():function(){ee()||p(!1);let e=o.useContext(X),{basename:t,future:n,navigator:r}=o.useContext(Y),{matches:a}=o.useContext(J),{pathname:i}=te(),l=JSON.stringify(D(a,n.v7_relativeSplatPath)),s=o.useRef(!1);return ne(()=>{s.current=!0}),o.useCallback(function(n,a){if(void 0===a&&(a={}),!s.current)return;if("number"===typeof n)return void r.go(n);let o=B(n,JSON.parse(l),i,"path"===a.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:W([t,o.pathname])),(a.replace?r.replace:r.push)(o,a.state,a)},[t,r,l,i,e])}()}const ae=o.createContext(null);function oe(){let{matches:e}=o.useContext(J),t=e[e.length-1];return t?t.params:{}}function ie(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=o.useContext(Y),{matches:a}=o.useContext(J),{pathname:i}=te(),l=JSON.stringify(D(a,r.v7_relativeSplatPath));return o.useMemo(()=>B(e,JSON.parse(l),i,"path"===n),[e,l,i,n])}function le(e,t,n,r){ee()||p(!1);let{navigator:i}=o.useContext(Y),{matches:l}=o.useContext(J),s=l[l.length-1],c=s?s.params:{},d=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let u,f=te();if(t){var m;let e="string"===typeof t?b(t):t;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||p(!1),u=e}else u=f;let h=u.pathname||"/",g=h;if("/"!==d){let e=d.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=y(e,{pathname:g});let v=pe(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:W([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:W([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,n,r);return t&&v?o.createElement($.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:a.Pop}},v):v}function se(){let e=function(){var e;let t=o.useContext(Z),n=ge(me.UseRouteError),r=be(me.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),n?o.createElement("pre",{style:a},n):null,null)}const ce=o.createElement(se,null);class de extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?o.createElement(J.Provider,{value:this.props.routeContext},o.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ue(e){let{routeContext:t,match:n,children:r}=e,a=o.useContext(X);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(J.Provider,{value:t},r)}function pe(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,s=null==(a=n)?void 0:a.errors;if(null!=s){let e=l.findIndex(e=>e.route.id&&void 0!==(null==s?void 0:s[e.route.id]));e>=0||p(!1),l=l.slice(0,Math.min(l.length,e+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let o=0;o<l.length;o++){let e=l[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=o),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){c=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight((e,r,a)=>{let i,u=!1,p=null,f=null;var m;n&&(i=s&&r.route.id?s[r.route.id]:void 0,p=r.route.errorElement||ce,c&&(d<0&&0===a?(m="route-fallback",!1||xe[m]||(xe[m]=!0),u=!0,f=null):d===a&&(u=!0,f=r.route.hydrateFallbackElement||null)));let h=t.concat(l.slice(0,a+1)),g=()=>{let t;return t=i?p:u?f:r.route.Component?o.createElement(r.route.Component,null):r.route.element?r.route.element:e,o.createElement(ue,{match:r,routeContext:{outlet:e,matches:h,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?o.createElement(de,{location:n.location,revalidation:n.revalidation,component:p,error:i,children:g(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):g()},null)}var fe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fe||{}),me=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(me||{});function he(e){let t=o.useContext(X);return t||p(!1),t}function ge(e){let t=o.useContext(K);return t||p(!1),t}function be(e){let t=function(){let e=o.useContext(J);return e||p(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||p(!1),n.route.id}const xe={};function ve(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ye(e){let{to:t,replace:n,state:r,relative:a}=e;ee()||p(!1);let{future:i,static:l}=o.useContext(Y),{matches:s}=o.useContext(J),{pathname:c}=te(),d=re(),u=B(t,D(s,i.v7_relativeSplatPath),c,"path"===a),f=JSON.stringify(u);return o.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:a}),[d,f,a,n,r]),null}function je(e){return function(e){let t=o.useContext(J).outlet;return t?o.createElement(ae.Provider,{value:e},t):t}(e.context)}function we(e){p(!1)}function Se(e){let{basename:t="/",children:n=null,location:r,navigationType:i=a.Pop,navigator:l,static:s=!1,future:c}=e;ee()&&p(!1);let d=t.replace(/^\/*/,"/"),u=o.useMemo(()=>({basename:d,navigator:l,static:s,future:G({v7_relativeSplatPath:!1},c)}),[d,c,l,s]);"string"===typeof r&&(r=b(r));let{pathname:f="/",search:m="",hash:h="",state:g=null,key:x="default"}=r,v=o.useMemo(()=>{let e=L(f,d);return null==e?null:{location:{pathname:e,search:m,hash:h,state:g,key:x},navigationType:i}},[d,f,m,h,g,x,i]);return null==v?null:o.createElement(Y.Provider,{value:u},o.createElement($.Provider,{children:n,value:v}))}function ke(e){let{children:t,location:n}=e;return le(Ne(t),n)}new Promise(()=>{});o.Component;function Ne(e,t){void 0===t&&(t=[]);let n=[];return o.Children.forEach(e,(e,r)=>{if(!o.isValidElement(e))return;let a=[...t,r];if(e.type===o.Fragment)return void n.push.apply(n,Ne(e.props.children,a));e.type!==we&&p(!1),e.props.index&&e.props.children&&p(!1);let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ne(e.props.children,a)),n.push(i)}),n}function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ze=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch($a){}const Te=o.createContext({isTransitioning:!1});new Map;const Ae=i.startTransition;c.flushSync,i.useId;function Re(e){let{basename:t,children:n,future:r,window:a}=e,i=o.useRef();var l;null==i.current&&(i.current=(void 0===(l={window:a,v5Compat:!0})&&(l={}),x(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return h("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:g(t)},null,l)));let s=i.current,[c,d]=o.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},p=o.useCallback(e=>{u&&Ae?Ae(()=>d(e)):d(e)},[d,u]);return o.useLayoutEffect(()=>s.listen(p),[s,p]),o.useEffect(()=>ve(r),[r]),o.createElement(Se,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:s,future:r})}const Oe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Le=o.forwardRef(function(e,t){let n,{onClick:r,relative:a,reloadDocument:i,replace:l,state:s,target:c,to:d,preventScrollReset:u,viewTransition:f}=e,m=Ee(e,_e),{basename:h}=o.useContext(Y),b=!1;if("string"===typeof d&&Pe.test(d)&&(n=d,Oe))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=L(t.pathname,h);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:b=!0}catch($a){}let x=function(e,t){let{relative:n}=void 0===t?{}:t;ee()||p(!1);let{basename:r,navigator:a}=o.useContext(Y),{hash:i,pathname:l,search:s}=ie(e,{relative:n}),c=l;return"/"!==r&&(c="/"===l?r:W([r,l])),a.createHref({pathname:c,search:s,hash:i})}(d,{relative:a}),v=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:l,viewTransition:s}=void 0===t?{}:t,c=re(),d=te(),u=ie(e,{relative:l});return o.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(d)===g(u);c(e,{replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:s})}},[d,c,u,r,a,n,e,i,l,s])}(d,{replace:l,state:s,target:c,preventScrollReset:u,relative:a,viewTransition:f});return o.createElement("a",Ce({},m,{href:n||x,onClick:b||i?r:function(e){r&&r(e),e.defaultPrevented||v(e)},ref:t,target:c}))});const Ie=o.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:a="",end:i=!1,style:l,to:s,viewTransition:c,children:d}=e,u=Ee(e,ze),f=ie(s,{relative:u.relative}),m=te(),h=o.useContext(K),{navigator:g,basename:b}=o.useContext(Y),x=null!=h&&function(e,t){void 0===t&&(t={});let n=o.useContext(Te);null==n&&p(!1);let{basename:r}=Be(Fe.useViewTransitionState),a=ie(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=L(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=L(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=O(a.pathname,l)||null!=O(a.pathname,i)}(f)&&!0===c,v=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,y=m.pathname,j=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(y=y.toLowerCase(),j=j?j.toLowerCase():null,v=v.toLowerCase()),j&&b&&(j=L(j,b)||j);const w="/"!==v&&v.endsWith("/")?v.length-1:v.length;let S,k=y===v||!i&&y.startsWith(v)&&"/"===y.charAt(w),N=null!=j&&(j===v||!i&&j.startsWith(v)&&"/"===j.charAt(v.length)),C={isActive:k,isPending:N,isTransitioning:x},E=k?n:void 0;S="function"===typeof a?a(C):[a,k?"active":null,N?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let _="function"===typeof l?l(C):l;return o.createElement(Le,Ce({},u,{"aria-current":E,className:S,ref:t,style:_,to:s,viewTransition:c}),"function"===typeof d?d(C):d)});var Fe,De;function Be(e){let t=o.useContext(X);return t||p(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fe||(Fe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}function Me(e){var t=function(e,t){if("object"!=We(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=We(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==We(t)?t:t+""}function Ue(e,t,n){return(t=Me(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach(function(t){Ue(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Ve=n(615);const Qe=n.p+"static/media/factura-inicio.b4c90e2cf9f3e7027810.png";function Ge(e,t){return function(){return e.apply(t,arguments)}}const{toString:Xe}=Object.prototype,{getPrototypeOf:Ke}=Object,{iterator:Ye,toStringTag:$e}=Symbol,Je=(Ze=Object.create(null),e=>{const t=Xe.call(e);return Ze[t]||(Ze[t]=t.slice(8,-1).toLowerCase())});var Ze;const et=e=>(e=e.toLowerCase(),t=>Je(t)===e),tt=e=>t=>typeof t===e,{isArray:nt}=Array,rt=tt("undefined");function at(e){return null!==e&&!rt(e)&&null!==e.constructor&&!rt(e.constructor)&&lt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ot=et("ArrayBuffer");const it=tt("string"),lt=tt("function"),st=tt("number"),ct=e=>null!==e&&"object"===typeof e,dt=e=>{if("object"!==Je(e))return!1;const t=Ke(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!($e in e)&&!(Ye in e)},ut=et("Date"),pt=et("File"),ft=et("Blob"),mt=et("FileList"),ht=et("URLSearchParams"),[gt,bt,xt,vt]=["ReadableStream","Request","Response","Headers"].map(et);function yt(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),nt(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(at(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let i;for(n=0;n<o;n++)i=r[n],t.call(null,e[i],i,e)}}function jt(e,t){if(at(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const wt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,St=e=>!rt(e)&&e!==wt;const kt=(Nt="undefined"!==typeof Uint8Array&&Ke(Uint8Array),e=>Nt&&e instanceof Nt);var Nt;const Ct=et("HTMLFormElement"),Et=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),_t=et("RegExp"),zt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};yt(n,(n,a)=>{let o;!1!==(o=t(n,a,e))&&(r[a]=o||n)}),Object.defineProperties(e,r)};const Tt=et("AsyncFunction"),At=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],wt.addEventListener("message",e=>{let{source:t,data:a}=e;t===wt&&a===n&&r.length&&r.shift()()},!1),e=>{r.push(e),wt.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,lt(wt.postMessage)),Rt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(wt):"undefined"!==typeof process&&process.nextTick||At,Ot={isArray:nt,isArrayBuffer:ot,isBuffer:at,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||lt(e.append)&&("formdata"===(t=Je(e))||"object"===t&&lt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ot(e.buffer),t},isString:it,isNumber:st,isBoolean:e=>!0===e||!1===e,isObject:ct,isPlainObject:dt,isEmptyObject:e=>{if(!ct(e)||at(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch($a){return!1}},isReadableStream:gt,isRequest:bt,isResponse:xt,isHeaders:vt,isUndefined:rt,isDate:ut,isFile:pt,isBlob:ft,isRegExp:_t,isFunction:lt,isStream:e=>ct(e)&&lt(e.pipe),isURLSearchParams:ht,isTypedArray:kt,isFileList:mt,forEach:yt,merge:function e(){const{caseless:t,skipUndefined:n}=St(this)&&this||{},r={},a=(a,o)=>{const i=t&&jt(r,o)||o;dt(r[i])&&dt(a)?r[i]=e(r[i],a):dt(a)?r[i]=e({},a):nt(a)?r[i]=a.slice():n&&rt(a)||(r[i]=a)};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&yt(arguments[o],a);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return yt(t,(t,r)=>{n&&lt(t)?e[r]=Ge(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,o,i;const l={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)i=a[o],r&&!r(i,e,t)||l[i]||(t[i]=e[i],l[i]=!0);e=!1!==n&&Ke(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Je,kindOfTest:et,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(nt(e))return e;let t=e.length;if(!st(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Ye]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Ct,hasOwnProperty:Et,hasOwnProp:Et,reduceDescriptors:zt,freezeMethods:e=>{zt(e,(t,n)=>{if(lt(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];lt(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return nt(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:jt,global:wt,isContextDefined:St,isSpecCompliantForm:function(e){return!!(e&&lt(e.append)&&"FormData"===e[$e]&&e[Ye])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(ct(e)){if(t.indexOf(e)>=0)return;if(at(e))return e;if(!("toJSON"in e)){t[r]=e;const a=nt(e)?[]:{};return yt(e,(e,t)=>{const o=n(e,r+1);!rt(o)&&(a[t]=o)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:Tt,isThenable:e=>e&&(ct(e)||lt(e))&&lt(e.then)&&lt(e.catch),setImmediate:At,asap:Rt,isIterable:e=>null!=e&&lt(e[Ye])};function Pt(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Ot.inherits(Pt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ot.toJSONObject(this.config),code:this.code,status:this.status}}});const Lt=Pt.prototype,It={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{It[e]={value:e}}),Object.defineProperties(Pt,It),Object.defineProperty(Lt,"isAxiosError",{value:!0}),Pt.from=(e,t,n,r,a,o)=>{const i=Object.create(Lt);Ot.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const l=e&&e.message?e.message:"Error",s=null==t&&e?e.code:t;return Pt.call(i,l,s,n,r,a),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const Ft=Pt;function Dt(e){return Ot.isPlainObject(e)||Ot.isArray(e)}function Bt(e){return Ot.endsWith(e,"[]")?e.slice(0,-2):e}function Wt(e,t,n){return e?e.concat(t).map(function(e,t){return e=Bt(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Mt=Ot.toFlatObject(Ot,{},null,function(e){return/^is[A-Z]/.test(e)});const Ut=function(e,t,n){if(!Ot.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Ot.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Ot.isUndefined(t[e])})).metaTokens,a=n.visitor||c,o=n.dots,i=n.indexes,l=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Ot.isSpecCompliantForm(t);if(!Ot.isFunction(a))throw new TypeError("visitor must be a function");function s(e){if(null===e)return"";if(Ot.isDate(e))return e.toISOString();if(Ot.isBoolean(e))return e.toString();if(!l&&Ot.isBlob(e))throw new Ft("Blob is not supported. Use a Buffer instead.");return Ot.isArrayBuffer(e)||Ot.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let l=e;if(e&&!a&&"object"===typeof e)if(Ot.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Ot.isArray(e)&&function(e){return Ot.isArray(e)&&!e.some(Dt)}(e)||(Ot.isFileList(e)||Ot.endsWith(n,"[]"))&&(l=Ot.toArray(e)))return n=Bt(n),l.forEach(function(e,r){!Ot.isUndefined(e)&&null!==e&&t.append(!0===i?Wt([n],r,o):null===i?n:n+"[]",s(e))}),!1;return!!Dt(e)||(t.append(Wt(a,n,o),s(e)),!1)}const d=[],u=Object.assign(Mt,{defaultVisitor:c,convertValue:s,isVisitable:Dt});if(!Ot.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Ot.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),Ot.forEach(n,function(n,o){!0===(!(Ot.isUndefined(n)||null===n)&&a.call(t,n,Ot.isString(o)?o.trim():o,r,u))&&e(n,r?r.concat(o):[o])}),d.pop()}}(e),t};function qt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Ht(e,t){this._pairs=[],e&&Ut(e,this,t)}const Vt=Ht.prototype;Vt.append=function(e,t){this._pairs.push([e,t])},Vt.toString=function(e){const t=e?function(t){return e.call(this,t,qt)}:qt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Qt=Ht;function Gt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Xt(e,t,n){if(!t)return e;const r=n&&n.encode||Gt;Ot.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let o;if(o=a?a(t,n):Ot.isURLSearchParams(t)?t.toString():new Qt(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const Kt=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ot.forEach(this.handlers,function(t){null!==t&&e(t)})}},Yt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$t={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Qt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Jt="undefined"!==typeof window&&"undefined"!==typeof document,Zt="object"===typeof navigator&&navigator||void 0,en=Jt&&(!Zt||["ReactNative","NativeScript","NS"].indexOf(Zt.product)<0),tn="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,nn=Jt&&window.location.href||"http://localhost",rn=He(He({},r),$t);const an=function(e){function t(e,n,r,a){let o=e[a++];if("__proto__"===o)return!0;const i=Number.isFinite(+o),l=a>=e.length;if(o=!o&&Ot.isArray(r)?r.length:o,l)return Ot.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!i;r[o]&&Ot.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],a)&&Ot.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],t[o]=e[o];return t}(r[o])),!i}if(Ot.isFormData(e)&&Ot.isFunction(e.entries)){const n={};return Ot.forEachEntry(e,(e,r)=>{t(function(e){return Ot.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const on={transitional:Yt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=Ot.isObject(e);a&&Ot.isHTMLForm(e)&&(e=new FormData(e));if(Ot.isFormData(e))return r?JSON.stringify(an(e)):e;if(Ot.isArrayBuffer(e)||Ot.isBuffer(e)||Ot.isStream(e)||Ot.isFile(e)||Ot.isBlob(e)||Ot.isReadableStream(e))return e;if(Ot.isArrayBufferView(e))return e.buffer;if(Ot.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ut(e,new rn.classes.URLSearchParams,He({visitor:function(e,t,n,r){return rn.isNode&&Ot.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=Ot.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ut(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(Ot.isString(e))try{return(t||JSON.parse)(e),Ot.trim(e)}catch($a){if("SyntaxError"!==$a.name)throw $a}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||on.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Ot.isResponse(e)||Ot.isReadableStream(e))return e;if(e&&Ot.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch($a){if(n){if("SyntaxError"===$a.name)throw Ft.from($a,Ft.ERR_BAD_RESPONSE,this,null,this.response);throw $a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rn.classes.FormData,Blob:rn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ot.forEach(["delete","get","head","post","put","patch"],e=>{on.headers[e]={}});const ln=on,sn=Ot.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cn=Symbol("internals");function dn(e){return e&&String(e).trim().toLowerCase()}function un(e){return!1===e||null==e?e:Ot.isArray(e)?e.map(un):String(e)}function pn(e,t,n,r,a){return Ot.isFunction(r)?r.call(this,t,n):(a&&(t=n),Ot.isString(t)?Ot.isString(r)?-1!==t.indexOf(r):Ot.isRegExp(r)?r.test(t):void 0:void 0)}class fn{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=dn(t);if(!a)throw new Error("header name must be a non-empty string");const o=Ot.findKey(r,a);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=un(e))}const o=(e,t)=>Ot.forEach(e,(e,n)=>a(e,n,t));if(Ot.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Ot.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&sn[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Ot.isObject(e)&&Ot.isIterable(e)){let n,r,a={};for(const t of e){if(!Ot.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?Ot.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=dn(e)){const n=Ot.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Ot.isFunction(t))return t.call(this,e,n);if(Ot.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=dn(e)){const n=Ot.findKey(this,e);return!(!n||void 0===this[n]||t&&!pn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=dn(e)){const a=Ot.findKey(n,e);!a||t&&!pn(0,n[a],a,t)||(delete n[a],r=!0)}}return Ot.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!pn(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return Ot.forEach(this,(r,a)=>{const o=Ot.findKey(n,a);if(o)return t[o]=un(r),void delete t[a];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();i!==a&&delete t[a],t[i]=un(r),n[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Ot.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Ot.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[cn]=this[cn]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=dn(e);t[r]||(!function(e,t){const n=Ot.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return Ot.isArray(e)?e.forEach(r):r(e),this}}fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ot.reduceDescriptors(fn.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),Ot.freezeMethods(fn);const mn=fn;function hn(e,t){const n=this||ln,r=t||n,a=mn.from(r.headers);let o=r.data;return Ot.forEach(e,function(e){o=e.call(n,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function gn(e){return!(!e||!e.__CANCEL__)}function bn(e,t,n){Ft.call(this,null==e?"canceled":e,Ft.ERR_CANCELED,t,n),this.name="CanceledError"}Ot.inherits(bn,Ft,{__CANCEL__:!0});const xn=bn;function vn(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Ft("Request failed with status code "+n.status,[Ft.ERR_BAD_REQUEST,Ft.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const yn=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,o=0,i=0;return t=void 0!==t?t:1e3,function(l){const s=Date.now(),c=r[i];a||(a=s),n[o]=l,r[o]=s;let d=i,u=0;for(;d!==o;)u+=n[d++],d%=e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),s-a<t)return;const p=c&&s-c;return p?Math.round(1e3*u/p):void 0}};const jn=function(e,t){let n,r,a=0,o=1e3/t;const i=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=o,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];t>=o?i(s,e):(n=s,r||(r=setTimeout(()=>{r=null,i(n)},o-t)))},()=>n&&i(n)]},wn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=yn(50,250);return jn(n=>{const o=n.loaded,i=n.lengthComputable?n.total:void 0,l=o-r,s=a(l);r=o;e({loaded:o,total:i,progress:i?o/i:void 0,bytes:l,rate:s||void 0,estimated:s&&i&&o<=i?(i-o)/s:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},Sn=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},kn=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ot.asap(()=>e(...n))},Nn=rn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,rn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(rn.origin),rn.navigator&&/(msie|trident)/i.test(rn.navigator.userAgent)):()=>!0,Cn=rn.hasStandardBrowserEnv?{write(e,t,n,r,a,o){const i=[e+"="+encodeURIComponent(t)];Ot.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),Ot.isString(r)&&i.push("path="+r),Ot.isString(a)&&i.push("domain="+a),!0===o&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function En(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const _n=e=>e instanceof mn?He({},e):e;function zn(e,t){t=t||{};const n={};function r(e,t,n,r){return Ot.isPlainObject(e)&&Ot.isPlainObject(t)?Ot.merge.call({caseless:r},e,t):Ot.isPlainObject(t)?Ot.merge({},t):Ot.isArray(t)?t.slice():t}function a(e,t,n,a){return Ot.isUndefined(t)?Ot.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function o(e,t){if(!Ot.isUndefined(t))return r(void 0,t)}function i(e,t){return Ot.isUndefined(t)?Ot.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function l(n,a,o){return o in t?r(n,a):o in e?r(void 0,n):void 0}const s={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(e,t,n)=>a(_n(e),_n(t),0,!0)};return Ot.forEach(Object.keys(He(He({},e),t)),function(r){const o=s[r]||a,i=o(e[r],t[r],r);Ot.isUndefined(i)&&o!==l||(n[r]=i)}),n}const Tn=e=>{const t=zn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:l}=t;if(t.headers=i=mn.from(i),t.url=Xt(En(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Ot.isFormData(n))if(rn.hasStandardBrowserEnv||rn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Ot.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&i.set(n,r)})}if(rn.hasStandardBrowserEnv&&(r&&Ot.isFunction(r)&&(r=r(t)),r||!1!==r&&Nn(t.url))){const e=a&&o&&Cn.read(o);e&&i.set(a,e)}return t},An="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Tn(e);let a=r.data;const o=mn.from(r.headers).normalize();let i,l,s,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:f}=r;function m(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let h=new XMLHttpRequest;function g(){if(!h)return;const r=mn.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());vn(function(e){t(e),m()},function(e){n(e),m()},{data:u&&"text"!==u&&"json"!==u?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h}),h=null}h.open(r.method.toUpperCase(),r.url,!0),h.timeout=r.timeout,"onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(g)},h.onabort=function(){h&&(n(new Ft("Request aborted",Ft.ECONNABORTED,e,h)),h=null)},h.onerror=function(t){const r=t&&t.message?t.message:"Network Error",a=new Ft(r,Ft.ERR_NETWORK,e,h);a.event=t||null,n(a),h=null},h.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||Yt;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Ft(t,a.clarifyTimeoutError?Ft.ETIMEDOUT:Ft.ECONNABORTED,e,h)),h=null},void 0===a&&o.setContentType(null),"setRequestHeader"in h&&Ot.forEach(o.toJSON(),function(e,t){h.setRequestHeader(t,e)}),Ot.isUndefined(r.withCredentials)||(h.withCredentials=!!r.withCredentials),u&&"json"!==u&&(h.responseType=r.responseType),f&&([s,d]=wn(f,!0),h.addEventListener("progress",s)),p&&h.upload&&([l,c]=wn(p),h.upload.addEventListener("progress",l),h.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{h&&(n(!t||t.type?new xn(null,e,h):t),h.abort(),h=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const b=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);b&&-1===rn.protocols.indexOf(b)?n(new Ft("Unsupported protocol "+b+":",Ft.ERR_BAD_REQUEST,e)):h.send(a||null)})},Rn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Ft?t:new xn(t instanceof Error?t.message:t))}};let o=t&&setTimeout(()=>{o=null,a(new Ft("timeout ".concat(t," of ms exceeded"),Ft.ETIMEDOUT))},t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:l}=r;return l.unsubscribe=()=>Ot.asap(i),l}};function On(e,t){this.v=e,this.k=t}function Pn(e){return function(){return new Ln(e.apply(this,arguments))}}function Ln(e){var t,n;function r(t,n){try{var o=e[t](n),i=o.value,l=i instanceof On;Promise.resolve(l?i.v:i).then(function(n){if(l){var s="return"===t?"return":"next";if(!i.k||n.done)return r(s,n);n=e[s](n).value}a(o.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise(function(o,i){var l={key:e,arg:a,resolve:o,reject:i,next:null};n?n=n.next=l:(t=n=l,r(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function In(e){return new On(e,0)}function Fn(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new On(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Dn(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Bn(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Bn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Bn=function(e){this.s=e,this.n=e.next},Bn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Bn(e)}Ln.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ln.prototype.next=function(e){return this._invoke("next",e)},Ln.prototype.throw=function(e){return this._invoke("throw",e)},Ln.prototype.return=function(e){return this._invoke("return",e)};const Wn=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},Mn=function(){var e=Pn(function*(e,t){var n,r=!1,a=!1;try{for(var o,i=Dn(Un(e));r=!(o=yield In(i.next())).done;r=!1){const e=o.value;yield*Fn(Dn(Wn(e,t)))}}catch(l){a=!0,n=l}finally{try{r&&null!=i.return&&(yield In(i.return()))}finally{if(a)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Un=function(){var e=Pn(function*(e){if(e[Symbol.asyncIterator])return void(yield*Fn(Dn(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield In(t.read());if(e)break;yield n}}finally{yield In(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),qn=(e,t,n,r)=>{const a=Mn(e,t);let o,i=0,l=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return l(),void e.close();let o=r.byteLength;if(n){let e=i+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw l(t),t}},cancel:e=>(l(e),a.return())},{highWaterMark:2})},{isFunction:Hn}=Ot,Vn=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(Ot.global),{ReadableStream:Qn,TextEncoder:Gn}=Ot.global,Xn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch($a){return!1}},Kn=e=>{e=Ot.merge.call({skipUndefined:!0},Vn,e);const{fetch:t,Request:n,Response:r}=e,a=t?Hn(t):"function"===typeof fetch,o=Hn(n),i=Hn(r);if(!a)return!1;const l=a&&Hn(Qn),s=a&&("function"===typeof Gn?(c=new Gn,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const d=o&&l&&Xn(()=>{let e=!1;const t=new n(rn.origin,{body:new Qn,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=i&&l&&Xn(()=>Ot.isReadableStream(new r("").body)),p={stream:u&&(e=>e.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!p[e]&&(p[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new Ft("Response type '".concat(e,"' is not supported"),Ft.ERR_NOT_SUPPORT,n)})});const f=async(e,t)=>{const r=Ot.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Ot.isBlob(e))return e.size;if(Ot.isSpecCompliantForm(e)){const t=new n(rn.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Ot.isArrayBufferView(e)||Ot.isArrayBuffer(e)?e.byteLength:(Ot.isURLSearchParams(e)&&(e+=""),Ot.isString(e)?(await s(e)).byteLength:void 0)})(t):r};return async e=>{let{url:a,method:i,data:l,signal:s,cancelToken:c,timeout:m,onDownloadProgress:h,onUploadProgress:g,responseType:b,headers:x,withCredentials:v="same-origin",fetchOptions:y}=Tn(e),j=t||fetch;b=b?(b+"").toLowerCase():"text";let w=Rn([s,c&&c.toAbortSignal()],m),S=null;const k=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let N;try{if(g&&d&&"get"!==i&&"head"!==i&&0!==(N=await f(x,l))){let e,t=new n(a,{method:"POST",body:l,duplex:"half"});if(Ot.isFormData(l)&&(e=t.headers.get("content-type"))&&x.setContentType(e),t.body){const[e,n]=Sn(N,wn(kn(g)));l=qn(t.body,65536,e,n)}}Ot.isString(v)||(v=v?"include":"omit");const t=o&&"credentials"in n.prototype,s=He(He({},y),{},{signal:w,method:i.toUpperCase(),headers:x.normalize().toJSON(),body:l,duplex:"half",credentials:t?v:void 0});S=o&&new n(a,s);let c=await(o?j(S,y):j(a,s));const m=u&&("stream"===b||"response"===b);if(u&&(h||m&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=Ot.toFiniteNumber(c.headers.get("content-length")),[n,a]=h&&Sn(t,wn(kn(h),!0))||[];c=new r(qn(c.body,65536,n,()=>{a&&a(),k&&k()}),e)}b=b||"text";let C=await p[Ot.findKey(p,b)||"text"](c,e);return!m&&k&&k(),await new Promise((t,n)=>{vn(t,n,{data:C,headers:mn.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:S})})}catch(C){if(k&&k(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new Ft("Network Error",Ft.ERR_NETWORK,e,S),{cause:C.cause||C});throw Ft.from(C,C&&C.code,e,S)}}},Yn=new Map,$n=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:a}=t,o=[r,a,n];let i,l,s=o.length,c=Yn;for(;s--;)i=o[s],l=c.get(i),void 0===l&&c.set(i,l=s?new Map:Kn(t)),c=l;return l},Jn=($n(),{http:null,xhr:An,fetch:{get:$n}});Ot.forEach(Jn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch($a){}Object.defineProperty(e,"adapterName",{value:t})}});const Zn=e=>"- ".concat(e),er=e=>Ot.isFunction(e)||null===e||!1===e,tr=(e,t)=>{e=Ot.isArray(e)?e:[e];const{length:n}=e;let r,a;const o={};for(let i=0;i<n;i++){let n;if(r=e[i],a=r,!er(r)&&(a=Jn[(n=String(r)).toLowerCase()],void 0===a))throw new Ft("Unknown adapter '".concat(n,"'"));if(a&&(Ot.isFunction(a)||(a=a.get(t))))break;o[n||"#"+i]=a}if(!a){const e=Object.entries(o).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(Zn).join("\n"):" "+Zn(e[0]):"as no adapter specified";throw new Ft("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return a};function nr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xn(null,e)}function rr(e){nr(e),e.headers=mn.from(e.headers),e.data=hn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return tr(e.adapter||ln.adapter,e)(e).then(function(t){return nr(e),t.data=hn.call(e,e.transformResponse,t),t.headers=mn.from(t.headers),t},function(t){return gn(t)||(nr(e),t&&t.response&&(t.response.data=hn.call(e,e.transformResponse,t.response),t.response.headers=mn.from(t.response.headers))),Promise.reject(t)})}const ar="1.12.2",or={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{or[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ir={};or.transitional=function(e,t,n){function r(e,t){return"[Axios v"+ar+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,o)=>{if(!1===e)throw new Ft(r(a," has been removed"+(t?" in "+t:"")),Ft.ERR_DEPRECATED);return t&&!ir[a]&&(ir[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,o)}},or.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const lr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Ft("options must be an object",Ft.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const o=r[a],i=t[o];if(i){const t=e[o],n=void 0===t||i(t,o,e);if(!0!==n)throw new Ft("option "+o+" must be "+n,Ft.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Ft("Unknown option "+o,Ft.ERR_BAD_OPTION)}},validators:or},sr=lr.validators;class cr{constructor(e){this.defaults=e||{},this.interceptors={request:new Kt,response:new Kt}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch($a){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=zn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&lr.assertOptions(n,{silentJSONParsing:sr.transitional(sr.boolean),forcedJSONParsing:sr.transitional(sr.boolean),clarifyTimeoutError:sr.transitional(sr.boolean)},!1),null!=r&&(Ot.isFunction(r)?t.paramsSerializer={serialize:r}:lr.assertOptions(r,{encode:sr.function,serialize:sr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),lr.assertOptions(t,{baseUrl:sr.spelling("baseURL"),withXsrfToken:sr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=a&&Ot.merge(a.common,a[t.method]);a&&Ot.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=mn.concat(o,a);const i=[];let l=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const s=[];let c;this.interceptors.response.forEach(function(e){s.push(e.fulfilled,e.rejected)});let d,u=0;if(!l){const e=[rr.bind(this),void 0];for(e.unshift(...i),e.push(...s),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let p=t;for(;u<d;){const e=i[u++],t=i[u++];try{p=e(p)}catch(f){t.call(this,f);break}}try{c=rr.call(this,p)}catch(f){return Promise.reject(f)}for(u=0,d=s.length;u<d;)c=c.then(s[u++],s[u++]);return c}getUri(e){return Xt(En((e=zn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Ot.forEach(["delete","get","head","options"],function(e){cr.prototype[e]=function(t,n){return this.request(zn(n||{},{method:e,url:t,data:(n||{}).data}))}}),Ot.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(zn(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}cr.prototype[e]=t(),cr.prototype[e+"Form"]=t(!0)});const dr=cr;class ur{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new xn(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ur(function(t){e=t}),cancel:e}}}const pr=ur;const fr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fr).forEach(e=>{let[t,n]=e;fr[n]=t});const mr=fr;const hr=function e(t){const n=new dr(t),r=Ge(dr.prototype.request,n);return Ot.extend(r,dr.prototype,n,{allOwnKeys:!0}),Ot.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(zn(t,n))},r}(ln);hr.Axios=dr,hr.CanceledError=xn,hr.CancelToken=pr,hr.isCancel=gn,hr.VERSION=ar,hr.toFormData=Ut,hr.AxiosError=Ft,hr.Cancel=hr.CanceledError,hr.all=function(e){return Promise.all(e)},hr.spread=function(e){return function(t){return e.apply(null,t)}},hr.isAxiosError=function(e){return Ot.isObject(e)&&!0===e.isAxiosError},hr.mergeConfig=zn,hr.AxiosHeaders=mn,hr.formToJSON=e=>an(Ot.isHTMLForm(e)?new FormData(e):e),hr.getAdapter=tr,hr.HttpStatusCode=mr,hr.default=hr;const gr=hr,br=gr.create({baseURL:"http://127.0.0.1:8000"});br.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t)),e});const xr=(e,t)=>br.post("/api/login",{email:e,password:t}),vr=(e,t,n)=>br.post("/api/register",{name:e,email:t,password:n}),yr=(e,t)=>br.post("/api/cambiarClave",{current_password:e,password:t}),jr=()=>br.post("/api/logout"),wr=()=>br.get("/api/user"),Sr=e=>br.post("/api/verify-email",{token:e}),kr=(e,t,n)=>br.post("/api/change-initial-password",{token:e,password:t,password_confirmation:n}),Nr=br;var Cr=n(579);const Er=(0,o.createContext)(void 0),_r=e=>{let{children:t}=e;const[n,r]=(0,o.useState)(null),[a,i]=(0,o.useState)(!0),l=re(),s=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("authUser"),r(null)};(0,o.useEffect)(()=>{(async()=>{if(localStorage.getItem("authToken"))try{const e=await wr();r(e.data)}catch($a){s()}i(!1)})();const e=e=>{"authToken"===e.key&&null==e.newValue&&(s(),l("/"))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[l]);return(0,Cr.jsx)(Er.Provider,{value:{user:n,loading:a,login:async(e,t)=>{i(!0);try{const n=await xr(e,t),{token:a,user:o}=n.data;a&&(localStorage.setItem("authToken",a),localStorage.setItem("authUser",JSON.stringify(o)),r(o),l("/emisores"))}finally{i(!1)}},register:async(e,t,n)=>{i(!0);try{const a=await vr(e,t,n),{token:o,user:i}=a.data;o&&(localStorage.setItem("authToken",o),localStorage.setItem("authUser",JSON.stringify(i)),r(i),l("/emisores"))}finally{i(!1)}},logout:async()=>{try{await jr()}catch($a){}s(),l("/")}},children:t})},zr=()=>{const e=(0,o.useContext)(Er);if(!e)throw new Error("useUser must be used within UserProvider");return e},Tr=(0,o.createContext)(void 0),Ar=e=>{let{children:t}=e;const[n,r]=(0,o.useState)([]),a=(0,o.useCallback)(e=>{r(t=>t.filter(t=>t.id!==e))},[]),i=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3;const n="".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,9)),o=He({id:n},e);return r(e=>[o,...e]),t>0&&setTimeout(()=>a(n),t),n},[a]);return(0,Cr.jsxs)(Tr.Provider,{value:{show:i,hide:a,list:n},children:[t,(0,Cr.jsx)("div",{className:"notification-root","aria-live":"polite",children:n.map(e=>(0,Cr.jsxs)("div",{className:"notification-item ".concat(e.type),children:[(0,Cr.jsxs)("div",{className:"notification-body",children:[(0,Cr.jsx)("div",{className:"notification-title",children:e.title}),(0,Cr.jsx)("div",{className:"notification-message",children:e.message})]}),(0,Cr.jsx)("button",{className:"notification-close",onClick:()=>a(e.id),"aria-label":"Cerrar",children:"\u2715"})]},e.id))}),(0,Cr.jsx)("style",{children:"\n        .notification-root{position:fixed;right:18px;bottom:18px;display:flex;flex-direction:column;gap:12px;z-index:2000}\n        .notification-item{min-width:260px;max-width:420px;color:var(--color-notification-text);padding:12px 16px;border-radius:8px;display:flex;align-items:flex-start;gap:12px;box-shadow:0 8px 20px rgba(16,24,40,0.12);border-left:4px solid rgba(0,0,0,0.06)}\n        .notification-item .notification-title{font-weight:700;margin-bottom:6px}\n        .notification-item .notification-message{font-size:13px;opacity:0.95}\n        .notification-item.success{background:var(--color-success);border-left-color:var(--color-success-700)}\n        .notification-item.warning{background:var(--color-warning);border-left-color:var(--color-warning-700);color:var(--color-notification-text)}\n        .notification-item.error{background:#dc2626;border-left-color:#991b1b}\n        .notification-item.info{background:#2563eb;border-left-color:#1e40af}\n        .notification-close{background:transparent;border:none;color:var(--color-notification-text);font-weight:700;cursor:pointer;padding:4px 6px;border-radius:4px}\n      "})]})},Rr=()=>{const e=(0,o.useContext)(Tr);if(!e)throw new Error("useNotification must be used within NotificationProvider");return e},Or="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxIQEhAQEBAQEBUQEA8QFhUQEBAWDxUVGBEXFhURFxUYHSggGBolGxYVIT0hJSkrLi4uFx8zODMtOCguLisBCgoKDg0OGxAQGy0lICUtLy8vLystLS8tLi0tLS0tLS0tLS4tLS4tLS0tLS0rLS0rLy0tLS0tLS0tLS0tLS0tLf/AABEIAOEA4QMBEQACEQEDEQH/xAAbAAEAAQUBAAAAAAAAAAAAAAAAAQIDBAYHBf/EAEcQAAEDAQQFCAcFBQYHAAAAAAEAAhEDBBIhMQUGQVFxEyIyYYGRobEHFEJScpLBYoKiwtEjU9Lh8CQzQ2OjskRzg5Oz4/H/xAAaAQEAAwEBAQAAAAAAAAAAAAAAAwQFAQYC/8QANBEBAAIBAgMDCwMFAQEAAAAAAAECAwQREiExBUFREyIyYXGBkaGx0fBCweEjM0NS8RVi/9oADAMBAAIRAxEAPwDuKAgICAgICAgICAgICCC4bwgi+N470EyglAQEBAQEBAQEBAQEBAQEBAQEBAQEBBbqV2jCZO4Yu7ggo5R5yaG9bzj3D9UDknHOo77oAH1Pigj1Zu0E8XOPmUE+rU/3bPlagerM/ds+VqCPVWe4B8OHkgerR0XPbwcT/ulAioMnNf8AEC094nyQPWo6bXM6zi35hl2oL7XA4gzwQSgICAgICAgICAgICAgICAgt1KoGGZ3DNBRdc7pG6NzTj2u/RBWxgbgABwQVICAgICAgICAgsOswzYSw/ZyPFuRQOXLP7wYe+3o9o9ny60GQDOSCUBAQEBAQEBAQEBAQEFg1C7BuA2u/h38UFVNgbltzO08SgrQEHj6S1ms1CQ6qHuHsUue6dxjAHiQq2XV4sfKZ5+EK2XV4sfKZ5+prts18eZFGg1u41XEn5Wx5qlftKf0V+P2/lSv2lP6K/H8/d5NfWq2P/wAa51U6bAO8gnxVW2uz2/Vt7IhWtrc09+3sYdTTFpdnaa/ZVe3yIUc6jLPW0/FFOoyz+qfipGlLQP8AibR/36v8S+fLZf8AafjLnlsv+0/GWRS1htbcrTU+9dd/uBUkavNH6p+SSNXmj9UvRs2u1pb020qo62lru8GPBT07Ryx1iJ+X58E1O0csdYifz87nuWDXig+BVa+id8X6fe3HwVvH2jjt6UbfOFzH2jjt6XJsdmtTKrb9N7ajTtY4EeCvVvW8b1neF2t62jes7ry+n0IMc0SzGn2sPRPD3T4eaC9RrB+WBGBB6QO4hBcQEBAQEBAQEBAQEGOTf+Hxd/LzQXEErg8bTustGyc1x5SpGFNhF7qLjk0ccdwKrZ9VTFynnPgrZ9XTFynnPg0LS2sdotMhz+TYf8OnIbH2jm7tw6lkZtXky9Z2jwhj5tXky9Z2jwh5TQqysqBR1MoEoEoEoEoKSguWW01KLr9J7qbt7DE9RGRHUV90vak71nZ9Uvak71nZuGhdecmWtsbOVYMPvs2cR3BaeDtDuyfGP3aeDtDuyfGP3bnRrNe0PY5rmuEhzSC0jeCM1pxaJjeGnFotG8K5XXVmtSmHNN1wyP5TvCCuz170gi65uY+o3hBeQEBAQEBAQEBBjvdeMeyM+s7uCCqUCUGj6z65YmjZHDc6sMeyn/F3b1l6rXfpx/H7fdlarXfpxfH7fdpc5kkkkkkkySTmSdpWUy1QKOJlcCUC8gXl0Ly4F5AlAlBEroglB6OhNO1bG6WG8wnnU3HmHrHuu6x2yp8Govhnl08FjBqL4Z5dPB0zQ+lqVqpipSPU5p6bD7rh/QK3cWauWvFVu4c1MteKv/GdKlSrdanMObg5uR2fCeooLtnrXxORGBBzB3ILqAgICAgICCzXf7IzOZ3D9UFIEYBBKDnuumtJqF1ms7uYJbUe09M7abT7u87css8jWavinydOnf6/Ux9bq+L+nTp3+v1NRas5mqry4JvIF5AvIF5AvIF5AvIF5AvIF5AvIKSV0ZWi9J1LLUFWkYORB6D2+64f1CkxZbYrcVUuLLbFbiq6voXS1O10hVpnqc09JjtrT/WIgrfw5a5a8VXoMOauWvFX/jOUqVZq8w8oNmDhvbv4jy7EGY0ziNqCUBAQEBBD3QCTsxQYzdpOZxP0CCqUGn6/aw8i31Wi6KlRsvcM2UzsB2Od4Cd4VDW6jgjgr1n6M7Xangjydes9fVH8udtwWMxlUoJvIIL0FPLDeO8I5xR4q7yOl5AvIF5AvIF5AvIF5AvIIlBEoPS1d026xVhUEljobUaPabOY+0JJHaNqsafPOK+/d3rGnzzhvxd3e67QrNe1r2EOa9oc0jIgiQQt+JiY3h6GtotG8LkrrqiyOuk09nSbw2t7D4EIMtAQEBAQWLQ6SG7ucfoP63IKEGHpjSLbNRqV35U2zG1zjg1g6ySAvjJkjHWbT3I8uSMdJtPc4vabU+s99Wobz6ji5x6zsHUMo3ALzt7Te02nvebvab2m1usqQ5fL5VXkF2yUH1XspU2l76jg1rRtP0AEmdgBX1Sk3tFY6vqtZtaK16y6tq/qlQszWl7GVqubqj2ggHcwHojxO1beDS0xx03nxbuDR48cc43nx+z2nWKkQQaVIgiCDTbBG7JWOCvgs8FfByXXHRIslpcxginUAq09wBMOZ2HwLVh6vD5PJy6SwdXhjFk2jpPOHiXlWVS8gXkC8gXkC8gXkC8gXkEXkFLig3r0bab6VjefeqUp730/zfMtTQZv8c+5q9nZ/wDFPu/eP3b6tNqrdoBgOGbDeHXvHaJ8EGYxwIBGREoKkBAQEGGHTJ3mezZ4IJQc49J2lr1SnZGnCmBVqfG4cxp4Nk/fCyu0Mu8xSPbLI7Ry72jHHdzlpYKzmYkOXBN5B0b0YaKAY+2OHOeXUqfUxp55HFwj7nWtbQYtq8c97X7Ow7VnJPfyhvcrRaZKDVPSRo3lrLyzRLrMeU6+TOFQcAId9xU9bj48e8dY/JUdfi48XFHWPp3/AHcpvLEYZeQLyBeQLyBeQLyBeQLyBeQReQV2W1uo1KdamYdTe144g5HqOXAr7paaWi0dz6peaWi0dYdwsNrbWp06zOjUY143wRMHrXoq2i1YtHe9NS8XrFo71+V9PpNgMXme4cPhOI7suxBlICAgt2h0NPXh34IMZBDngAkmAASTuAzKG+zhGkLcbRWq13TNWo5+OwE81vY2B2LzuW/HebPM5L8d5t4rQKjRplAvIO3aq0rljsjRh/Z6TjxcwOd4kr0OCNsdY9T0mmrtirHqh6kqVMSgpqNDgWuAIcC0g5EEQQkxu5Mb8pcM0zYDZa9Wzun9m8gE7WHFju1pHbK87mx+TvNXm82Ocd5p4MKVGiJQJQJQJQJQJQJQJQJQUuKDpnov0jfs9SgTjZ6kj4KkuH4g/wAFsaC++Ph8G12dk3xzXw/f8luUq80EUzFRp95paeIxH5kGcgICDHtZ6I657h/8QWUHh672vkbDaXDN1Pkh/wBRwYfBxPYoNTbhxWlX1d+HDafzm4wwrBedVgrgm8gSg7fqrXv2OyOBn+z0Wni1ga7xBXocE746z6npNPO+Ks+qHqSpUxKBKDjGuulWWq11KlMgsYG0WuGTw2ZfwJJjqAWHq8kXybw8/rMsZMszHTo8O8qqqXkC8gXkC8gXkC8gXkC8gSgglBtPoytly2GnOFai9sb3Nh4PcH96vaC22Tbxhf7Pvtl28YdXWw21usYuu917D4wfAlB6SAgIMW1HEcD5j9EFpBpfpWrXbJSaPbtLJ4Cm8+d1UtdP9Pb1qHaM/wBKI9blzSsdiKwUEygSg6b6LtJ36FSzE40Hl7fgeZ8H3vmC19Bk3pw+DZ7Oyb0mnh9JbtKvNElBofpG1ldTmxUpaXsDqr8jcdMU28QMTuMbTGfrdRNfMqzddqZr/Tr73N5WUx0ygSgSgSgSgSgSgSgSgSgpLkHp6pV7lusjt9drPn5n5lY007ZarGltw5qz63cFuvRLdp6D/hce4Sg9JhkDgEEoCDEtXS+6PMoLSDQfS479lZRvq1D3MH6qhr/Qhm9pehX2ubNKymOrBQJQJQelq7pd1jtFOuJIEte0ZupnpN45EdbQpcGXyV4sm0+acV4s7fQrtqNa9jg5r2hzXDIgiQQt6JiY3h6OJiY3hXK660v0j6ANamLVSE1KDYeBm6lnPFuJ4F3UqWswcdeKOsM/Xafjrx16x9HL5WQxSVwJQJQJQJQJQJQJQJQJQQSgytCui02U7rTZz/qtUuH+5X2pcP8Acr7Yd7XoHpVFXou+E+SDPodFvwjyQXEBBiWrpD4fr/NBaQaH6XGfsLM7dXcO+mT+VUdf6Ee1ndpR5ke1zRoWSxlQCBC4EIEIN89G2sNxwsVV3NeSaJPsvOJpcHZjrkbQtLRZ/wDHb3NTQajb+nb3fZ0qFptYhByfXzVX1VxtFFv7B7sQMqTicuphOW44bpyNXpuCeOvT6MTW6Xyc8den0ajCoqBCBCBCBCBCBC6ELgQgQuiCFwZmgGXrXZBvtVn/APK1TYP7lfalwf3a+2HelvvSqK/Rd8LvJB6FEc1vAeSCtAQY1rGLeBHl/NBYQan6T7NfsJd+6rUqneTT/Oqmtrvi38FLtCu+HfwlyZoWMwlYC4JhAhAhAAjEEiMZBgg7wV2J2InZ1zUfWUWynyVUjl6TcdnKNGHKjrykb8dq2tLqPK12nrDe0ep8rXa3pR+btohWlxTVote1zXNDmuBaWuALSCIIIOYXJiJjaXJiJjaXL9bdRn0L1aytdUpZlgk1afDa9niNs5rK1GjmvnU6MfU6Gaedj5x4eDTAFQZyYQA2cACZgADEk7ABtK7HMjm6ToX0d0jQabVygrPEkMeAKc5NGBBI2kyJWri0NODz+rYxdn04PP6/R42m/R7aKMus5FpZndwbXHZk7sM9Sgy6G1edOavm7PvXnTn9WoVKZaS1wLXNMFrgQ4HcQcQqMxMTtKhMTE7SiFxwhAhBSQg9vUSz37fZhGDXPqHqu03EHvjvVrSRvlha0Vd81XaVtvQLVoHNI383vMfVB6YCCUBBZtQwB3EeOH1QYyDA0/YfWLNaKIzqUnhvxRLPxAKPLXipNUeanHjmvjDhVJeeeZXAFwTCBCBCBCC7Za76T21Kbyx7Dea4Zg/UbI2gkL6raazvHV9Vtas71nm7BqlrMy3Mgwyswc+nsIy5Rk5t8pg7CdzT6iMsetvabVVzR6++GwQrC0Qg1jWHUiz2omoz+z1TiXMAuOO97MiesQeKq5tJTJz6Sp59Fjy845S57pfVC12Y86kardj6AL29oAvN7RHWs3JpMlO7f2MvLpMuPu3j1Nq1A1RLCLXaWFrhjSpvEFv+a4HJ24HLPOIt6TS8Pn369y7otJw/1L9e6P3b/C0WmQg87TGgrPaxFek15AgPGFVvB4xHDJR5MVMkbWhFlw0yRtaHNdbdTHWJvLU6nK0rwabwAqsJymMHCcJEZjDasrU6TyccVZ5MjVaOcUcUTvDVYVJRIQUkLo3b0U2Ka1ornKnTbSG6XuvHtAYPmWj2fTnNmn2bTe1re50tajXUkS5jd7gewCfOEHooCAgpqNkEbwQgwwglBxbW7Rnq1srsAhr3cszddeSYHUHXm/dWDqsfBlmPe89qsfk8sx7/AIvKDVXVkwgQgQgQgQgu2as+k9tSm4sew3muacQf62ZFfVbTWd46vqtprPFHV1LVPXOnartGvdpVsANlKqfsnY77J7J2bGn1dcnK3KW1ptbXJ5tuU/VtsK4vEIEIEIEIEIEINQ9J9cNsbWbatem0cGgvJ/CO9U9dbbFt4yodo22xbeM/y5VCxWIEIKHBB17UPRnq9jpyIdWmu7fzgLo+QN7ZW7pMfBij183oNFj4MUb9Z5tiVlaLM2Xk+4272nE+F1BmoCAgIMWo2HEb8R9fHzQQg0/0kaH5Wg20NEus83ozNI9LuMHheVHXYuKnFHd9Gf2hh4qccdY+jmYCx2KkNXBN1AuoF1AuoF1BBYg2zV7XivZ4p1ptNMYc4/t2jqeekOp3eFew661OVucfNewa69OVucfN0LQ+sNmtccjVbej+7fzao+6c+IkLTx58eT0ZauLUY8voz7u96sKZOQgQgQgh5ABJIAAJJJgADMkoTOzkWvWnm2ys0UsaVAOa0++4kXn8MABwJ2rE1meMltq9IYOs1EZb7V6Q1q6qamghdHp6saI9btNOkRzAeUqf8tpEjtMN+8p9Ni8pkiO7vWNNh8rkivd3+x2mFvvRIcYBJyAJQXbGyGic3S48Ts+iC+gICAgtWhuE7sezaEFpBDmggggEEEEHIg5goTG7j+s2gzY65pieTdL6RO1s9Gd7cu47VganD5K+3d3PO6nB5G/D3d356nlBqrq5dQLqBdQLqBdQLqBdQCz9UHu6L1rtlngNrGo0ezXl4+abw74VnHrMtO/f2rOPWZqdJ39vP+W1aP8ASLTMC0UKlM+9SIeziQYcOwFXado0n0o2XsfaVZ9Ou3s5vYZrnYSJ9YjqNKsD3FqsRrMP+yzGtwT+r5Swrd6QLKwHkhVrnZDCxvaXwQOAKjvr8UdOaK/aOKPR3n5fVpGn9ZrRbOa8inTn+6pzdO6+c39uHUs7Nqr5eU8o8Gbn1WTNynlHh+dXiXVWVkXUFDgg6xqToL1ShLxFWtD372iObT7AT2krd0mDyVOfWerf0en8lTn1nr9mxK0trbm3nBmzBzuAOA7T5FBnICAgICAgxKWR3EmOE4IKkHPfSTbb1WlQGVJhqO+J+AHY1s/eWR2jk3tFPBj9pZN7xTw/f8+bTw1ZzNTdQRdQTdQLqBdQLqBdQLqBdQLqBdQLqCIQIR1SQjjcdQtW77m2ys3mNM0Wn2nD/FI3DZvOOwTp6LTbz5S3u+7S0Om4p8pbp3ff7OhrVbCmo66CTs7+CC7ZaRaJPScZP0HYEF5AQEBAQWrQ6GmMzzRxOCCgNjAbMEAkDE4AYoOM6UtfrFatW/ePLh8OTB8oaF5vLk47zbxeZy5PKXm/j+R8mOGqNGm6uBdQLqBdQLqBdQLqBdQLqBdQLqBdXREIKSEGz6paqG0FteuCKObWnA1f0Z17eGKv6TScfn36fX+F/SaOcnn39H6/x9XSWtAAAAAAgAZAbgFsttKC3RbfN72W9HrPvcNyDLQEBAQEBBYqmXAe6L3acB9UEoPC12t3I2SrBh1WKLd/P6X4Q49iq6zJwYp9fJU1uTgwz6+Xx/hy1iwGArhBXQoOqG6xrnu3MaXO7gu1ibTtWN31Ws2nasbsq3aIr0GtfWovY12RMEcDBN09RhSZMOTHG9q7PvJgyY43tGzChRIkwgQgmECECECEEQgQgiECnTc9wYxrnucYDWglx4ALsRNp2jq7ETM7Q3fVzUoNirawHHMUcCwdbzk49Qw4rV0+g287J8Pu1dNoNvOy/D7/AJ8W6wtNqCC1HKGB0Rmfe+yOpBlAIJQEBAQEBBj0cZd7xJ7Mh5T2oLkIOd+kKtUtFppWWhTqVeRZfeKbXOh7+jejKGicffWXruLJaKVjfZk6+bZLxSsb7fux9G6jWqpBqmnQH2jfqfK3D8Sgp2flt6XL5/nxRY+z8tvS5fOfz3tosGpNmpwal+uftmGfK2PGVdx6DFXrz9q7j7PxV682wWezMpi7TY1jRsY0NHcFcrWKxtWNlyta1jasbKnsDgQ4AgiCCJBG4jauzG/KXZiJ5S1bS+pFKpLrO7kXe6ZNI8NreyR1LPzdn0tzpy+n8fnJn5uz6W505fRp+kdBWmzzylJ10e2znU+MjLthZuTTZcfpR746fntZuTTZcfpR8On57XnNdKgQKkBBKCEESgrs9F9V12mx9R25jS49sZBfVazedqxu+q1m07Vjdsmi9R61SDXcKDfdbDqp/K3vPBX8XZ97c78vqvYuz72535R8/t9W66J0NQsoijTDSRBccajuLj5ZLTxYaYo2rDUxYKYo82Puz4UyZBQWgDUykM37XdQ3BBktaAIGACCUBAQEBAQWrQ6GmMzDRxOCCoCIA2YICAAgICAgBAQEHn23QVmrSalCmSfaAuv+ZsFQ5NPiv6VYQ30+K/pVh49o1Fszug+tT6g9rh+IE+KrW7OxT0mY/PWrW7OxT0mY/PWw6moA9m1OHxUQfJwUU9mR3W+X/EU9mR3W+Sgej87bX/of+xfP/mT/AL/L+XP/ADP/AL+X8silqDS9uvWPwhjfMFSR2bTvtPyfcdm077T8npWXVGx08eS5Q/5rnOHy9HwU9dDhr3b+1PTRYa92/te1QoNYA1jGsaNjGgN7grVaxWNoharWKxtEK110QUVKoGGJO4Z/y7UECiXYv7GjojjvKC+gICAgICAgILL8Xge6L3acB4SguICASgs+st9mX/AJHfl4oH7Q+6zjznfoPFBPqoPSJf8AEcPlGCCrkY6PN6h0e5BF8jpN7W4juzQVteDkQeCCUBAQEBAQEFo1xslx+zj45IF1zszcG5uLu/Z2ILlOmG5CPM9ZO1BWgICAgICAgICCxSOBeTF4k45RkPAT2oI9YB6Ic/4Rh8xwQLtQ7Ws4c53ecPBBIsrc3S8/bM9wyCC+AgICAgIKH0gcwPr3oKeS3OcOMHzQLr97T2EfVBEv91vzn9ECX+635z/Cgc/cwdpP6IHJuOb4+Fo+soJ9Xbtl3xEnwyQXAEEoCAgICAgICAgICC16u2ZiSMpxjhOSC6gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIP//Z",Pr=e=>{let{message:t="Cargando\u2026",size:n=56,fullHeight:r=!1,inline:a=!1}=e;const o=Math.max(4,Math.round(n/8));return(0,Cr.jsxs)("div",{className:"loading-spinner".concat(r?" loading-spinner--full":"").concat(a?" loading-spinner--inline":""),role:"status","aria-live":"polite","aria-label":t,children:[(0,Cr.jsx)("div",{className:"loading-spinner__ring",style:{width:n,height:n,borderWidth:o}}),t&&(0,Cr.jsx)("p",{className:"loading-spinner__message",children:t})]})},Lr=()=>{const[e,t]=(0,o.useState)({username:"",password:""}),[n,r]=(0,o.useState)(!1),[a,i]=(0,o.useState)(!1),{login:l}=zr(),{show:s}=Rr(),[c,d]=(0,o.useState)(null),[u,p]=(0,o.useState)(null),f={backgroundImage:"linear-gradient(90deg, rgba(255,140,0,0.6), rgba(12,45,231,0.8)), url('".concat(Qe,"')"),backgroundSize:"cover",backgroundPosition:"center"};return(0,Cr.jsx)("div",{className:"auth-bg",style:f,children:(0,Cr.jsxs)("div",{className:"auth-card",children:[(0,Cr.jsx)("img",{src:Ve,alt:"logo",className:"auth-logo"}),(0,Cr.jsx)("h2",{className:"auth-title",children:"Iniciar sesi\xf3n"}),(0,Cr.jsxs)("form",{className:"auth-form",onSubmit:t=>{t.preventDefault(),d(null),p(null);const{username:n,password:r}=e;let a=!1;""===n.trim()?(d("El campo Usuario no puede estar vac\xedo."),a=!0):n.length>40&&(d("El usuario no puede exceder los ".concat(40," caracteres.")),a=!0),""===r.trim()?(p("El campo Contrase\xf1a no puede estar vac\xedo."),a=!0):r.length>30&&(p("La contrase\xf1a no puede exceder los ".concat(30," caracteres.")),a=!0),a||(async e=>{i(!0);try{await l(e.username,e.password)}catch(t){s({title:"Credenciales Incorrectas",message:"Verifique por favor su usuario o contrase\xf1a. Reintente iniciar sesi\xf3n",type:"error"})}finally{i(!1)}})(e)},children:[(0,Cr.jsxs)("div",{className:"field-stack",children:[(0,Cr.jsx)("div",{className:"auth-input-wrapper",children:(0,Cr.jsx)("input",{className:"auth-input ".concat(c?"input-error":""),placeholder:"Ingrese su email o usuario",value:e.username,maxLength:40,onChange:n=>{t(He(He({},e),{},{username:n.target.value})),c&&d(null)}})}),(0,Cr.jsx)("label",{className:"field-label",children:"Email o usuario:"}),c&&(0,Cr.jsxs)("p",{className:"validation-error",children:["\u26a0\ufe0f ",c]})]}),(0,Cr.jsxs)("div",{className:"field-stack",children:[(0,Cr.jsxs)("div",{className:"auth-input-wrapper",children:[(0,Cr.jsx)("input",{className:"auth-input ".concat(u?"input-error":""),type:n?"text":"password",placeholder:"******",value:e.password,maxLength:30,onChange:n=>{t(He(He({},e),{},{password:n.target.value})),u&&p(null)}}),(0,Cr.jsx)("button",{type:"button",className:"eye-btn",onClick:()=>r(!n),"aria-label":"toggle",children:(0,Cr.jsx)("span",{className:"eye-icon",children:n?"\ud83d\ude49":"\ud83d\ude48"})})]}),(0,Cr.jsx)("label",{className:"field-label",children:"Contrase\xf1a:"}),u&&(0,Cr.jsxs)("p",{className:"validation-error",children:["\u26a0\ufe0f ",u]})]}),(0,Cr.jsx)("div",{className:"buttons-row",children:(0,Cr.jsx)("button",{className:"primary-btn",type:"submit",disabled:a,children:a?(0,Cr.jsx)(Pr,{inline:!0,size:20,message:"Iniciando\u2026"}):"INICIAR SESI\xd3N"})}),(0,Cr.jsxs)("div",{className:"auth-links-footer",children:[(0,Cr.jsxs)("a",{href:"https://wa.me/message/72PVPYUWIIPOG1",target:"_blank",rel:"noopener noreferrer",className:"support-link",children:["Soporte ",(0,Cr.jsx)("img",{src:Or,alt:"WhatsApp",className:"whatsapp-icon"})]}),(0,Cr.jsx)("a",{className:"forgot",href:"/PasswordRecovery",children:"Olvid\xe9 mi contrase\xf1a"})]})]})]})})},Ir=()=>{const[e,t]=(0,o.useState)(""),[n,r]=(0,o.useState)(""),{show:a}=Rr(),i=re();(0,o.useEffect)(()=>{let e;return n&&(e=setTimeout(()=>{r("")},4e3)),()=>{e&&clearTimeout(e)}},[n]);const l={backgroundImage:"linear-gradient(90deg, rgba(12,45,231,0.8), rgba(255,140,0,0.6)), url('".concat(Qe,"')"),backgroundSize:"cover",backgroundPosition:"center",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"};return(0,Cr.jsxs)("div",{className:"auth-bg",style:l,children:["\xa0 \xa0 \xa0 ",(0,Cr.jsxs)("div",{className:"auth-card",children:["\xa0 \xa0 \xa0 \xa0 ",(0,Cr.jsx)("img",{src:Ve,alt:"M\xe1ximo Facturas Logo",className:"auth-logo"}),"\xa0 \xa0 \xa0 \xa0","\xa0 \xa0 \xa0 \xa0 ",(0,Cr.jsx)("h2",{className:"recovery-title",children:"Recuperar contrase\xf1a"}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,Cr.jsxs)("form",{className:"auth-form",onSubmit:async t=>{if(t.preventDefault(),e&&e.includes("@"))try{const t="http://127.0.0.1:8000",n=await fetch(t+"/api/password-recovery",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:e})}),o=await n.json();if(n.ok)return a({title:"Correo enviado",message:"Se ha enviado un enlace de recuperaci\xf3n a ".concat(e,". Por favor revisa tu bandeja de entrada y carpeta de spam. El enlace expirar\xe1 en 60 minutos."),type:"success"},5e3),void setTimeout(()=>{i("/")},3e3);if(429===n.status){let e=o.message;return e=e.replace(/(\d+)\.\d+\s+segundos/g,"$1 segundos"),void a({title:"Solicitud muy frecuente",message:e,type:"info"},5e3)}if(404===n.status)return a({title:"Usuario no encontrado",message:"No existe una cuenta registrada con ese correo electr\xf3nico",type:"error"},5e3),void r("No existe una cuenta registrada con ese correo electr\xf3nico");if(500===n.status)return a({title:"Error del servidor",message:"Error al enviar el correo. Por favor intenta m\xe1s tarde.",type:"error"},5e3),void r("Error al enviar el correo. Por favor intenta m\xe1s tarde.");const l=o.message||"No se pudo enviar el correo de recuperaci\xf3n";a({title:"Error",message:l,type:"error"},5e3),r(l)}catch(n){console.error("[PasswordRecovery] Error:",n);const t="Error de conexi\xf3n con el servidor. Verifica que el backend est\xe9 en funcionamiento.";a({title:"Error de conexi\xf3n",message:t,type:"error"},5e3),r(t)}else r("Por favor, ingrese un email v\xe1lido.")},children:[(0,Cr.jsxs)("div",{className:"field-stack",children:[(0,Cr.jsx)("div",{className:"auth-input-wrapper",children:(0,Cr.jsx)("input",{type:"email",className:"auth-input ".concat(n?"input-error":""),placeholder:"Ingrese el correo asociado a su cuenta",value:e,onChange:e=>{t(e.target.value),n&&r("")},autoComplete:"email"})}),(0,Cr.jsx)("label",{className:"field-label",children:"Email:"}),n&&(0,Cr.jsxs)("p",{className:"validation-error",children:["\u26a0\ufe0f ",n]})]}),(0,Cr.jsxs)("div",{className:"buttons-container-recovery",children:[(0,Cr.jsx)("button",{type:"button",className:"cancel-button",onClick:()=>i("/"),children:"CANCELAR"}),(0,Cr.jsx)("button",{type:"submit",className:"submit-button",children:"ENVIAR"})]})]}),(0,Cr.jsx)("div",{className:"support-footer-recovery",children:(0,Cr.jsxs)("a",{href:"https://wa.me/message/72PVPYUWIIPOG1",target:"_blank",rel:"noopener noreferrer",className:"support-link",children:["Soporte",(0,Cr.jsx)("img",{src:Or,alt:"WhatsApp",className:"whatsapp-icon"})]})}),"\xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 ","\xa0 \xa0 \xa0 ",n&&(0,Cr.jsxs)("div",{className:"floating-error-container",children:["\xa0 \xa0 \xa0 \xa0 \xa0 ",(0,Cr.jsxs)("div",{className:"error-content",children:["\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,Cr.jsx)("div",{className:"error-title",children:"Error de validaci\xf3n"}),"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 ",(0,Cr.jsx)("div",{className:"error-description",children:n}),"\xa0 \xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 \xa0 \xa0 \xa0 ",(0,Cr.jsx)("div",{className:"error-icon",onClick:()=>r(""),children:"\u2715"}),"\xa0 \xa0 \xa0 \xa0 "]}),"\xa0 \xa0 "]})};const Fr=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/,Dr=e=>{let{onSubmit:t}=e;const n=new URLSearchParams(te().search),r=re(),a=n.get("token")||"",i=n.get("email")||"",[l,s]=(0,o.useState)(i),c=Boolean(a),{user:d,logout:u}=zr(),p=Boolean(d),f=c,m=!c&&p,[h,g]=(0,o.useState)(""),[b,x]=(0,o.useState)(""),[v,y]=(0,o.useState)(!1),[j,w]=(0,o.useState)(null),[S,k]=(0,o.useState)({}),[N,C]=(0,o.useState)(!1),[E,_]=(0,o.useState)(!1),[z,T]=(0,o.useState)(!1),[A,R]=(0,o.useState)(""),{show:O}=Rr();(0,o.useEffect)(()=>{w(null),k({})},[h,b]);const P=()=>{const e={};return Fr.test(h)||(e.password="La contrase\xf1a debe tener m\xednimo 8 caracteres, incluyendo may\xfascula, min\xfascula, n\xfamero y car\xe1cter especial."),h!==b&&(e.password_confirmation="Las contrase\xf1as no coinciden."),e};return(0,Cr.jsx)("div",{className:"update-password-container",children:(0,Cr.jsxs)("div",{className:"update-password-card",children:[(0,Cr.jsx)("img",{src:Ve,alt:"M\xe1ximo Facturas",className:"update-password-logo"}),(0,Cr.jsx)("p",{className:"update-password-requirements",children:"La contrase\xf1a debe tener un m\xednimo de 8 caracteres, incluyendo al menos una letra may\xfascula, una letra min\xfascula, un n\xfamero y un caracter especial."}),(0,Cr.jsxs)("form",{onSubmit:f?async e=>{if(e.preventDefault(),w(null),!l)return void k({general:"Por favor ingrese el correo asociado a su cuenta."});const t=P();if(Object.keys(t).length)k(t);else{y(!0);try{const e="http://127.0.0.1:8000"+"/api/password-reset";console.log("[CambiarPassword] Enviando POST a:",e),console.log("[CambiarPassword] Datos:",{email:l,token:a,password:"***",password_confirmation:"***"});const t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:l,token:a,password:h,password_confirmation:b})});console.log("[CambiarPassword] Respuesta status:",t.status);const s=t.headers.get("content-type")||"";let c=null;if(s.includes("application/json"))c=await t.json();else{const e=await t.text();c={message:e.substring(0,1e3)},console.debug("[CambiarPassword] response text (non-json):",e.substring(0,2e3))}if(t.ok){w("Contrase\xf1a actualizada correctamente. Ser\xe1s redirigido al login.");try{O({title:"Contrase\xf1a actualizada",message:"Se redirigir\xe1 al login",type:"success"},3e3)}catch(o){}setTimeout(()=>r("/"),2e3)}else{var n;const e=(null===(n=c)||void 0===n?void 0:n.message)||"Error al restablecer contrase\xf1a";k({general:e});try{O({title:"Error",message:String(e),type:"error"},5e3)}catch(i){}}}catch(s){const e=(null===s||void 0===s?void 0:s.message)||"Error de red";k({general:e});try{O({title:"Error de red",message:String(e),type:"error"},5e3)}catch(c){}}finally{y(!1)}}}:async e=>{e.preventDefault(),w(null);const n=P();if(Object.keys(n).length)k(n);else{y(!0);try{if(t)await t(h);else{if(!A)return k({general:"Por favor ingrese su contrase\xf1a actual."}),void y(!1);await yr(A,h),await u()}w("Contrase\xf1a actualizada correctamente. Ser\xe1s redirigido al login.");try{O({title:"Contrase\xf1a actualizada",message:"Se redirigir\xe1 al login",type:"success"},3e3)}catch(i){}setTimeout(()=>r("/"),1200)}catch(l){var a,o;const e=(null===l||void 0===l||null===(a=l.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message)||(null===l||void 0===l?void 0:l.message)||"Error al cambiar contrase\xf1a";k({general:e});try{O({title:"Error",message:String(e),type:"error"},5e3)}catch(s){}}finally{y(!1)}}},className:"update-password-form",children:[f&&!l&&(0,Cr.jsxs)("div",{className:"password-field",children:[(0,Cr.jsx)("div",{className:"input-group",children:(0,Cr.jsx)("input",{type:"email",value:l,onChange:e=>s(e.target.value),className:"password-input",placeholder:"Ingrese el correo asociado a su cuenta"})}),(0,Cr.jsx)("label",{className:"password-label",children:"Email"})]}),(0,Cr.jsxs)("div",{className:"password-field",children:[(0,Cr.jsxs)("div",{className:"input-group",children:[(0,Cr.jsx)("input",{type:N?"text":"password",value:h,onChange:e=>g(e.target.value),className:"password-input",placeholder:"Ingrese la nueva contrase\xf1a"}),(0,Cr.jsx)("button",{type:"button",className:"toggle-visibility",onClick:()=>C(!N),"aria-label":N?"Ocultar contrase\xf1a":"Mostrar contrase\xf1a",children:N?"\ud83d\ude49":"\ud83d\ude48"})]}),(0,Cr.jsx)("label",{className:"password-label",children:"Contrase\xf1a:"}),S.password&&(0,Cr.jsx)("div",{className:"field-error",children:S.password})]}),(0,Cr.jsxs)("div",{className:"password-field",children:[(0,Cr.jsxs)("div",{className:"input-group",children:[(0,Cr.jsx)("input",{type:E?"text":"password",value:b,onChange:e=>x(e.target.value),className:"password-input",placeholder:"Vuelva a ingresar la nueva contrase\xf1a"}),(0,Cr.jsx)("button",{type:"button",className:"toggle-visibility",onClick:()=>_(!E),"aria-label":E?"Ocultar contrase\xf1a":"Mostrar contrase\xf1a",children:E?"\ud83d\ude49":"\ud83d\ude48"})]}),(0,Cr.jsx)("label",{className:"password-label",children:"Confirmaci\xf3n de contrase\xf1a:"}),S.password_confirmation&&(0,Cr.jsx)("div",{className:"field-error",children:S.password_confirmation})]}),m&&(0,Cr.jsxs)("div",{className:"password-field",children:[(0,Cr.jsxs)("div",{className:"input-group",children:[(0,Cr.jsx)("input",{type:z?"text":"password",value:A,onChange:e=>R(e.target.value),className:"password-input",placeholder:"Contrase\xf1a actual"}),(0,Cr.jsx)("button",{type:"button",className:"toggle-visibility",onClick:()=>T(!z),"aria-label":z?"Ocultar contrase\xf1a actual":"Mostrar contrase\xf1a actual",children:z?"\ud83d\ude49":"\ud83d\ude48"})]}),(0,Cr.jsx)("label",{className:"password-label",children:"Contrase\xf1a actual"})]}),S.general&&(0,Cr.jsx)("div",{className:"form-error",children:S.general}),j&&(0,Cr.jsx)("div",{className:"form-success",children:j}),(0,Cr.jsx)("div",{className:"form-actions",children:(0,Cr.jsx)("button",{type:"submit",className:"update-button",disabled:v||!h||!b,children:v?(0,Cr.jsx)(Pr,{inline:!0,size:18,message:"Procesando\u2026"}):f?"Actualizar contrase\xf1a":"ACTUALIZAR"})})]}),(0,Cr.jsxs)("a",{href:"https://wa.me/message/72PVPYUWIIPOG1",target:"_blank",rel:"noopener noreferrer",className:"support-link",children:["Soporte",(0,Cr.jsx)("img",{src:Or,alt:"WhatsApp",className:"whatsapp-icon"})]})]})})};const Br=()=>{const e=new URLSearchParams(te().search),t=re(),n=e.get("token")||"",[r,a]=(0,o.useState)(!0),[i,l]=(0,o.useState)(!1),[s,c]=(0,o.useState)(null),{show:d}=Rr();return(0,o.useEffect)(()=>{(async()=>{if(!n)return c("Token de verificaci\xf3n no v\xe1lido. Por favor, revisa el enlace que recibiste por correo."),void a(!1);try{200===(await Sr(n)).status&&(l(!0),d({title:"\u2705 Email Verificado",message:"Tu cuenta ha sido activada. Revisa tu correo para establecer tu contrase\xf1a.",type:"success"},5e3),setTimeout(()=>{t("/login")},5e3))}catch(o){var e,r;const t=(null===o||void 0===o||null===(e=o.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||"Error al verificar el email. El token puede haber expirado o ya fue usado.";c(t),d({title:"\u274c Error",message:t,type:"error"},6e3)}finally{a(!1)}})()},[n,t,d]),(0,Cr.jsxs)("div",{className:"update-password-container",children:[(0,Cr.jsxs)("div",{className:"update-password-card",children:[(0,Cr.jsx)("img",{src:Ve,alt:"M\xe1ximo Facturas",className:"update-password-logo"}),r&&(0,Cr.jsxs)("div",{style:{textAlign:"center",padding:"40px 0"},children:[(0,Cr.jsx)(Pr,{}),(0,Cr.jsx)("h2",{style:{color:"#0d6efd",marginTop:"24px",fontSize:"24px"},children:"Verificando tu email..."}),(0,Cr.jsx)("p",{style:{color:"#666",marginTop:"12px",fontSize:"16px"},children:"Por favor espera un momento"})]}),!r&&i&&(0,Cr.jsxs)("div",{style:{textAlign:"center",padding:"40px 0"},children:[(0,Cr.jsx)("div",{style:{fontSize:"64px",marginBottom:"24px",animation:"bounce 1s ease-in-out"},children:"\u2705"}),(0,Cr.jsx)("h2",{style:{color:"#0d6efd",marginBottom:"16px",fontSize:"28px",fontWeight:700},children:"\xa1Email Verificado Exitosamente!"}),(0,Cr.jsxs)("div",{className:"update-password-requirements",children:[(0,Cr.jsx)("p",{style:{marginBottom:"12px",fontSize:"16px"},children:(0,Cr.jsx)("strong",{children:"Tu cuenta ha sido activada"})}),(0,Cr.jsx)("p",{style:{marginBottom:"8px"},children:"\ud83d\udce7 Hemos enviado un correo electr\xf3nico a tu bandeja de entrada"}),(0,Cr.jsx)("p",{style:{marginBottom:"8px"},children:"\ud83d\udd10 Sigue las instrucciones para establecer tu contrase\xf1a personalizada"}),(0,Cr.jsx)("p",{style:{marginTop:"20px",color:"#0d6efd",fontWeight:600},children:"Ser\xe1s redirigido al login en unos segundos..."})]}),(0,Cr.jsx)("button",{onClick:()=>t("/login"),className:"update-button",style:{marginTop:"24px"},children:"Ir al Login Ahora"})]}),!r&&!i&&s&&(0,Cr.jsxs)("div",{style:{textAlign:"center",padding:"40px 0"},children:[(0,Cr.jsx)("div",{style:{fontSize:"64px",marginBottom:"24px"},children:"\u274c"}),(0,Cr.jsx)("h2",{style:{color:"#dc3545",marginBottom:"16px",fontSize:"28px",fontWeight:700},children:"Error en la Verificaci\xf3n"}),(0,Cr.jsx)("div",{className:"form-error",style:{maxWidth:"500px",margin:"0 auto 24px",fontSize:"16px",padding:"16px"},children:s}),(0,Cr.jsxs)("div",{className:"update-password-requirements",children:[(0,Cr.jsx)("p",{style:{marginBottom:"8px"},children:"\u2139\ufe0f El enlace de verificaci\xf3n puede haber expirado (24 horas de validez)"}),(0,Cr.jsx)("p",{style:{marginBottom:"8px"},children:"\ud83d\udd04 Contacta al administrador para solicitar un nuevo enlace"})]}),(0,Cr.jsx)("button",{onClick:()=>t("/login"),className:"update-button",style:{marginTop:"24px"},children:"Volver al Login"})]}),(0,Cr.jsxs)("a",{href:"https://wa.me/593987654321",target:"_blank",rel:"noopener noreferrer",className:"support-link",children:[(0,Cr.jsx)("img",{src:Or,alt:"WhatsApp",style:{width:28,height:28}}),(0,Cr.jsx)("span",{children:"Soporte"})]})]}),(0,Cr.jsx)("style",{children:"\n        @keyframes bounce {\n          0%, 100% { transform: scale(1); }\n          50% { transform: scale(1.2); }\n        }\n      "})]})};const Wr=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/,Mr=()=>{const e=new URLSearchParams(te().search),t=re(),n=e.get("token")||"",[r,a]=(0,o.useState)(""),[i,l]=(0,o.useState)(""),[s,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)({}),[p,f]=(0,o.useState)(!1),[m,h]=(0,o.useState)(!1),{show:g}=Rr();(0,o.useEffect)(()=>{n||u({general:"Token de verificaci\xf3n no v\xe1lido. Por favor, revisa el enlace que recibiste por correo."})},[n]),(0,o.useEffect)(()=>{u({})},[r,i]);return(0,Cr.jsx)("div",{className:"update-password-container",children:(0,Cr.jsxs)("div",{className:"update-password-card",children:[(0,Cr.jsx)("img",{src:Ve,alt:"M\xe1ximo Facturas",className:"update-password-logo"}),(0,Cr.jsx)("h2",{style:{color:"#0d6efd",marginBottom:"8px",fontSize:"28px",fontWeight:700},children:"Establece tu Contrase\xf1a"}),(0,Cr.jsx)("p",{style:{color:"#666",marginBottom:"24px",fontSize:"16px"},children:"Crea una contrase\xf1a segura para tu cuenta"}),(0,Cr.jsxs)("div",{className:"update-password-requirements",style:{background:"linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%)",padding:"24px",borderRadius:"12px",border:"1px solid #e0e7ff",marginBottom:"28px"},children:[(0,Cr.jsxs)("p",{style:{fontWeight:700,marginBottom:"20px",color:"#0d6efd",fontSize:"17px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[(0,Cr.jsx)("span",{style:{fontSize:"22px"},children:"\ud83d\udccb"}),"Requisitos de la contrase\xf1a:"]}),(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px",maxWidth:"700px",margin:"0 auto"},children:[(0,Cr.jsxs)("div",{style:{padding:"12px 16px",background:"white",borderRadius:"10px",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 2px 6px rgba(13, 110, 253, 0.1)",fontSize:"14px",color:"#333",transition:"all 0.3s ease"},children:[(0,Cr.jsx)("span",{style:{color:"#0d6efd",fontSize:"20px",fontWeight:"bold",minWidth:"20px",textAlign:"center"},children:"\u2713"}),(0,Cr.jsx)("span",{children:"M\xednimo 8 caracteres"})]}),(0,Cr.jsxs)("div",{style:{padding:"12px 16px",background:"white",borderRadius:"10px",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 2px 6px rgba(13, 110, 253, 0.1)",fontSize:"14px",color:"#333",transition:"all 0.3s ease"},children:[(0,Cr.jsx)("span",{style:{color:"#0d6efd",fontSize:"20px",fontWeight:"bold",minWidth:"20px",textAlign:"center"},children:"\u2713"}),(0,Cr.jsx)("span",{children:"Una letra may\xfascula (A-Z)"})]}),(0,Cr.jsxs)("div",{style:{padding:"12px 16px",background:"white",borderRadius:"10px",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 2px 6px rgba(13, 110, 253, 0.1)",fontSize:"14px",color:"#333",transition:"all 0.3s ease"},children:[(0,Cr.jsx)("span",{style:{color:"#0d6efd",fontSize:"20px",fontWeight:"bold",minWidth:"20px",textAlign:"center"},children:"\u2713"}),(0,Cr.jsx)("span",{children:"Una letra min\xfascula (a-z)"})]}),(0,Cr.jsxs)("div",{style:{padding:"12px 16px",background:"white",borderRadius:"10px",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 2px 6px rgba(13, 110, 253, 0.1)",fontSize:"14px",color:"#333",transition:"all 0.3s ease"},children:[(0,Cr.jsx)("span",{style:{color:"#0d6efd",fontSize:"20px",fontWeight:"bold",minWidth:"20px",textAlign:"center"},children:"\u2713"}),(0,Cr.jsx)("span",{children:"Un n\xfamero (0-9)"})]}),(0,Cr.jsxs)("div",{style:{padding:"12px 16px",background:"white",borderRadius:"10px",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 2px 6px rgba(13, 110, 253, 0.1)",fontSize:"14px",color:"#333",gridColumn:"span 2",maxWidth:"400px",margin:"0 auto",width:"100%",transition:"all 0.3s ease"},children:[(0,Cr.jsx)("span",{style:{color:"#0d6efd",fontSize:"20px",fontWeight:"bold",minWidth:"20px",textAlign:"center"},children:"\u2713"}),(0,Cr.jsx)("span",{children:"Un car\xe1cter especial (!@#$%^&*)"})]})]})]}),d.general&&(0,Cr.jsx)("div",{className:"form-error",style:{marginBottom:"20px"},children:d.general}),(0,Cr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!n)return void g({title:"\u274c Error",message:"Token no v\xe1lido",type:"error"},5e3);const a=(()=>{const e={};return r?Wr.test(r)||(e.password="La contrase\xf1a debe tener m\xednimo 8 caracteres, incluyendo may\xfascula, min\xfascula, n\xfamero y car\xe1cter especial."):e.password="La contrase\xf1a es requerida.",i?r!==i&&(e.password_confirmation="Las contrase\xf1as no coinciden."):e.password_confirmation="Debes confirmar la contrase\xf1a.",e})();if(Object.keys(a).length>0)u(a);else{c(!0);try{200===(await kr(n,r,i)).status&&(g({title:"\u2705 Contrase\xf1a Establecida",message:"Ya puedes iniciar sesi\xf3n con tu nueva contrase\xf1a",type:"success"},5e3),setTimeout(()=>{t("/login")},2e3))}catch(s){var o,l;const e=(null===s||void 0===s||null===(o=s.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.message)||"Error al establecer la contrase\xf1a. El token puede haber expirado o ya fue usado.";u({general:e}),g({title:"\u274c Error",message:e,type:"error"},6e3)}finally{c(!1)}}},className:"update-password-form",children:[(0,Cr.jsxs)("div",{className:"password-field",children:[(0,Cr.jsxs)("div",{className:"input-group",children:[(0,Cr.jsx)("input",{type:p?"text":"password",className:"password-input",placeholder:"Nueva Contrase\xf1a",value:r,onChange:e=>a(e.target.value),disabled:s||!n}),(0,Cr.jsx)("button",{type:"button",className:"toggle-visibility",onClick:()=>f(!p),disabled:s||!n,"aria-label":"Mostrar/Ocultar contrase\xf1a",children:p?"\ud83d\udc35":"\ud83d\ude48"})]}),d.password&&(0,Cr.jsx)("div",{className:"field-error",children:d.password})]}),(0,Cr.jsxs)("div",{className:"password-field",children:[(0,Cr.jsxs)("div",{className:"input-group",children:[(0,Cr.jsx)("input",{type:m?"text":"password",className:"password-input",placeholder:"Confirmar Contrase\xf1a",value:i,onChange:e=>l(e.target.value),disabled:s||!n}),(0,Cr.jsx)("button",{type:"button",className:"toggle-visibility",onClick:()=>h(!m),disabled:s||!n,"aria-label":"Mostrar/Ocultar confirmaci\xf3n",children:m?"\ud83d\udc35":"\ud83d\ude48"})]}),d.password_confirmation&&(0,Cr.jsx)("div",{className:"field-error",children:d.password_confirmation})]}),(0,Cr.jsx)("div",{className:"form-actions",children:s?(0,Cr.jsx)(Pr,{}):(0,Cr.jsx)("button",{type:"submit",className:"update-button",disabled:!n,children:"\ud83d\udd10 Establecer Contrase\xf1a"})})]}),(0,Cr.jsx)("div",{style:{marginTop:"32px",marginBottom:"48px",padding:"18px 20px",background:"linear-gradient(135deg, rgba(255, 193, 7, 0.1) 0%, rgba(255, 152, 0, 0.08) 100%)",borderLeft:"4px solid #ffc107",borderRadius:"8px",fontSize:"14px",color:"#666"},children:(0,Cr.jsxs)("p",{style:{margin:0,display:"flex",alignItems:"flex-start",gap:"8px"},children:[(0,Cr.jsx)("span",{style:{fontSize:"18px"},children:"\ud83d\udca1"}),(0,Cr.jsxs)("span",{children:[(0,Cr.jsx)("strong",{style:{color:"#f59e0b"},children:"Consejo de seguridad:"})," Usa una contrase\xf1a \xfanica que no hayas usado en otros sitios."]})]})}),(0,Cr.jsxs)("a",{href:"https://wa.me/593987654321",target:"_blank",rel:"noopener noreferrer",className:"support-link",children:[(0,Cr.jsx)("img",{src:Or,alt:"WhatsApp",style:{width:28,height:28}}),(0,Cr.jsx)("span",{children:"Soporte"})]})]})})},Ur=(0,o.createContext)(void 0),qr=e=>{let{children:t}=e;const[n,r]=(0,o.useState)(!0);return(0,Cr.jsx)(Ur.Provider,{value:{menuOpen:n,toggleMenu:()=>r(e=>!e),setMenuOpen:r},children:t})},Hr=()=>{const e=(0,o.useContext)(Ur);if(!e)throw new Error("useSidebar must be used within SidebarProvider");return e},Vr=e=>{let{open:t,title:n="Cerrar Sesi\xf3n",message:r,cancelText:a="CANCELAR",confirmText:i="CONFIRMAR",onCancel:l,onConfirm:s,modalStyle:c}=e;return(0,o.useEffect)(()=>{if(!t)return;const e=e=>{"Escape"===e.key&&l(),"Enter"===e.key&&s()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,l,s]),t?(0,Cr.jsxs)("div",{className:"mf-modal-overlay",role:"dialog","aria-modal":"true","aria-labelledby":"mf-modal-title",children:[(0,Cr.jsxs)("div",{className:"mf-modal",style:c,children:[(0,Cr.jsx)("h3",{id:"mf-modal-title",className:"mf-modal-title",children:n}),(0,Cr.jsx)("p",{className:"mf-modal-message",children:r}),(0,Cr.jsxs)("div",{className:"mf-modal-actions",children:[(0,Cr.jsx)("button",{className:"mf-btn-cancel",onClick:l,children:a}),(0,Cr.jsx)("button",{className:"mf-btn-confirm",onClick:s,children:i})]})]}),(0,Cr.jsx)("style",{children:"\n        .mf-modal-overlay{\n          position:fixed; inset:0; background:rgba(0,0,0,.35);\n          display:flex; align-items:center; justify-content:center; z-index:3000;\n        }\n        .mf-modal{\n          width:min(540px, 92vw); background:#fff; border-radius:12px;\n          padding:28px 24px; box-shadow:0 20px 60px rgba(0,0,0,.25);\n          text-align:center;\n        }\n        .mf-modal-title{ margin:0 0 8px; font-size:24px; color:#233; }\n        .mf-modal-message{ margin:8px 0 22px; font-size:18px; color:#333; font-weight:600; }\n        .mf-modal-actions{ display:flex; gap:14px; justify-content:center; }\n        .mf-btn-cancel{\n          padding:10px 18px; border-radius:8px; background:#fff; color:#333;\n          border:2px solid #ccc; font-weight:700; cursor:pointer;\n        }\n        .mf-btn-confirm{\n          padding:10px 18px; border-radius:8px; background:#ff4d4f; color:#fff;\n          border:none; font-weight:700; cursor:pointer;\n        }\n        .mf-btn-cancel:focus, .mf-btn-confirm:focus{ outline:3px solid rgba(12,45,231,.35); outline-offset:2px; }\n      "})]}):null},Qr=()=>{const{menuOpen:e,toggleMenu:t}=Hr(),{user:n,logout:r}=zr(),a=re(),[i,l]=(0,o.useState)(!1);return(0,Cr.jsxs)("header",{className:"navbar-container",children:[(0,Cr.jsxs)("div",{className:"navbar-left",children:[(0,Cr.jsx)("button",{className:"menu-toggle-btn","aria-label":"Abrir Men\xfa",onClick:t,children:(0,Cr.jsxs)("span",{className:"hamburger","aria-hidden":"true",children:[(0,Cr.jsx)("span",{}),(0,Cr.jsx)("span",{}),(0,Cr.jsx)("span",{})]})}),(0,Cr.jsx)("img",{src:Ve,alt:"M\xe1ximo Facturas Logo",className:"navbar-logo",style:{cursor:"default"}})]}),(0,Cr.jsx)("nav",{className:"sidebar ".concat(e?"open":""),children:(0,Cr.jsxs)("ul",{className:"nav-list",children:[n&&"administrador"===n.role&&(0,Cr.jsx)("li",{className:"nav-item",children:(0,Cr.jsxs)(Ie,{to:"/dashboard",className:e=>{let{isActive:t}=e;return"nav-link ".concat(t?"active":"")},children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udc64"}),(0,Cr.jsx)("span",{className:"label",children:"Dashboard Administrativo"})]})}),n&&("administrador"===n.role||"distribuidor"===n.role||"emisor"===n.role||"gerente"===n.role)&&(0,Cr.jsx)("li",{className:"nav-item",children:(0,Cr.jsxs)(Ie,{to:"/emisores",className:e=>{let{isActive:t}=e;return"nav-link ".concat(t?"active":"")},children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udce7"}),(0,Cr.jsx)("span",{className:"label",children:"Emisores"})]})}),n&&"administrador"===n.role&&(0,Cr.jsx)("li",{className:"nav-item",children:(0,Cr.jsxs)(Ie,{to:"/usuarios",className:e=>{let{isActive:t}=e;return"nav-link ".concat(t?"active":"")},children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udc65"}),(0,Cr.jsx)("span",{className:"label",children:"Usuarios"})]})}),n&&"administrador"===n.role&&(0,Cr.jsx)("li",{className:"nav-item",children:(0,Cr.jsxs)(Ie,{to:"/planes",className:e=>{let{isActive:t}=e;return"nav-link ".concat(t?"active":"")},children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udcca"}),(0,Cr.jsx)("span",{className:"label",children:"Planes"})]})}),n&&"administrador"===n.role&&(0,Cr.jsx)("li",{className:"nav-item",children:(0,Cr.jsxs)(Ie,{to:"/impuestos",className:e=>{let{isActive:t}=e;return"nav-link ".concat(t?"active":"")},children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83e\uddfe"}),(0,Cr.jsx)("span",{className:"label",children:"Impuestos"})]})})]})}),(0,Cr.jsx)("div",{className:"navbar-right",children:n&&(0,Cr.jsxs)("div",{className:"user-area",children:[(0,Cr.jsx)("span",{className:"user-name",children:n.name||n.username||n.email}),(0,Cr.jsx)("button",{className:"logout-btn",onClick:()=>l(!0),title:"Cerrar sesi\xf3n",children:"Salir"})]})}),(0,Cr.jsx)(Vr,{open:i,title:"Cerrar Sesi\xf3n",message:"\xbfEst\xe1s seguro que deseas cerrar la sesi\xf3n?",cancelText:"CANCELAR",confirmText:"CONFIRMAR",onCancel:()=>l(!1),onConfirm:async()=>{l(!1);try{await r()}catch(e){a("/")}}})]})},Gr=()=>{const{menuOpen:e}=Hr();return(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)(Qr,{}),(0,Cr.jsx)("main",{className:"app-content ".concat(e?"":"sidebar-closed"),children:(0,Cr.jsx)(je,{})})]})},Xr={list:e=>Nr.get("/api/emisores",{params:e}),checkRuc:e=>Nr.get("/api/emisores/check-ruc/".concat(e)),create(e){if(!!e.logoFile){const t=new FormData;return Object.entries(e).forEach(e=>{let[n,r]=e;"logoFile"!==n&&void 0!==r&&null!==r&&t.append(n,String(r))}),e.logoFile&&t.append("logo",e.logoFile),Nr.post("/api/emisores",t)}return Nr.post("/api/emisores",e)},get:e=>Nr.get("/api/emisores/".concat(e)),update(e,t){var n;const r=!!t.logoFile;if(console.log("emisoresApi.update called",{id:e,hasFile:r,logoFileName:null===(n=t.logoFile)||void 0===n?void 0:n.name}),r){const n=new FormData;return Object.entries(t).forEach(e=>{let[t,r]=e;"logoFile"!==t&&void 0!==r&&null!==r&&n.append(t,String(r))}),t.logoFile&&(n.append("logo",t.logoFile),n.append("_method","PUT"),console.log("FormData constructed with logo",{logoName:t.logoFile.name,logoSize:t.logoFile.size,logoType:t.logoFile.type}),Array.from(n.entries()).forEach(e=>{let[t,n]=e;"logo"===t&&console.log('FormData key="'.concat(t,'" contains File:'),{isFile:n instanceof File,name:n.name,size:n.size,type:n.type})}),console.log("About to send POST (spoof PUT) request with FormData containing logo")),Nr.post("/api/emisores/".concat(e),n)}return console.log("No logo file, sending without multipart"),Nr.put("/api/emisores/".concat(e),t)},delete:(e,t)=>Nr.delete("/api/emisores/".concat(e),{data:{password:t}}),prepareDeletion:e=>Nr.post("/api/emisores/".concat(e,"/prepare-deletion")),deletePermanent:(e,t)=>Nr.delete("/api/emisores/".concat(e,"/permanent"),{data:{password:t}})};function Kr(e){if(!e)return!1;const t=e.replace(/\D/g,"");if(10!==t.length&&13!==t.length)return!1;const n=parseInt(t.substring(0,2),10);if(n<1||n>24)return!1;const r=parseInt(t.charAt(2),10),a=e=>{if(13!==e.length)return!1;const t=e.charAt(2);if("6"!==t&&"9"!==t)return!1;if("0001"!==e.substring(9))return!1;const n=[3,2,7,6,5,4,3,2];let r=0;for(let i=0;i<8;i++)r+=parseInt(e.charAt(i),10)*n[i];const a=r%11,o=0===a?0:11-a;return 10!==o&&o===parseInt(e.charAt(8),10)};if(r>=0&&r<=5){return!!(e=>{if(10!==e.length)return!1;if(parseInt(e.charAt(2),10)>5)return!1;const t=[2,1,2,1,2,1,2,1,2];let n=0;for(let a=0;a<9;a++){let r=parseInt(e.charAt(a),10)*t[a];r>=10&&(r-=9),n+=r}const r=n%10;return(0===r?0:10-r)===parseInt(e.charAt(9),10)})(t.substring(0,10))&&(10===t.length||"001"===t.substring(10))}return 6===r?a(t):9===r&&("001"===t.substring(10)?(e=>{if(13!==e.length)return!1;if("9"!==e.charAt(2))return!1;if("001"!==e.substring(10))return!1;const t=[4,3,2,7,6,5,4,3,2];let n=0;for(let o=0;o<9;o++)n+=parseInt(e.charAt(o),10)*t[o];const r=n%11,a=0===r?0:11-r;return 10!==a&&a===parseInt(e.charAt(9),10)})(t):"0001"===t.substring(9)&&a(t))}const Yr={ruc:"",razon_social:"",nombre_comercial:"",direccion_matriz:"",regimen_tributario:"GENERAL",obligado_contabilidad:"NO",contribuyente_especial:"NO",agente_retencion:"NO",tipo_persona:"NATURAL",codigo_artesano:"",correo_remitente:"",estado:"ACTIVO",ambiente:"PRODUCCION",tipo_emision:"NORMAL"},$r=e=>{const{open:t,onClose:r,onCreated:a,editingId:i,initialData:l,rucEditable:s,onUpdated:c}=e,{user:d}=zr(),[u,p]=o.useState(Yr),[f,m]=o.useState(null),[h,g]=o.useState(null),[b,x]=(o.useRef(null),o.useState(!1)),[v,y]=o.useState(null),[j,w]=o.useState(null),[S,k]=o.useState(!0),[N,C]=o.useState(null),[E,_]=o.useState(!1),[z,T]=o.useState({}),[A,R]=o.useState(null),[O,P]=o.useState(!1),[L,I]=o.useState(new Set);o.useEffect(()=>{t&&(p(null!==l&&void 0!==l?l:Yr),g((null===l||void 0===l?void 0:l.logo_url)||null),y(null),w(null),k(null===s||void 0===s||s),R(null),T({}),P(!1),I(new Set))},[t,l,s]);const F=(e,t)=>{p(n=>He(He({},n),{},{[e]:t})),I(t=>new Set(t).add(e));const n=e;T(e=>{if(!e||!(n in e))return e;const t=He({},e);return delete t[n],t}),"ruc"===n&&(C(null),R(null)),"correo_remitente"===n&&y(null)},D=e=>{if(!L.has(e))return null;const t=u[e];switch(e){case"ruc":return t&&t.toString().trim()?t.toString().replace(/\D/g,"").length<13?"El Nro. RUC debe tener al menos 13 d\xedgitos":Kr(t)?A||null:"RUC no v\xe1lido seg\xfan reglas del SRI":"Nro. RUC es obligatorio";case"razon_social":return t&&t.toString().trim()?null:"Raz\xf3n Social es obligatoria";case"direccion_matriz":return t&&t.toString().trim()?null:"Direcci\xf3n Matriz es obligatoria";case"correo_remitente":return t&&t.toString().trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?null:"Correo debe ser v\xe1lido":null;case"regimen_tributario":return t?null:"Seleccione R\xe9gimen Tributario";case"obligado_contabilidad":return"SI"!==t&&"NO"!==t?"Indique si est\xe1 obligado a llevar contabilidad":null;case"contribuyente_especial":return"SI"!==t&&"NO"!==t?"Indique si es contribuyente especial":null;case"agente_retencion":return"SI"!==t&&"NO"!==t?"Indique si es agente de retenci\xf3n":null;case"tipo_persona":return t?null:"Seleccione Tipo de Persona";case"ambiente":return t?null:"Seleccione ambiente";case"tipo_emision":return t?null:"Seleccione tipo de emisi\xf3n";case"logo":return f&&!/\.jpe?g$|\.png$/i.test(f.name)?"Formato no permitido. Use .jpg, .jpeg o .png":f&&f.__orientationInvalid?"El logo debe ser horizontal (ancho mayor que alto)":null;default:return null}};o.useEffect(()=>{if(!u.ruc||!u.ruc.toString().trim())return C(null),void R(null);Kr(u.ruc)?C(null):(C("RUC no v\xe1lido seg\xfan reglas del SRI"),R(null))},[u.ruc]),o.useEffect(()=>{if(i)return;if(!u.ruc||!u.ruc.toString().trim())return void R(null);if(N)return;const e=setTimeout(async()=>{P(!0);try{var e;const t=null===(e=(await Xr.checkRuc(u.ruc)).data)||void 0===e?void 0:e.exists;R(t?"Este RUC ya est\xe1 registrado en el sistema":null)}catch($a){console.error("Error checking RUC:",$a),R(null)}finally{P(!1)}},600);return()=>clearTimeout(e)},[u.ruc,N,i]);const B=()=>u.ruc&&u.ruc.toString().trim()?u.ruc.toString().replace(/\D/g,"").length<13?(C("El Nro. RUC debe tener al menos 13 d\xedgitos"),!1):!(!u.razon_social||!u.razon_social.toString().trim())&&(!(!u.direccion_matriz||!u.direccion_matriz.toString().trim())&&(Kr(u.ruc)?!A&&(u.correo_remitente&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.correo_remitente)?(y("Correo debe ser v\xe1lido"),!1):!!u.ambiente&&(!!u.tipo_emision&&(f&&!/\.jpe?g$|\.png$/i.test(f.name)?(w("Formato no permitido. Use .jpg, .jpeg o .png"),!1):f&&f.__orientationInvalid?(w("El logo debe ser horizontal (ancho mayor que alto)"),!1):(C(null),y(null),w(null),!0)))):(C("RUC no v\xe1lido seg\xfan reglas del SRI"),!1))):(C("Nro. RUC es obligatorio"),!1),W=async()=>{if(B()){x(!0);try{let h;const g=He({},u);(!g.correo_remitente||"string"===typeof g.correo_remitente&&""===g.correo_remitente.trim())&&(g.correo_remitente=d&&d.email?d.email:"no-reply@localhost");let b=f;if(!f&&!i)try{const e=n(615),t=await fetch(e),r=await t.blob(),a=new Image,o=new Promise((e,t)=>{a.onload=()=>{const n=document.createElement("canvas"),r=n.getContext("2d");let o=a.width,i=a.height;o>800&&(i*=800/o,o=800),n.width=o,n.height=i,null===r||void 0===r||r.drawImage(a,0,0,o,i),n.toBlob(n=>{if(n){const t=new File([n],"maximofactura.png",{type:"image/png"});e(t)}else t(new Error("Failed to create blob"))},"image/png",.8)},a.onerror=()=>t(new Error("Failed to load image"))});a.src=URL.createObjectURL(r),b=await o}catch(y){console.warn("Could not load default logo:",y)}if(i){var e,t,o,l,s;console.log("Enviando actualizaci\xf3n de emisor:",{editingId:i,hasLogoFile:!!b,logoFileName:null===(e=b)||void 0===e?void 0:e.name,logoFileSize:null===(t=b)||void 0===t?void 0:t.size,logoFileType:null===(o=b)||void 0===o?void 0:o.type}),h=await Xr.update(i,He(He({},g),{},{logoFile:b}));const n=null!==(l=null===(s=h.data)||void 0===s?void 0:s.data)&&void 0!==l?l:h.data;if(n.logo_url){const e=n.logo_url.includes("?")?"&":"?";n.logo_url=n.logo_url.split("?")[0]+e+"t="+Date.now()}c&&c(n)}else{var p,m;h=await Xr.create(He(He({},g),{},{logoFile:b}));const e=null!==(p=null===(m=h.data)||void 0===m?void 0:m.data)&&void 0!==p?p:h.data;a&&a(e)}r()}catch($a){var h,g,b,v;const t=(null===$a||void 0===$a||null===(h=$a.response)||void 0===h||null===(g=h.data)||void 0===g?void 0:g.message)||(null===$a||void 0===$a?void 0:$a.message),n=null!==$a&&void 0!==$a&&null!==(b=$a.response)&&void 0!==b&&null!==(v=b.data)&&void 0!==v&&v.errors&&"object"===typeof $a.response.data.errors?Object.values($a.response.data.errors).flat()[0]:void 0,r="string"===typeof t&&(t.includes("SQLSTATE[23505]")||t.toLowerCase().includes("duplicate key")||t.includes("companies_pkey"));alert((r?"Error interno al generar el ID del emisor (ID duplicado). Intenta nuevamente o contacta al administrador.":void 0)||n||t||"No se pudo registrar")}finally{x(!1),_(!1)}}else M()},M=()=>{const e={};u.ruc&&u.ruc.toString().trim()?u.ruc.toString().replace(/\D/g,"").length<13?e.ruc="El Nro. RUC debe tener al menos 13 d\xedgitos":Kr(u.ruc)||(e.ruc="RUC no v\xe1lido seg\xfan reglas del SRI"):e.ruc="Nro. RUC es obligatorio",A&&(e.ruc=A),u.razon_social&&u.razon_social.toString().trim()||(e.razon_social="Raz\xf3n Social es obligatoria"),u.direccion_matriz&&u.direccion_matriz.toString().trim()||(e.direccion_matriz="Direcci\xf3n Matriz es obligatoria"),u.regimen_tributario||(e.regimen_tributario="Seleccione R\xe9gimen Tributario");const t=e=>"SI"===e||"NO"===e;return t(u.obligado_contabilidad)||(e.obligado_contabilidad="Indique si est\xe1 obligado a llevar contabilidad"),t(u.contribuyente_especial)||(e.contribuyente_especial="Indique si es contribuyente especial"),t(u.agente_retencion)||(e.agente_retencion="Indique si es agente de retenci\xf3n"),u.tipo_persona||(e.tipo_persona="Seleccione Tipo de Persona"),u.correo_remitente&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.correo_remitente)&&(e.correo_remitente="Correo debe ser v\xe1lido"),u.ambiente||(e.ambiente="Seleccione ambiente"),u.tipo_emision||(e.tipo_emision="Seleccione tipo de emisi\xf3n"),T(e),e},U=o.useMemo(()=>new Set(["ruc","razon_social","direccion_matriz","regimen_tributario","obligado_contabilidad","contribuyente_especial","agente_retencion","tipo_persona","estado","ambiente","tipo_emision"]),[]);return t?(0,Cr.jsxs)("div",{className:"mf-backdrop",children:[(0,Cr.jsxs)("div",{className:"mf-modal",onClick:e=>e.stopPropagation(),children:[(0,Cr.jsx)("div",{className:"mf-header",children:(0,Cr.jsx)("h2",{children:i?"Editar emisor":"Registro de nuevo emisor"})}),(0,Cr.jsxs)("div",{className:"mf-body scrollable",children:[(0,Cr.jsxs)("section",{children:[(0,Cr.jsx)("h3",{children:"Identificaci\xf3n"}),(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 220px",gap:24,alignItems:"center",marginBottom:12},children:[(0,Cr.jsxs)("label",{className:"horizontal",style:{margin:0},children:[(0,Cr.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:["Nro. RUC",U.has("ruc")&&(0,Cr.jsx)("strong",{style:{color:"#b00020",marginLeft:6},children:" *"})]}),(0,Cr.jsx)("input",{value:u.ruc,onChange:e=>F("ruc",e.target.value.replace(/\D/g,"")),onBlur:()=>I(e=>new Set(e).add("ruc")),disabled:!S,className:D("ruc")?"error-input":"",maxLength:13,inputMode:"numeric",pattern:"\\d*"})]}),(0,Cr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:12},children:[(0,Cr.jsxs)("div",{style:{textAlign:"right"},children:[(0,Cr.jsx)("div",{style:{fontWeight:600,fontSize:13,color:"#475569"},children:"Estado"}),(0,Cr.jsx)("div",{style:{fontSize:12,marginTop:2,color:"ACTIVO"===u.estado?"#059669":"#64748b"},children:"ACTIVO"===u.estado?"Activo":"Inactivo"})]}),(0,Cr.jsxs)("label",{className:"switch",children:[(0,Cr.jsx)("input",{type:"checkbox",checked:"ACTIVO"===u.estado,onChange:e=>F("estado",e.target.checked?"ACTIVO":"INACTIVO")}),(0,Cr.jsx)("span",{className:"slider"})]})]})]}),!S&&(0,Cr.jsx)("small",{style:{color:"#666",marginLeft:"192px"},children:"El RUC no puede ser modificado porque existen comprobantes autorizados."}),D("ruc")&&(0,Cr.jsx)("span",{className:"err",style:{marginLeft:"192px"},children:D("ruc")}),(0,Cr.jsxs)("label",{className:"horizontal",children:[U.has("razon_social")?(0,Cr.jsx)(Cr.Fragment,{children:(0,Cr.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:["Raz\xf3n Social",(0,Cr.jsx)("strong",{style:{color:"#b00020",marginLeft:6},children:" *"})]})}):"Raz\xf3n Social",(0,Cr.jsx)("input",{value:u.razon_social,onChange:e=>F("razon_social",e.target.value),onBlur:()=>I(e=>new Set(e).add("razon_social")),className:D("razon_social")?"error-input":""})]}),D("razon_social")&&(0,Cr.jsx)("span",{className:"err",style:{marginLeft:"192px"},children:D("razon_social")}),(0,Cr.jsxs)("label",{className:"horizontal",children:[(0,Cr.jsx)("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:"Nombre comercial"}),(0,Cr.jsx)("input",{value:u.nombre_comercial||"",onChange:e=>F("nombre_comercial",e.target.value),onBlur:()=>I(e=>new Set(e).add("nombre_comercial"))})]}),(0,Cr.jsxs)("label",{className:"horizontal",children:[U.has("direccion_matriz")?(0,Cr.jsx)(Cr.Fragment,{children:(0,Cr.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:["Direcci\xf3n Matriz",(0,Cr.jsx)("strong",{style:{color:"#b00020",marginLeft:6},children:" *"})]})}):"Direcci\xf3n Matriz",(0,Cr.jsx)("input",{value:u.direccion_matriz||"",onChange:e=>F("direccion_matriz",e.target.value),onBlur:()=>I(e=>new Set(e).add("direccion_matriz")),className:D("direccion_matriz")?"error-input":""})]}),D("direccion_matriz")&&(0,Cr.jsx)("span",{className:"err",style:{marginLeft:"192px"},children:D("direccion_matriz")})]}),(0,Cr.jsxs)("section",{children:[(0,Cr.jsx)("h3",{children:"R\xe9gimen Tributario"}),(0,Cr.jsx)("div",{className:"row",children:["GENERAL","RIMPE_POPULAR","RIMPE_EMPRENDEDOR","MICRO_EMPRESA"].map(e=>(0,Cr.jsxs)("label",{children:[(0,Cr.jsx)("input",{type:"radio",checked:u.regimen_tributario===e,onChange:()=>F("regimen_tributario",e)})," ",e.replace("_"," ")]},e))}),(0,Cr.jsx)("h3",{style:{marginTop:"24px"},children:"Obligaciones"}),(0,Cr.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",maxWidth:"550px",margin:"0 auto"},children:[(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 130px",alignItems:"center",gap:"16px",padding:"10px 12px",background:"#f8f9fa",borderRadius:"8px"},children:[(0,Cr.jsx)("span",{style:{fontWeight:600,fontSize:"14px",textAlign:"left"},children:"Obligado A Llevar Contabilidad"}),(0,Cr.jsxs)("div",{style:{display:"flex",gap:"24px",justifyContent:"flex-end"},children:[(0,Cr.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[(0,Cr.jsx)("input",{type:"radio",name:"obligado_contabilidad",checked:"SI"===u.obligado_contabilidad,onChange:()=>F("obligado_contabilidad","SI")}),"S\xed"]}),(0,Cr.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[(0,Cr.jsx)("input",{type:"radio",name:"obligado_contabilidad",checked:"NO"===u.obligado_contabilidad,onChange:()=>F("obligado_contabilidad","NO")}),"No"]})]})]}),(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 130px",alignItems:"center",gap:"16px",padding:"10px 12px",background:"#f8f9fa",borderRadius:"8px"},children:[(0,Cr.jsx)("span",{style:{fontWeight:600,fontSize:"14px",textAlign:"left"},children:"Contribuyente Especial"}),(0,Cr.jsxs)("div",{style:{display:"flex",gap:"24px",justifyContent:"flex-end"},children:[(0,Cr.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[(0,Cr.jsx)("input",{type:"radio",name:"contribuyente_especial",checked:"SI"===u.contribuyente_especial,onChange:()=>F("contribuyente_especial","SI")}),"S\xed"]}),(0,Cr.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[(0,Cr.jsx)("input",{type:"radio",name:"contribuyente_especial",checked:"NO"===u.contribuyente_especial,onChange:()=>F("contribuyente_especial","NO")}),"No"]})]})]}),(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 130px",alignItems:"center",gap:"16px",padding:"10px 12px",background:"#f8f9fa",borderRadius:"8px"},children:[(0,Cr.jsx)("span",{style:{fontWeight:600,fontSize:"14px",textAlign:"left"},children:"Agente De Retenci\xf3n"}),(0,Cr.jsxs)("div",{style:{display:"flex",gap:"24px",justifyContent:"flex-end"},children:[(0,Cr.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[(0,Cr.jsx)("input",{type:"radio",name:"agente_retencion",checked:"SI"===u.agente_retencion,onChange:()=>F("agente_retencion","SI")}),"S\xed"]}),(0,Cr.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},children:[(0,Cr.jsx)("input",{type:"radio",name:"agente_retencion",checked:"NO"===u.agente_retencion,onChange:()=>F("agente_retencion","NO")}),"No"]})]})]})]}),(0,Cr.jsx)("div",{children:(z.obligado_contabilidad||z.contribuyente_especial||z.agente_retencion)&&(0,Cr.jsx)("span",{className:"err",children:z.obligado_contabilidad||z.contribuyente_especial||z.agente_retencion})}),(0,Cr.jsx)("h3",{children:"Tipo de persona"}),(0,Cr.jsx)("div",{className:"row",children:["NATURAL","JURIDICA"].map(e=>(0,Cr.jsxs)("label",{children:[(0,Cr.jsx)("input",{type:"radio",checked:u.tipo_persona===e,onChange:()=>F("tipo_persona",e)})," ",e]},e))}),(0,Cr.jsxs)("label",{className:"horizontal",style:{maxWidth:"600px",margin:"12px auto"},children:["C\xf3digo Artesano",(0,Cr.jsx)("input",{value:u.codigo_artesano||"",onChange:e=>F("codigo_artesano",e.target.value),onBlur:()=>I(e=>new Set(e).add("codigo_artesano")),placeholder:"Opcional - Ej: PICHINCHA-17-1234-2024",className:"artesano-input"})]})]}),(0,Cr.jsxs)("section",{children:[(0,Cr.jsx)("h3",{children:"Datos de configuraci\xf3n"}),(0,Cr.jsxs)("div",{className:"config-row",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[(0,Cr.jsxs)("label",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,Cr.jsx)("span",{style:{fontWeight:600,fontSize:"14px",color:"#374151"},children:"Ambiente"}),(0,Cr.jsxs)("select",{value:u.ambiente,onChange:e=>F("ambiente",e.target.value),onBlur:()=>I(e=>new Set(e).add("ambiente")),className:D("ambiente")?"error-input":"",style:{padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",backgroundColor:"#fff",cursor:"pointer",transition:"border-color 0.2s"},children:[(0,Cr.jsx)("option",{value:"PRODUCCION",children:"Producci\xf3n"}),(0,Cr.jsx)("option",{value:"PRUEBAS",children:"Pruebas"})]}),D("ambiente")&&(0,Cr.jsx)("span",{className:"err",children:D("ambiente")})]}),(0,Cr.jsxs)("label",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,Cr.jsx)("span",{style:{fontWeight:600,fontSize:"14px",color:"#374151"},children:"Tipo de Emisi\xf3n"}),(0,Cr.jsxs)("select",{value:u.tipo_emision,onChange:e=>F("tipo_emision",e.target.value),onBlur:()=>I(e=>new Set(e).add("tipo_emision")),className:D("tipo_emision")?"error-input":"",style:{padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",backgroundColor:"#fff",cursor:"pointer",transition:"border-color 0.2s"},children:[(0,Cr.jsx)("option",{value:"NORMAL",children:"Normal"}),(0,Cr.jsx)("option",{value:"INDISPONIBILIDAD",children:"Indisponibilidad del SRI"})]}),D("tipo_emision")&&(0,Cr.jsx)("span",{className:"err",children:D("tipo_emision")})]})]}),(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[(0,Cr.jsxs)("div",{style:{padding:"14px 16px",background:"PRODUCCION"===u.ambiente?"linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)":"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)",borderRadius:"10px",border:"PRODUCCION"===u.ambiente?"2px solid #059669":"2px solid #dc2626",boxShadow:"PRODUCCION"===u.ambiente?"0 4px 12px rgba(5, 150, 105, 0.15)":"0 4px 12px rgba(220, 38, 38, 0.15)",transition:"all 0.3s ease"},children:[(0,Cr.jsxs)("div",{style:{fontSize:"11px",fontWeight:700,color:"PRODUCCION"===u.ambiente?"#065f46":"#991b1b",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},children:["Ambiente: ",u.ambiente]}),"PRODUCCION"===u.ambiente&&(0,Cr.jsx)("div",{style:{fontSize:"13px",color:"#047857",fontWeight:600,lineHeight:"1.4"},children:"\u2713 Los comprobantes tendr\xe1n validez legal y fiscal."}),"PRUEBAS"===u.ambiente&&(0,Cr.jsxs)("div",{style:{fontSize:"13px",color:"#b91c1c",fontWeight:600,lineHeight:"1.4"},children:["\u26a0 Los comprobantes ",(0,Cr.jsx)("strong",{children:"NO"})," tendr\xe1n validez fiscal ni legal."]})]}),(0,Cr.jsxs)("div",{style:{padding:"14px 16px",background:"NORMAL"===u.tipo_emision?"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)":"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",borderRadius:"10px",border:"NORMAL"===u.tipo_emision?"2px solid #2563eb":"2px solid #f59e0b",boxShadow:"NORMAL"===u.tipo_emision?"0 4px 12px rgba(37, 99, 235, 0.15)":"0 4px 12px rgba(245, 158, 11, 0.15)",transition:"all 0.3s ease"},children:[(0,Cr.jsxs)("div",{style:{fontSize:"11px",fontWeight:700,color:"NORMAL"===u.tipo_emision?"#1e40af":"#b45309",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"6px"},children:["Tipo de Emisi\xf3n: ","NORMAL"===u.tipo_emision?"Normal":"Indisponibilidad"]}),"NORMAL"===u.tipo_emision&&(0,Cr.jsx)("div",{style:{fontSize:"13px",color:"#1e40af",fontWeight:600,lineHeight:"1.4"},children:"\ud83d\udcc4 Emisi\xf3n est\xe1ndar con conexi\xf3n directa al SRI."}),"INDISPONIBILIDAD"===u.tipo_emision&&(0,Cr.jsx)("div",{style:{fontSize:"13px",color:"#b45309",fontWeight:600,lineHeight:"1.4"},children:"\ud83d\udd04 Emisi\xf3n offline cuando el SRI no est\xe1 disponible."})]})]}),(0,Cr.jsxs)("label",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,Cr.jsx)("span",{style:{fontWeight:600,fontSize:"14px",color:"#374151"},children:"Logo"}),(0,Cr.jsxs)("div",{style:{position:"relative",border:"2px dashed #c7d2fe",borderRadius:"12px",padding:"32px 24px",textAlign:"center",background:"linear-gradient(135deg, #faf5ff 0%, #f3f4f6 100%)",transition:"all 0.3s ease",cursor:"pointer",minHeight:"140px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#7c3aed",e.currentTarget.style.background="linear-gradient(135deg, #f3e8ff 0%, #ede9fe 100%)",e.currentTarget.style.transform="scale(1.01)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#c7d2fe",e.currentTarget.style.background="linear-gradient(135deg, #faf5ff 0%, #f3f4f6 100%)",e.currentTarget.style.transform="scale(1)"},children:[f?(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)("div",{style:{width:"56px",height:"56px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",color:"#fff",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},children:"\u2713"}),(0,Cr.jsx)("div",{style:{fontSize:"15px",fontWeight:700,color:"#059669"},children:"Archivo seleccionado"}),(0,Cr.jsx)("div",{style:{fontSize:"14px",color:"#374151",padding:"8px 16px",background:"#fff",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",maxWidth:"90%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:f.name}),(0,Cr.jsx)("div",{style:{fontSize:"12px",color:"#7c3aed",fontWeight:600},children:"Click para cambiar"})]}):(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)("div",{style:{width:"56px",height:"56px",background:"linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"28px",color:"#fff",boxShadow:"0 4px 12px rgba(124, 58, 237, 0.3)"},children:"\ud83d\udcc1"}),(0,Cr.jsx)("div",{style:{fontSize:"15px",fontWeight:600,color:"#374151"},children:"Seleccionar logo personalizado (Opcional)"}),(0,Cr.jsx)("div",{style:{fontSize:"13px",color:"#6b7280"},children:"Click para buscar o arrastra aqu\xed"}),(0,Cr.jsx)("div",{style:{fontSize:"12px",color:"#7c3aed",fontStyle:"italic",marginTop:"4px"},children:"Si no seleccionas ninguno, se usar\xe1 el logo por defecto"})]}),(0,Cr.jsx)("input",{type:"file",accept:".jpg,.jpeg,.png",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,cursor:"pointer"},onChange:e=>{var t;const n=(null===(t=e.target.files)||void 0===t?void 0:t[0])||null;if(!n)return m(null),w(null),void I(e=>new Set(e).add("logo"));if(!/\.jpe?g$|\.png$/i.test(n.name))return m(n),w("Formato no permitido. Use .jpg, .jpeg o .png"),void I(e=>new Set(e).add("logo"));const r=new FileReader;r.onload=e=>{var t;const r=new Image;r.onload=()=>{const e=r.width<=r.height;n.__orientationInvalid=e,m(n),w(e?"El logo debe ser horizontal (ancho mayor que alto)":null),I(e=>new Set(e).add("logo"))},r.onerror=()=>{n.__orientationInvalid=!1,m(n),w(null),I(e=>new Set(e).add("logo"))},r.src=null===(t=e.target)||void 0===t?void 0:t.result},r.readAsDataURL(n)}})]}),D("logo")&&(0,Cr.jsx)("span",{className:"err",children:D("logo")}),(0,Cr.jsxs)("div",{style:{marginTop:"8px",fontSize:"12px",color:"#6b7280",textAlign:"center",lineHeight:"1.6",display:"flex",alignItems:"center",justifyContent:"center",gap:"16px"},children:[(0,Cr.jsxs)("span",{children:["\ud83d\udcce ",(0,Cr.jsx)("strong",{children:"JPG, JPEG, PNG"})]}),(0,Cr.jsx)("span",{children:"\u2022"}),(0,Cr.jsx)("span",{children:"\ud83d\udcd0 Horizontal (ancho > alto)"})]})]})]})]}),(0,Cr.jsxs)("div",{className:"mf-footer",children:[(0,Cr.jsx)("button",{className:"btn btn-secondary",onClick:r,disabled:b,children:"Cancelar"}),(0,Cr.jsx)("button",{className:"btn btn-primary",onClick:()=>{B()?i?_(!0):W():M()},disabled:b||!(!(!u.ruc||!u.ruc.toString().trim())&&!(!u.razon_social||!u.razon_social.toString().trim())&&!(!u.direccion_matriz||!u.direccion_matriz.toString().trim())&&!(u.correo_remitente&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.correo_remitente))&&!(!u.ambiente||!u.tipo_emision)&&!(N||A||O)&&!(f&&!/\.jpe?g$|\.png$/i.test(f.name))),children:i?"Guardar cambios":"Registrar"})]}),b&&(0,Cr.jsx)("div",{className:"mf-loading-overlay","aria-hidden":!0,children:(0,Cr.jsx)(Pr,{message:"Procesando emisor\u2026"})})]}),(0,Cr.jsx)(Vr,{open:E,title:"Guardar cambios",message:"\xbfDesea guardar los cambios?",cancelText:"CANCELAR",confirmText:"CONFIRMAR",onCancel:()=>_(!1),onConfirm:()=>W(),modalStyle:{width:"min(520px, 86vw)"}}),(0,Cr.jsx)("style",{children:'\n        /* Backdrop and modal shell */\n        .mf-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.45);display:flex;align-items:center;justify-content:center;z-index:1000}\n        .mf-modal{position:relative;width:min(820px,92vw);max-height:88vh;background:#fff;border-radius:12px;box-shadow:0 14px 40px rgba(2,6,23,0.18);display:flex;flex-direction:column;overflow:hidden}\n\n        /* Header */\n        .mf-header{padding:20px 24px;border-bottom:1px solid #e5e7eb;background:linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)}\n        .mf-header h2{margin:0;font-size:22px;color:#1e293b;font-weight:700}\n\n        /* Body (scrollable) */\n        .mf-body{padding:24px;overflow:auto}\n        .scrollable{overflow-y:auto;padding-right:8px}\n\n        /* Sections */\n        section{margin-bottom:24px;padding:20px;background:#f8fafc;border-radius:10px;border:1px solid #e5e7eb}\n        section h3{margin:0 0 16px;font-size:16px;text-align:center;color:#334155;font-weight:700;text-transform:uppercase;letter-spacing:0.5px}\n\n        /* Form fields - HORIZONTAL layout for RUC section */\n        label.horizontal{display:grid;grid-template-columns:180px 1fr;gap:12px;align-items:center;\n          margin:10px 0;font-weight:500;color:#475569}\n        label.horizontal input,label.horizontal select{height:40px;padding:10px 12px;border:1px solid #cbd5e1;\n          border-radius:8px;width:100%;box-sizing:border-box;font-size:14px;background:#fff;transition:all 0.2s ease}\n        \n        /* Form fields - VERTICAL layout (default) */\n        label{display:flex;flex-direction:column;gap:8px;margin:12px 0;font-weight:500;color:#475569}\n        input:not([type="radio"]):not([type="checkbox"]):not([type="file"]),select,textarea{\n          height:40px;padding:10px 12px;border:1px solid #cbd5e1;border-radius:8px;width:100%;\n          box-sizing:border-box;font-size:14px;background:#fff;transition:all 0.2s ease\n        }\n        input:not([type="radio"]):not([type="checkbox"]):not([type="file"]):focus,select:focus,textarea:focus{\n          outline:none;box-shadow:0 0 0 3px rgba(59,130,246,0.1);border-color:#3b82f6\n        }\n\n        /* Codigo Artesano - input m\xe1s peque\xf1o */\n        .artesano-input{max-width:400px!important;background:linear-gradient(135deg, #fff 0%, #f8fafc 100%)!important;\n          border:1px solid #cbd5e1!important;font-style:italic;color:#64748b}\n        .artesano-input:focus{background:#fff!important}\n        .logo-hint{font-size:13px;color:var(--color-muted,#6b7280);margin-top:8px}\n        .ambiente-message{font-size:14px;color:var(--color-text);background:transparent;padding:6px 10px;border-radius:6px}\n        .ambiente-message.ambiente-test{color:#1f2937}\n        .tipo-message{font-size:13px;color:var(--color-muted,#6b7280)}\n\n        /* Radio buttons - custom styled circles */\n        input[type="radio"]{appearance:none;width:20px;height:20px;border:2px solid #cbd5e1;border-radius:50%;\n          cursor:pointer;transition:all 0.2s ease;margin:0;position:relative;flex-shrink:0}\n        input[type="radio"]:checked{border-color:#3b82f6;background:#3b82f6;\n          box-shadow:0 0 0 2px #fff inset}\n        input[type="radio"]:hover{border-color:#3b82f6}\n\n        /* Checkbox styled as radio - custom circles */\n        input[type="checkbox"].radio-style{appearance:none;width:20px;height:20px;border:2px solid #cbd5e1;\n          border-radius:50%;cursor:pointer;transition:all 0.2s ease;margin:0;position:relative;flex-shrink:0}\n        input[type="checkbox"].radio-style:checked{border-color:#3b82f6;background:#3b82f6;\n          box-shadow:0 0 0 2px #fff inset}\n        input[type="checkbox"].radio-style:hover{border-color:#3b82f6}\n\n        /* Regular checkbox for Estado */\n        input[type="checkbox"]:not(.radio-style){appearance:none;width:20px;height:20px;border:2px solid #cbd5e1;\n          border-radius:4px;cursor:pointer;transition:all 0.2s ease;margin:0;position:relative;flex-shrink:0}\n        input[type="checkbox"]:not(.radio-style):checked{border-color:#3b82f6;background:#3b82f6}\n        input[type="checkbox"]:not(.radio-style):checked::after{content:\'\u2713\';color:#fff;position:absolute;\n          top:50%;left:50%;transform:translate(-50%,-50%);font-size:14px;font-weight:bold}\n\n        /* Radio / checkbox groups */\n        .row{display:flex;gap:16px;flex-wrap:wrap;align-items:center;justify-content:center}\n        .row label{display:flex;flex-direction:row;align-items:center;gap:8px;margin:4px 0;\n          font-weight:500;font-size:13px;color:#64748b;text-transform:capitalize}\n\n        /* Config row - CENTRADO Y M\xc1S JUNTO */\n        .config-row{display:flex;gap:20px;justify-content:center;align-items:center;margin-top:12px;flex-wrap:wrap}\n        .config-row label{font-size:13px;font-weight:600;color:#475569;display:flex;align-items:center;gap:10px}\n        .config-row select{height:36px;font-size:13px;padding:6px 10px;min-width:140px}\n        .config-row input[type="checkbox"]{width:18px;height:18px}\n\n        /* Validation and misc */\n        .err{color:#dc2626;margin-top:4px;font-size:12px;display:block}\n        .required{color:#dc2626;margin-left:4px;font-weight:700}\n        .req{color:#dc2626;margin-left:4px}\n        .error-input{border-color:#dc2626!important;background:#fef2f2!important}\n\n        /* Footer / actions */\n        .mf-footer{display:flex;gap:12px;justify-content:flex-end;padding:16px 24px;border-top:1px solid #e5e7eb;background:#f8fafc}\n        .mf-footer .btn{padding:11px 20px;border-radius:8px;border:1px solid transparent;cursor:pointer;\n          font-weight:600;font-size:14px;transition:all 0.2s ease}\n        .mf-footer .btn-secondary{background:#fff;color:#475569;border:1px solid #cbd5e1}\n        .mf-footer .btn-secondary:hover{background:#f1f5f9;border-color:#94a3b8}\n        .mf-footer .btn-primary{background:#3b82f6;color:#fff}\n        .mf-footer .btn-primary:hover{background:#2563eb;transform:translateY(-1px);box-shadow:0 4px 12px rgba(59,130,246,0.3)}\n        .mf-footer .btn:disabled{opacity:.5;cursor:not-allowed;transform:none}\n\n        /* Loading overlay */\n        .mf-loading-overlay{position:absolute;inset:0;background:rgba(255,255,255,0.7);display:flex;\n          align-items:center;justify-content:center;border-radius:12px;backdrop-filter:blur(2px)}\n\n        /* Logo input styling - M\xc1S PEQUE\xd1O Y CENTRADO */\n        .logo-container{display:flex;flex-direction:column;gap:10px;max-width:500px;margin:0 auto}\n        .logo-display{display:flex;align-items:center;gap:12px;padding:10px 14px;background:#fff;\n          border:2px dashed #cbd5e1;border-radius:8px;transition:all 0.2s ease;height:36px}\n        .logo-display:hover{border-color:#3b82f6;background:#f0f9ff}\n        .logo-display input[type="text"]{border:none;background:transparent;padding:0;height:auto;flex:1;font-size:13px}\n        .logo-display input[type="text"]:focus{box-shadow:none}\n        input[type="file"]{padding:8px 12px;border:1px solid #cbd5e1;border-radius:8px;font-size:13px;\n          cursor:pointer;background:#fff;transition:all 0.2s ease;height:36px}\n        input[type="file"]:hover{border-color:#3b82f6;background:#f0f9ff}\n        input[type="file"]::file-selector-button{padding:5px 12px;border:1px solid #cbd5e1;\n          border-radius:6px;background:#f8fafc;color:#475569;cursor:pointer;font-weight:500;font-size:12px;\n          margin-right:10px;transition:all 0.2s ease}\n        input[type="file"]::file-selector-button:hover{background:#3b82f6;color:#fff;border-color:#3b82f6}\n\n        /* Responsive tweaks */\n        @media (max-width:600px){\n          .mf-modal{width:calc(100vw - 24px);border-radius:10px}\n          .mf-body{padding:16px}\n          section{padding:16px}\n          label.horizontal{grid-template-columns:1fr;gap:6px}\n          .row{flex-direction:column;align-items:flex-start;gap:12px}\n          .config-row{flex-direction:column;align-items:stretch;gap:12px}\n        }\n      '}),(0,Cr.jsx)("style",{children:'\n        /* Toggle switch - MEJORADO (para Estado) */\n        .switch{position:relative;display:inline-block;width:50px;height:26px}\n        .switch input{opacity:0;width:0;height:0}\n        .slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#cbd5e1;\n          transition:.3s;border-radius:999px}\n        .slider:before{position:absolute;content:"";height:20px;width:20px;left:3px;top:3px;\n          background:white;transition:.3s;border-radius:50%;box-shadow:0 2px 6px rgba(2,6,23,0.15)}\n        .switch input:checked + .slider{background:#10b981}\n        .switch input:checked + .slider:before{transform:translateX(24px)}\n      '})]}):null},Jr=e=>{let{open:t,imageUrl:n,onClose:r}=e;return o.useEffect(()=>{console.log("ImageViewerModal:",{open:t,imageUrl:n})},[t,n]),t&&n?(0,Cr.jsxs)("div",{className:"img-viewer-backdrop",onClick:r,children:[(0,Cr.jsxs)("div",{className:"img-viewer-modal",onClick:e=>e.stopPropagation(),children:[(0,Cr.jsx)("button",{className:"img-viewer-close",onClick:r,title:"Cerrar",children:"\u2715"}),(0,Cr.jsx)("img",{src:n,alt:"Viewer",className:"img-viewer-content"})]}),(0,Cr.jsx)("style",{children:"\n        .img-viewer-backdrop {\n          position: fixed;\n          inset: 0;\n          background: rgba(0, 0, 0, 0.7);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 2000;\n          backdrop-filter: blur(2px);\n        }\n\n        .img-viewer-modal {\n          position: relative;\n          max-width: 90vw;\n          max-height: 90vh;\n          background: white;\n          border-radius: 12px;\n          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          overflow: hidden;\n        }\n\n        .img-viewer-content {\n          max-width: 100%;\n          max-height: 100%;\n          object-fit: contain;\n          display: block;\n        }\n\n        .img-viewer-close {\n          position: absolute;\n          top: 12px;\n          right: 12px;\n          width: 36px;\n          height: 36px;\n          border-radius: 50%;\n          background: rgba(255, 255, 255, 0.9);\n          border: none;\n          cursor: pointer;\n          font-size: 20px;\n          color: #333;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.2s ease;\n          z-index: 10;\n        }\n\n        .img-viewer-close:hover {\n          background: #fff;\n          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n        }\n\n        @media (max-width: 600px) {\n          .img-viewer-modal {\n            max-width: 95vw;\n            max-height: 85vh;\n            border-radius: 8px;\n          }\n        }\n      "})]}):null};function Zr(e){if(e)return function(e){if(!e)return e;const t=e.includes("?")?"&":"?";return"".concat(e).concat(t,"t=").concat(Date.now())}(e)||void 0}function ea(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(!e)return"";const n=e.trim().split(/\s+/);return n.length<=t?e:n.slice(0,t).join(" ")+"..."}const ta=[{key:"estado",label:"Estado",width:120,render:e=>{const t="ACTIVO"===e.estado;return(0,Cr.jsx)("span",{style:{display:"inline-block",padding:"6px 12px",borderRadius:"20px",fontWeight:600,color:"#fff",background:t?"#22c55e":"#9ca3af"},children:e.estado})}},{key:"tipo_plan",label:"Tipo de plan"},{key:"fecha_inicio_plan",label:"Fecha inicio de plan"},{key:"fecha_fin_plan",label:"Fecha final del plan"},{key:"cantidad_creados",label:"Cantidad de comprobantes creados",width:240},{key:"cantidad_restantes",label:"Cantidad de comprobantes restantes",width:240},{key:"nombre_comercial",label:"Nombre comercial",width:200},{key:"direccion_matriz",label:"Direcci\xf3n Matriz",width:240},{key:"correo_remitente",label:"Correo Remitente",width:250},{key:"logo",label:"Logo",width:130,render:e=>e.logo_url?(0,Cr.jsx)("img",{className:"logo-cell",src:Zr(e.logo_url),alt:"logo",title:"Haz clic para ampliar",style:{cursor:"pointer",transition:"transform 0.2s ease"},onError:t=>{console.error("Error cargando imagen:",e.logo_url),t.currentTarget.style.display="none"},onLoad:()=>console.log("Imagen cargada correctamente:",e.logo_url)}):(0,Cr.jsx)("span",{className:"logo-placeholder",children:"\ud83d\uddbc\ufe0f"})},{key:"regimen_tributario",label:"R\xe9gimen Tributario",width:200},{key:"obligado_contabilidad",label:"Obligado a llevar contabilidad",width:200},{key:"contribuyente_especial",label:"Contribuyente Especial",width:200},{key:"agente_retencion",label:"Agente de retenci\xf3n",width:170},{key:"codigo_artesano",label:"C\xf3digo Artesano",width:180},{key:"tipo_persona",label:"Tipo de persona",width:160},{key:"ambiente",label:"Ambiente",width:150},{key:"tipo_emision",label:"Tipo de Emisi\xf3n",width:160},{key:"created_at",label:"Fecha de creaci\xf3n",width:130,render:e=>{if(!e.created_at)return"-";return new Date(e.created_at).toLocaleDateString("es-EC",{day:"2-digit",month:"2-digit",year:"numeric"})}},{key:"updated_at",label:"Fecha de actualizaci\xf3n",width:150,render:e=>{if(!e.updated_at)return"-";return new Date(e.updated_at).toLocaleDateString("es-EC",{day:"2-digit",month:"2-digit",year:"numeric"})}},{key:"created_by_name",label:"Nombre del registrador",width:230,render:e=>e.created_by_name||"-"},{key:"ultimo_login",label:"Fecha de \xfaltimo inicio de sesi\xf3n",width:240},{key:"ultimo_comprobante",label:"Fecha de ultimo comprobante creado",width:260}],na=()=>{var e,t;const[n,r]=o.useState([]),{show:a}=Rr(),{user:i}=zr(),[l,s]=o.useState(!1),[c,d]=o.useState(null),[u,p]=o.useState(""),[f,m]=o.useState("ACTIVO"),[h,g]=o.useState(""),b={ruc:"RUC",razon_social:"Raz\xf3n Social",estado:"Estado",tipo_plan:"Tipo de Plan",cantidad_creados_gt:"Cantidad de Comprobantes Creados (>)",cantidad_restantes_lt:"Cantidad de Comprobantes Restantes (<)",nombre_comercial:"Nombre Comercial",direccion_matriz:"Direcci\xf3n Matriz",correo_remitente:"Correo Remitente",regimen_tributario:"R\xe9gimen Tributario",tipo_persona:"Tipo de Persona",ambiente:"Ambiente",tipo_emision:"Tipo de Emisi\xf3n",registrador:"Nombre del registrador"},[x,v]=o.useState(""),[y,j]=o.useState(""),[w,S]=o.useState(null),[k,N]=o.useState(!1),[C,E]=o.useState(!1),[_,z]=o.useState(null),[T,A]=o.useState(null),[R,O]=o.useState(!0),[P,L]=o.useState(!1),[I,F]=o.useState(null),[D,B]=o.useState(null),[W,M]=o.useState(""),[U,q]=o.useState(!1),[H,V]=o.useState(null),[Q,G]=o.useState(!1),[X,K]=o.useState(!1),[Y,$]=o.useState(!1),[J,Z]=o.useState(null),[ee,te]=o.useState(!1),ne=o.useRef(null),re=o.useRef(null),[ae,oe]=o.useState(1),[ie,le]=o.useState(5),[se,ce]=o.useState(0),[de,ue]=o.useState(null),[pe,fe]=o.useState("asc"),[me,he]=o.useState(!1),[ge,be]=o.useState(null),xe=o.useCallback(e=>{if(!e)return"";const[t,n,r]=e.split("-");return t&&n&&r?"".concat(r,"/").concat(n,"/").concat(t):e},[]),ve=o.useCallback(e=>!!i&&("administrador"===i.role||("distribuidor"===i.role?e.created_by===i.id:"emisor"===i.role&&(e.created_by===i.id||e.id===i.emisor_id))),[i]),ye=o.useRef(null);o.useEffect(()=>{if(!ee)return;const e=e=>{ne.current&&!ne.current.contains(e.target)&&te(!1)};return document.addEventListener("mousedown",e),setTimeout(()=>{var e;return null===(e=re.current)||void 0===e?void 0:e.focus()},0),()=>document.removeEventListener("mousedown",e)},[ee]);const je=o.useCallback(async()=>{s(!0),S(null);try{var e,t,n;const a={q:h||void 0,created_at_from:x||void 0,created_at_to:y||void 0,page:1,per_page:200};c&&u.trim()?a[c]=u.trim():!c&&f&&(a.estado=f);const o=await Xr.list(a),l=null!==(e=null!==(t=null===(n=o.data)||void 0===n?void 0:n.data)&&void 0!==t?t:o.data)&&void 0!==e?e:[];console.log("Emisores recibidos:",l),l.forEach(e=>{e.logo_url&&console.log("Emisor ".concat(e.ruc," - Logo URL:"),e.logo_url)});let s=l;if("tipo_plan"===c&&u.trim()){const e=u.trim().toLowerCase();s=s.filter(t=>t.tipo_plan&&String(t.tipo_plan).toLowerCase().includes(e))}if(i&&("gerente"===i.role||"cajero"===i.role)){const e=i.emisor_id;e&&(s=s.filter(t=>t.id===e))}r(s),ce(s.length),oe(1)}catch($a){var a,o;S((null===$a||void 0===$a||null===(a=$a.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message)||"No se pudo cargar emisores")}finally{s(!1)}},[c,u,f,h,x,y,i]);o.useEffect(()=>{je()},[je]),o.useEffect(()=>{const e=setTimeout(()=>{null!==c&&je()},400);return()=>clearTimeout(e)},[u,c]);const we=e=>{"logo"!==e&&(de===e?fe("asc"===pe?"desc":"asc"):(ue(e),fe("asc")))},Se=o.useMemo(()=>{if(!de)return n;return[...n].sort((e,t)=>{const n=e[de],r=t[de];return null==n&&null==r?0:null==n?"asc"===pe?1:-1:null==r?"asc"===pe?-1:1:"string"===typeof n&&"string"===typeof r?"asc"===pe?n.localeCompare(r,"es"):r.localeCompare(n,"es"):"number"===typeof n&&"number"===typeof r?"asc"===pe?n-r:r-n:"asc"===pe?String(n).localeCompare(String(r),"es"):String(r).localeCompare(String(n),"es")})},[n,de,pe]),ke=o.useMemo(()=>{const e=(ae-1)*ie,t=e+ie;return Se.slice(e,t)},[Se,ae,ie]),Ne=Math.ceil(se/ie);return(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsxs)("div",{className:"emisores-page",children:[(0,Cr.jsxs)("div",{className:"emisores-header",children:[(0,Cr.jsx)("h2",{children:"Emisores"}),(0,Cr.jsxs)("div",{className:"filtros",children:[(0,Cr.jsxs)("div",{className:"date-range",ref:ne,children:[(0,Cr.jsxs)("button",{type:"button",className:"date-range-display",onClick:()=>te(e=>!e),"aria-haspopup":"dialog","aria-expanded":ee,title:"Seleccionar rango de fechas",children:[(0,Cr.jsx)("span",{className:"start ".concat(x?"has":""),children:x?xe(x):"Fecha Inicial"}),(0,Cr.jsx)("span",{className:"arrow",children:"\u2192"}),(0,Cr.jsx)("span",{className:"end ".concat(y?"has":""),children:y?xe(y):"Fecha Final"}),(0,Cr.jsx)("span",{className:"icon","aria-hidden":!0,children:"\ud83d\udcc5"})]}),ee&&(0,Cr.jsxs)("div",{className:"date-range-popover",role:"dialog",children:[(0,Cr.jsxs)("div",{className:"row",children:[(0,Cr.jsxs)("label",{children:["Desde",(0,Cr.jsx)("input",{ref:re,type:"date",value:x,onChange:e=>v(e.target.value)})]}),(0,Cr.jsxs)("label",{children:["Hasta",(0,Cr.jsx)("input",{type:"date",value:y,onChange:e=>j(e.target.value)})]})]}),(0,Cr.jsxs)("div",{className:"actions",children:[(0,Cr.jsx)("button",{type:"button",onClick:()=>{v(""),j(""),te(!1)},children:"Limpiar"}),(0,Cr.jsx)("button",{type:"button",className:"primary",onClick:()=>te(!1),children:"Aplicar"})]})]})]}),(0,Cr.jsxs)("div",{className:"estado-search",children:[(0,Cr.jsxs)("div",{className:"input-wrap",children:["estado"===c?(0,Cr.jsxs)("select",{value:u,onChange:e=>p(e.target.value),children:[(0,Cr.jsx)("option",{value:"",children:"Todos"}),(0,Cr.jsx)("option",{value:"ACTIVO",children:"ACTIVO"}),(0,Cr.jsx)("option",{value:"INACTIVO",children:"INACTIVO"})]}):"tipo_plan"===c?(0,Cr.jsxs)("select",{value:u,onChange:e=>p(e.target.value),children:[(0,Cr.jsx)("option",{value:"",children:"Todos"}),(0,Cr.jsx)("option",{value:"BASICO",children:"B\xe1sico"}),(0,Cr.jsx)("option",{value:"ESTANDAR",children:"Est\xe1ndar"}),(0,Cr.jsx)("option",{value:"PREMIUM",children:"Premium"})]}):"regimen_tributario"===c?(0,Cr.jsxs)("select",{value:u,onChange:e=>p(e.target.value),children:[(0,Cr.jsx)("option",{value:"",children:"Todos"}),(0,Cr.jsx)("option",{value:"GENERAL",children:"GENERAL"}),(0,Cr.jsx)("option",{value:"RIMPE_POPULAR",children:"RIMPE_POPULAR"}),(0,Cr.jsx)("option",{value:"RIMPE_EMPRENDEDOR",children:"RIMPE_EMPRENDEDOR"}),(0,Cr.jsx)("option",{value:"MICRO_EMPRESA",children:"MICRO_EMPRESA"})]}):"tipo_persona"===c?(0,Cr.jsxs)("select",{value:u,onChange:e=>p(e.target.value),children:[(0,Cr.jsx)("option",{value:"",children:"Todos"}),(0,Cr.jsx)("option",{value:"NATURAL",children:"NATURAL"}),(0,Cr.jsx)("option",{value:"JURIDICA",children:"JURIDICA"})]}):"ambiente"===c?(0,Cr.jsxs)("select",{value:u,onChange:e=>p(e.target.value),children:[(0,Cr.jsx)("option",{value:"",children:"Todos"}),(0,Cr.jsx)("option",{value:"PRODUCCION",children:"PRODUCCION"}),(0,Cr.jsx)("option",{value:"PRUEBAS",children:"PRUEBAS"})]}):"tipo_emision"===c?(0,Cr.jsxs)("select",{value:u,onChange:e=>p(e.target.value),children:[(0,Cr.jsx)("option",{value:"",children:"Todos"}),(0,Cr.jsx)("option",{value:"NORMAL",children:"NORMAL"}),(0,Cr.jsx)("option",{value:"INDISPONIBILIDAD",children:"INDISPONIBILIDAD"})]}):"cantidad_creados_gt"===c||"cantidad_restantes_lt"===c?(0,Cr.jsx)("input",{type:"number",placeholder:"cantidad_creados_gt"===c?"Mayor que\u2026":"Menor que\u2026",value:u,onChange:e=>p(e.target.value)}):(0,Cr.jsx)("input",{type:"text",placeholder:c?"Filtrar por ".concat(b[c]):"Haz clic en un encabezado para filtrar",value:u,onChange:e=>p(e.target.value)}),(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udd0d"}),c&&u&&(0,Cr.jsx)("button",{type:"button",className:"clear-filter-btn",onClick:()=>p(""),"aria-label":"Limpiar filtro",title:"Limpiar filtro",children:"\xd7"})]}),(0,Cr.jsxs)("small",{className:"caption",children:[c?"Buscando por ".concat(b[c]):"Selecciona un encabezado para filtrar",c&&u&&(0,Cr.jsx)("button",{type:"button",style:{marginLeft:8,background:"transparent",border:"none",color:"#1e40af",cursor:"pointer",fontSize:12},onClick:()=>{p("")},children:"Limpiar"})]})]}),(0,Cr.jsx)("button",{className:"btn-nuevo",onClick:()=>N(!0),disabled:"gerente"===(null===i||void 0===i?void 0:i.role)||"emisor"===(null===i||void 0===i?void 0:i.role)||"cajero"===(null===i||void 0===i?void 0:i.role),style:{opacity:"gerente"===(null===i||void 0===i?void 0:i.role)||"emisor"===(null===i||void 0===i?void 0:i.role)||"cajero"===(null===i||void 0===i?void 0:i.role)?.5:1,cursor:"gerente"===(null===i||void 0===i?void 0:i.role)||"emisor"===(null===i||void 0===i?void 0:i.role)||"cajero"===(null===i||void 0===i?void 0:i.role)?"not-allowed":"pointer",backgroundColor:"gerente"===(null===i||void 0===i?void 0:i.role)||"emisor"===(null===i||void 0===i?void 0:i.role)||"cajero"===(null===i||void 0===i?void 0:i.role)?"#ccc":void 0},title:"gerente"===(null===i||void 0===i?void 0:i.role)?"Los gerentes no pueden crear emisores":"emisor"===(null===i||void 0===i?void 0:i.role)?"Los emisores no pueden crear emisores":"cajero"===(null===i||void 0===i?void 0:i.role)?"Los cajeros no pueden crear emisores":"Crear nuevo emisor",children:"Nuevo +"})]})]}),w&&(0,Cr.jsxs)("div",{className:"alert-error",children:["\u26a0 ",w]}),(0,Cr.jsxs)("div",{className:"tabla-wrapper",children:[(0,Cr.jsx)("div",{className:"tabla-scroll-container",ref:ye,children:(0,Cr.jsxs)("table",{className:"tabla-emisores",children:[(0,Cr.jsx)("thead",{children:(0,Cr.jsxs)("tr",{children:[(0,Cr.jsxs)("th",{className:"th-sticky sticky-left-1 sortable",onClick:()=>{we("ruc"),d("ruc"),p("")},style:{cursor:"pointer"},children:["RUC ","ruc"===de?"asc"===pe?"\u25b2":"\u25bc":"\u25be"," ","ruc"===c&&(0,Cr.jsx)("span",{style:{color:"#ff8c00"},children:"\u25cf"})]}),(0,Cr.jsxs)("th",{className:"th-sticky sticky-left-2 sortable",onClick:()=>{we("razon_social"),d("razon_social"),p("")},style:{cursor:"pointer"},children:["Raz\xf3n Social ","razon_social"===de?"asc"===pe?"\u25b2":"\u25bc":"\u25be"," ","razon_social"===c&&(0,Cr.jsx)("span",{style:{color:"#ff8c00"},children:"\u25cf"})]}),ta.map(e=>{var t,n;const r=["estado","tipo_plan","cantidad_creados","cantidad_restantes","nombre_comercial","direccion_matriz","correo_remitente","regimen_tributario","tipo_persona","ambiente","tipo_emision","created_by_name"].includes(String(e.key)),a={estado:"estado",tipo_plan:"tipo_plan",cantidad_creados:"cantidad_creados_gt",cantidad_restantes:"cantidad_restantes_lt",nombre_comercial:"nombre_comercial",direccion_matriz:"direccion_matriz",correo_remitente:"correo_remitente",regimen_tributario:"regimen_tributario",tipo_persona:"tipo_persona",ambiente:"ambiente",tipo_emision:"tipo_emision",created_by_name:"registrador"}[String(e.key)];return(0,Cr.jsxs)("th",{className:"th-dyn ".concat("logo"!==e.key?"sortable":""),style:{minWidth:null!==(t=e.width)&&void 0!==t?t:200,width:null!==(n=e.width)&&void 0!==n?n:200,cursor:"logo"!==e.key?"pointer":"default"},title:e.label,onClick:()=>{"logo"!==e.key&&we(e.key),r&&a&&(d(a),p(""))},children:[e.label," ","logo"!==e.key&&(de===e.key?"asc"===pe?"\u25b2":"\u25bc":"\u25be")," ",c===a&&(0,Cr.jsx)("span",{style:{color:"#ff8c00"},children:"\u25cf"})]},String(e.key))}),(0,Cr.jsx)("th",{className:"th-sticky sticky-right",children:"Acciones"})]})}),(0,Cr.jsx)("tbody",{children:l?(0,Cr.jsx)("tr",{children:(0,Cr.jsx)("td",{className:"loading-row",colSpan:ta.length+3,children:(0,Cr.jsx)(Pr,{message:"Cargando emisores\u2026"})})}):ke.length?ke.map(e=>(0,Cr.jsxs)("tr",{children:[(0,Cr.jsx)("td",{className:"td-sticky sticky-left-1",children:(0,Cr.jsx)(Le,{className:"link-ruc",to:"/emisores/".concat(e.id),children:ea(e.ruc||"")})}),(0,Cr.jsx)("td",{className:"td-sticky sticky-left-2",children:ea(e.razon_social||"")}),ta.map(t=>{var n,r,a,o;let i=t.render?t.render(e):null!==(n=e[t.key])&&void 0!==n?n:"-";"string"===typeof i&&(i=ea(i)),"logo"===t.key&&e.logo_url&&(i=(0,Cr.jsx)("img",{className:"logo-cell",src:Zr(e.logo_url),alt:"logo",title:"Haz clic para ampliar",onClick:()=>{e.logo_url&&(console.log("Logo clicked from table, URL:",e.logo_url),be(e.logo_url),he(!0))},style:{cursor:"pointer",transition:"transform 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.transform="scale(1.1)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",onError:t=>{console.error("Error cargando imagen:",e.logo_url),t.currentTarget.style.display="none"},onLoad:()=>console.log("Imagen cargada correctamente:",e.logo_url)}));const l="number"===typeof e[t.key],s="cantidad_restantes"===t.key;return(0,Cr.jsx)("td",{className:"td-dyn",style:{minWidth:null!==(r=t.width)&&void 0!==r?r:200,width:null!==(a=t.width)&&void 0!==a?a:200,fontWeight:l?700:"normal",color:s?"#e24444":l?"#1b4ab4":"inherit"},children:null!==(o=i)&&void 0!==o?o:"-"},String(t.key))}),(0,Cr.jsxs)("td",{className:"td-sticky sticky-right acciones",children:[(0,Cr.jsx)("button",{title:ve(e)?"Editar":"No tienes permisos para editar",disabled:!ve(e),onClick:async()=>{try{var t,n,r;const a=await Xr.get(e.id),o=null!==(t=null===(n=a.data)||void 0===n?void 0:n.data)&&void 0!==t?t:a.data;z(e.id||null),A(o),O(null===(r=o.ruc_editable)||void 0===r||r),E(!0)}catch($a){alert("No se pudo cargar el emisor para edici\xf3n")}},style:{opacity:ve(e)?1:.5,cursor:ve(e)?"pointer":"not-allowed"},children:"\u270f\ufe0f"}),(0,Cr.jsx)("button",{title:ve(e)?"Eliminar":"No tienes permisos para eliminar",disabled:!ve(e),onClick:()=>{F(e.id||null),B(e.razon_social||null),M(""),V(null),L(!0)},style:{opacity:ve(e)?1:.5,cursor:ve(e)?"pointer":"not-allowed"},children:"\ud83d\uddd1\ufe0f"}),"INACTIVO"===e.estado&&(e.updated_at&&new Date(e.updated_at)<=new Date(Date.now()-31536e6)||e.fecha_actualizacion&&new Date(e.fecha_actualizacion)<=new Date(Date.now()-31536e6))&&(0,Cr.jsx)("button",{title:ve(e)?"Eliminar (con historial)":"No tienes permisos",disabled:!ve(e),onClick:async()=>{try{var t,n,r,o;const i=await Xr.prepareDeletion(e.id),l=null!==(t=null!==(n=null===(r=i.data)||void 0===r?void 0:r.backup_url)&&void 0!==n?n:null===(o=i.data)||void 0===o?void 0:o.backupUrl)&&void 0!==t?t:null;F(e.id||null),B(e.razon_social||null),Z(l),$(!0),a({title:"Respaldo creado",message:"Se gener\xf3 un respaldo y se envi\xf3 notificaci\xf3n al cliente (si aplica).",type:"info"})}catch(s){var i,l;a({title:"Error",message:(null===s||void 0===s||null===(i=s.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.message)||"No se pudo generar el respaldo",type:"error"})}},style:{opacity:ve(e)?1:.5,cursor:ve(e)?"pointer":"not-allowed"},children:"\ud83d\uddc4\ufe0f"})]})]},e.id)):(0,Cr.jsx)("tr",{children:(0,Cr.jsx)("td",{colSpan:ta.length+3,style:{textAlign:"center",padding:12},children:"Sin resultados"})})})]})}),(0,Cr.jsxs)("div",{className:"pagination-controls",children:[(0,Cr.jsxs)("div",{className:"pagination-info",children:["Filas por p\xe1gina:",(0,Cr.jsxs)("select",{value:ie,onChange:e=>{return t=Number(e.target.value),le(t),void oe(1);var t},className:"items-per-page-select",children:[(0,Cr.jsx)("option",{value:5,children:"5"}),(0,Cr.jsx)("option",{value:10,children:"10"}),(0,Cr.jsx)("option",{value:15,children:"15"})]}),(0,Cr.jsxs)("span",{className:"page-range",children:[0===se?"0-0":"".concat((ae-1)*ie+1,"-").concat(Math.min(ae*ie,se))," de ",se]})]}),(0,Cr.jsxs)("div",{className:"pagination-buttons",children:[(0,Cr.jsx)("button",{onClick:()=>oe(1),disabled:1===ae,title:"Primera p\xe1gina",className:"page-btn",children:"\u27ea"}),(0,Cr.jsx)("button",{onClick:()=>oe(e=>Math.max(1,e-1)),disabled:1===ae,title:"P\xe1gina anterior",className:"page-btn",children:"\u2039"}),(0,Cr.jsx)("button",{onClick:()=>oe(e=>Math.min(Ne,e+1)),disabled:ae>=Ne,title:"P\xe1gina siguiente",className:"page-btn",children:"\u203a"}),(0,Cr.jsx)("button",{onClick:()=>oe(Ne),disabled:ae>=Ne,title:"\xdaltima p\xe1gina",className:"page-btn",children:"\u27eb"})]})]})]})]}),(0,Cr.jsx)($r,{open:k,onClose:()=>N(!1),onCreated:e=>{r(t=>{const n=[e,...t];return ce(n.length),n}),a({title:"\xc9xito",message:"Emisor creado correctamente",type:"success"})}}),P&&(0,Cr.jsx)("div",{className:"delete-modal-overlay",children:(0,Cr.jsxs)("div",{className:"delete-modal-content",onClick:e=>e.stopPropagation(),children:[(0,Cr.jsxs)("div",{className:"delete-modal-header",children:[(0,Cr.jsxs)("h2",{children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),"Eliminar emisor"]}),(0,Cr.jsx)("button",{className:"delete-modal-close",onClick:()=>L(!1),children:"\u2715"})]}),(0,Cr.jsxs)("div",{className:"delete-modal-body",children:[(0,Cr.jsx)("p",{className:"delete-confirmation-text",children:"\xbfEst\xe1 seguro que desea eliminar al emisor:"}),(0,Cr.jsxs)("p",{style:{textAlign:"center",marginTop:12,marginBottom:20,fontSize:18},children:[(0,Cr.jsx)("span",{style:{color:"#dc2626",fontWeight:800},children:null!==(e=null===(t=n.find(e=>e.id===I))||void 0===t?void 0:t.ruc)&&void 0!==e?e:""}),(0,Cr.jsx)("span",{style:{fontWeight:600},children:" - "}),(0,Cr.jsx)("span",{style:{color:"#dc2626",fontWeight:800},children:D})]}),(0,Cr.jsx)("p",{className:"delete-info-text",style:{textAlign:"center"},children:"y todos sus datos asociados?"})]}),(0,Cr.jsxs)("div",{className:"delete-modal-footer",children:[(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-cancel",onClick:()=>L(!1),children:"Cancelar"}),(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-danger",onClick:()=>{L(!1),G(!0)},children:"\ud83d\uddd1\ufe0f Confirmar"})]})]})}),Y&&(0,Cr.jsx)("div",{className:"delete-modal-overlay",children:(0,Cr.jsxs)("div",{className:"delete-modal-content",onClick:e=>e.stopPropagation(),children:[(0,Cr.jsxs)("div",{className:"delete-modal-header",children:[(0,Cr.jsxs)("h2",{children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udcbe"}),"Respaldo generado"]}),(0,Cr.jsx)("button",{className:"delete-modal-close",onClick:()=>$(!1),children:"\u2715"})]}),(0,Cr.jsxs)("div",{className:"delete-modal-body",children:[(0,Cr.jsx)("p",{className:"delete-confirmation-text",children:"Se gener\xf3 un respaldo con la informaci\xf3n del emisor y se envi\xf3 una notificaci\xf3n al cliente (si aplica)."}),J&&(0,Cr.jsx)("p",{style:{textAlign:"center",margin:"16px 0"},children:(0,Cr.jsx)("a",{href:J,target:"_blank",rel:"noreferrer",style:{color:"#2563eb",fontWeight:600,textDecoration:"none",borderBottom:"2px solid #2563eb"},children:"\ud83d\udce5 Descargar respaldo"})}),(0,Cr.jsxs)("div",{className:"delete-warning-box",style:{marginTop:16},children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("strong",{children:"Advertencia:"})," Al continuar, se eliminar\xe1 permanentemente el emisor del sistema."]})]})]}),(0,Cr.jsxs)("div",{className:"delete-modal-footer",children:[(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-cancel",onClick:()=>$(!1),children:"Cancelar"}),(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-danger",onClick:()=>{$(!1),K(!0),M(""),V(null),G(!0)},children:"\ud83d\uddd1\ufe0f Eliminar permanentemente"})]})]})}),Q&&(0,Cr.jsx)("div",{className:"delete-modal-overlay",children:(0,Cr.jsxs)("div",{className:"delete-modal-content",onClick:e=>e.stopPropagation(),children:[(0,Cr.jsxs)("div",{className:"delete-modal-header",children:[(0,Cr.jsxs)("h2",{children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udd12"}),"Verificar contrase\xf1a"]}),(0,Cr.jsx)("button",{className:"delete-modal-close",onClick:()=>{G(!1),M("")},children:"\u2715"})]}),(0,Cr.jsxs)("div",{className:"delete-modal-body",children:[(0,Cr.jsx)("p",{className:"delete-password-text",children:"Ingresa tu clave de administrador para confirmar la eliminaci\xf3n del emisor"}),(0,Cr.jsxs)("div",{className:"delete-form-group",children:[(0,Cr.jsx)("label",{htmlFor:"delete-password",className:"delete-form-label",children:"Clave de administrador *"}),(0,Cr.jsx)("input",{id:"delete-password",type:"password",value:W,onChange:e=>M(e.target.value),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:H?"delete-form-input error":"delete-form-input",autoFocus:!0,onKeyPress:e=>{"Enter"===e.key&&W&&!U&&(async()=>{if(I){q(!0),V(null);try{X?await Xr.deletePermanent(I,W):await Xr.delete(I,W),r(e=>{const t=e.filter(e=>e.id!==I);return ce(t.length),t}),G(!1),K(!1),a({title:"\xc9xito",message:"Emisor eliminado correctamente",type:"success"})}catch(n){var e,t;const r=(null===n||void 0===n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"No se pudo eliminar el emisor";V(r)}finally{q(!1)}}})()}}),H&&(0,Cr.jsxs)("span",{className:"delete-error-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0"}),H]})]})]}),(0,Cr.jsxs)("div",{className:"delete-modal-footer",children:[(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-cancel",onClick:()=>{G(!1),M("")},disabled:U,children:"Cancelar"}),(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-danger",onClick:async()=>{if(I){q(!0),V(null);try{X?await Xr.deletePermanent(I,W):await Xr.delete(I,W),r(e=>{const t=e.filter(e=>e.id!==I);return ce(t.length),t}),G(!1),K(!1),a({title:"\xc9xito",message:"Emisor eliminado correctamente",type:"success"})}catch(n){var e,t;const r=(null===n||void 0===n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"No se pudo eliminar el emisor";V(r)}finally{q(!1)}}},disabled:U||0===W.length,children:U?"Eliminando\u2026":"\ud83d\uddd1\ufe0f Eliminar"})]})]})}),(0,Cr.jsx)($r,{open:C,onClose:()=>E(!1),editingId:_,initialData:null!==T&&void 0!==T?T:void 0,rucEditable:R,onUpdated:e=>{je(),E(!1),a({title:"\xc9xito",message:"Emisor actualizado correctamente",type:"success"})}}),(0,Cr.jsx)(Jr,{open:me,imageUrl:ge,onClose:()=>he(!1)})]})},ra={list:e=>Nr.get("/api/emisores/".concat(e,"/establecimientos")),checkCode:(e,t)=>Nr.get("/api/emisores/".concat(e,"/establecimientos/check-code/").concat(encodeURIComponent(t))),show:(e,t)=>Nr.get("/api/emisores/".concat(e,"/establecimientos/").concat(t)),create(e,t){if(!!t.logoFile){const n=new FormData;return Object.entries(t).forEach(e=>{let[t,r]=e;"logoFile"!==t&&void 0!==r&&null!==r&&n.append(t,String(r))}),t.logoFile&&n.append("logo",t.logoFile),Nr.post("/api/emisores/".concat(e,"/establecimientos"),n)}return Nr.post("/api/emisores/".concat(e,"/establecimientos"),t)},update(e,t,n){if(!!n.logoFile){var r;const a=new FormData;return Object.entries(n).forEach(e=>{let[t,n]=e;"logoFile"!==t&&void 0!==n&&null!==n&&a.append(t,String(n))}),n.logoFile&&(a.append("logo",n.logoFile),a.append("_method","PUT")),console.log("[establecimientosApi.update] Enviando POST multipart con logo",{companyId:e,id:t,logoName:null===(r=n.logoFile)||void 0===r?void 0:r.name,removeLogo:n.remove_logo}),Nr.post("/api/emisores/".concat(e,"/establecimientos/").concat(t),a)}return console.log("[establecimientosApi.update] Enviando request sin archivo",{companyId:e,id:t,removeLogo:n.remove_logo}),Nr.put("/api/emisores/".concat(e,"/establecimientos/").concat(t),n)},delete:(e,t,n)=>Nr.delete("/api/emisores/".concat(e,"/establecimientos/").concat(t),{data:{password:n}}),listPuntos:e=>Nr.get("/api/emisores/".concat(e,"/puntos-emision"))},aa={codigo:"",estado:"ABIERTO",nombre:"",nombre_comercial:"",direccion:"",correo:"",telefono:""},oa=e=>{let{open:t,onClose:n,companyId:r,onCreated:a,editingEst:i,codigoEditable:l,onUpdated:s}=e;const[c,d]=o.useState(aa),[u,p]=o.useState(null),[f,m]=o.useState("none"),[h,g]=o.useState({}),[b,x]=o.useState(new Set),[v,y]=o.useState(!1),[j,w]=o.useState(null),[S,k]=o.useState(!1),[N,C]=o.useState(!1),[E,_]=o.useState(!0);o.useEffect(()=>{t&&(i?(d(He(He({},aa),i)),_(null===l||void 0===l||l)):(d(aa),_(!0)),p(null),m("none"),g({}),w(null))},[t,i,l]);const z=(e,t)=>{"codigo"===e&&(t=t.replace(/[^0-9]/g,"").slice(0,3)),"telefono"===e&&(t=t.replace(/[^0-9]/g,"").slice(0,10)),d(n=>He(He({},n),{},{[e]:t}));const n=e;g(e=>{if(!e||!(n in e))return e;const t=He({},e);return delete t[n],t}),"codigo"===e&&w(null)},T=e=>{x(t=>{const n=new Set(t);return n.add(e),n})};o.useEffect(()=>{if(!c.codigo||!c.codigo.trim())return void w(null);if(i&&c.codigo===i.codigo)return void w(null);const e=setTimeout(async()=>{y(!0);try{var e;null!==(e=(await ra.checkCode(r,c.codigo)).data)&&void 0!==e&&e.exists?w("C\xf3digo ya registrado para este emisor"):w(null)}catch($a){w(null)}finally{y(!1)}},600);return()=>clearTimeout(e)},[c.codigo,r,i]);const A=e=>{switch(e){case"codigo":return!(c.codigo&&c.codigo.trim());case"nombre":return!(c.nombre&&c.nombre.trim());case"direccion":return!(c.direccion&&c.direccion.trim());default:return!1}},R=()=>{const e={};return c.codigo&&c.codigo.trim()?3!==c.codigo.length&&(e.codigo="C\xf3digo debe tener 3 d\xedgitos"):e.codigo="C\xf3digo es obligatorio",c.nombre&&c.nombre.trim()||(e.nombre="Nombre es obligatorio"),c.direccion&&c.direccion.trim()||(e.direccion="Direcci\xf3n es obligatoria"),c.estado||(e.estado="Estado es obligatorio"),c.correo&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.correo)&&(e.correo="Correo inv\xe1lido"),c.telefono&&!/^\d+$/.test(c.telefono)&&(e.telefono="Tel\xe9fono debe contener solo n\xfameros"),c.telefono&&c.telefono.length>10&&(e.telefono="Tel\xe9fono m\xe1ximo 10 d\xedgitos"),j&&(e.codigo=j),"custom"!==f||u||(e.logo="Debes subir un archivo para logo personalizado"),g(e),0===Object.keys(e).length},O=async()=>{if(R()){k(!0);try{let d=null;if("custom"===f)d=u;else if("default"===f)try{const e=await fetch("/maximofactura.png"),t=await e.blob(),n=await new Promise((e,n)=>{const r=new Image;r.onload=()=>{const t=document.createElement("canvas"),a=t.getContext("2d");let o=r.width,i=r.height;o>800&&(i=800*i/o,o=800),t.width=o,t.height=i,a&&(a.clearRect(0,0,o,i),a.drawImage(r,0,0,o,i)),t.toBlob(t=>{t?e(t):n(new Error("No se pudo optimizar"))},"image/png",.9)},r.onerror=n,r.src=URL.createObjectURL(t)});d=new File([n],"maximofactura.png",{type:"image/png"})}catch(p){return console.error("Error cargando logo por defecto:",p),alert("No se pudo cargar el logo por defecto"),void k(!1)}else"none"===f&&(d=null);const m="none"===f;if(i&&i.id){var e,t;const n=await ra.update(r,i.id,He(He({},c),{},{logoFile:d,remove_logo:m})),a=null!==(e=null===(t=n.data)||void 0===t?void 0:t.data)&&void 0!==e?e:n.data;s&&s(a)}else{var o,l;const e=await ra.create(r,He(He({},c),{},{logoFile:d,remove_logo:m})),t=null!==(o=null===(l=e.data)||void 0===l?void 0:l.data)&&void 0!==o?o:e.data;a&&a(t)}n()}catch(p){var d;const e=null===p||void 0===p||null===(d=p.response)||void 0===d?void 0:d.data;null!==e&&void 0!==e&&e.errors?g(Object.fromEntries(Object.entries(e.errors).map(e=>{let[t,n]=e;return[t,n[0]]}))):alert((null===e||void 0===e?void 0:e.message)||"No se pudo procesar la solicitud")}finally{k(!1),C(!1)}}};o.useMemo(()=>new Set(["codigo","nombre","direccion","estado"]),[]);return t?(0,Cr.jsxs)("div",{className:"mf-backdrop",children:[(0,Cr.jsxs)("div",{className:"mf-modal",style:{width:"min(780px, 92vw)"},children:[(0,Cr.jsx)("div",{className:"mf-header",children:(0,Cr.jsx)("h2",{children:i?"Editar establecimiento":"Registro de nuevo establecimiento"})}),(0,Cr.jsx)("div",{className:"mf-body scrollable",children:(0,Cr.jsxs)("section",{children:[(0,Cr.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:24,marginBottom:16},children:[(0,Cr.jsxs)("label",{className:"horizontal",style:{flex:1,maxWidth:"450px",margin:0},children:[(0,Cr.jsxs)("span",{children:["C\xf3digo ",(0,Cr.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Cr.jsx)("input",{className:b.has("codigo")&&(A("codigo")||h.codigo)?"error-input":"",value:c.codigo||"",onBlur:()=>{T("codigo"),c.codigo&&c.codigo.length>0&&c.codigo.length<3&&d(e=>He(He({},e),{},{codigo:e.codigo.padStart(3,"0")}))},onChange:e=>z("codigo",e.target.value),disabled:!(!i||E),placeholder:"Ej: 001"})]}),(0,Cr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,Cr.jsxs)("div",{style:{textAlign:"right"},children:[(0,Cr.jsxs)("div",{style:{fontWeight:600,fontSize:13,color:"#475569"},children:["Estado ",(0,Cr.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Cr.jsx)("div",{style:{fontSize:12,marginTop:2,color:"ABIERTO"===c.estado?"#059669":"#64748b"},children:"ABIERTO"===c.estado?"Abierto":"Cerrado"})]}),(0,Cr.jsxs)("label",{className:"switch",children:[(0,Cr.jsx)("input",{type:"checkbox",checked:"ABIERTO"===c.estado,onChange:e=>z("estado",e.target.checked?"ABIERTO":"CERRADO")}),(0,Cr.jsx)("span",{className:"slider"})]})]})]}),i&&!E&&(0,Cr.jsx)("small",{style:{color:"#64748b",marginLeft:"192px",display:"block",marginTop:-8},children:"El c\xf3digo no puede ser modificado porque existen comprobantes autorizados."}),v&&(0,Cr.jsx)("small",{style:{marginLeft:"192px",display:"block",marginTop:-8},children:"Verificando c\xf3digo\u2026"}),b.has("codigo")&&h.codigo&&(0,Cr.jsx)("span",{className:"err",style:{marginLeft:"192px",display:"block",marginTop:-8},children:h.codigo}),(0,Cr.jsxs)("label",{className:"horizontal",children:[(0,Cr.jsxs)("span",{children:["Nombre ",(0,Cr.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Cr.jsx)("input",{value:c.nombre||"",onBlur:()=>T("nombre"),onChange:e=>z("nombre",e.target.value),className:b.has("nombre")&&A("nombre")?"error-input":""})]}),b.has("nombre")&&h.nombre&&(0,Cr.jsx)("span",{className:"err",style:{marginLeft:"192px"},children:h.nombre}),(0,Cr.jsxs)("label",{className:"horizontal",children:["Nombre Comercial",(0,Cr.jsx)("input",{value:c.nombre_comercial||"",onChange:e=>z("nombre_comercial",e.target.value)})]}),(0,Cr.jsx)("small",{style:{marginLeft:"192px",display:"block",marginTop:2,color:"#64748b"},children:"Se mostrar\xe1 en los comprobantes"}),(0,Cr.jsxs)("label",{className:"horizontal",children:[(0,Cr.jsxs)("span",{children:["Direcci\xf3n ",(0,Cr.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Cr.jsx)("input",{value:c.direccion||"",onBlur:()=>T("direccion"),onChange:e=>z("direccion",e.target.value),className:b.has("direccion")&&A("direccion")?"error-input":""})]}),b.has("direccion")&&h.direccion&&(0,Cr.jsx)("span",{className:"err",style:{marginLeft:"192px"},children:h.direccion}),(0,Cr.jsx)("small",{style:{marginLeft:"192px",display:"block",marginTop:2,color:"#64748b"},children:"Se mostrar\xe1 en los comprobantes"}),(0,Cr.jsxs)("label",{className:"horizontal",children:["Correo",(0,Cr.jsx)("input",{value:c.correo||"",onBlur:()=>T("correo"),onChange:e=>z("correo",e.target.value),className:b.has("correo")&&h.correo?"error-input":""})]}),b.has("correo")&&h.correo&&(0,Cr.jsx)("span",{className:"err",style:{marginLeft:"192px"},children:h.correo}),(0,Cr.jsx)("small",{style:{marginLeft:"192px",display:"block",marginTop:2,color:"#64748b"},children:"Se mostrar\xe1 en los comprobantes"}),(0,Cr.jsxs)("label",{className:"horizontal",children:["N\xfamero de tel\xe9fono",(0,Cr.jsx)("input",{value:c.telefono||"",onBlur:()=>T("telefono"),onChange:e=>z("telefono",e.target.value),className:b.has("telefono")&&h.telefono?"error-input":"",placeholder:"0123456789"})]}),b.has("telefono")&&h.telefono&&(0,Cr.jsx)("span",{className:"err",style:{marginLeft:"192px"},children:h.telefono}),(0,Cr.jsx)("small",{style:{marginLeft:"192px",display:"block",marginTop:2,color:"#64748b"},children:"Se mostrar\xe1 en los comprobantes \u2022 M\xe1ximo 10 d\xedgitos"}),(0,Cr.jsxs)("label",{className:"horizontal",style:{marginTop:24},children:[(0,Cr.jsx)("span",{style:{fontWeight:600,fontSize:"14px",color:"#374151"},children:"Logo"}),(0,Cr.jsxs)("select",{value:f,onChange:e=>{m(e.target.value),p(null)},style:{padding:"10px 12px",borderRadius:"8px",border:"2px solid #e5e7eb",fontSize:"14px",color:"#374151",background:"#fff",cursor:"pointer",transition:"border-color 0.2s ease"},children:[(0,Cr.jsx)("option",{value:"none",children:"\ud83d\udeab Sin logo"}),(0,Cr.jsx)("option",{value:"default",children:"\ud83c\udfe2 Logo por defecto (M\xe1ximo Facturas)"}),(0,Cr.jsx)("option",{value:"custom",children:"\ud83d\udcc1 Logo personalizado"})]})]}),"custom"===f&&(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsxs)("div",{style:{position:"relative",border:"2px dashed #c7d2fe",borderRadius:"10px",padding:"20px 16px",textAlign:"center",background:"linear-gradient(135deg, #faf5ff 0%, #f3f4f6 100%)",transition:"all 0.3s ease",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"8px",marginTop:"12px"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#7c3aed",e.currentTarget.style.background="linear-gradient(135deg, #f3e8ff 0%, #ede9fe 100%)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#c7d2fe",e.currentTarget.style.background="linear-gradient(135deg, #faf5ff 0%, #f3f4f6 100%)"},children:[u?(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)("div",{style:{width:"42px",height:"42px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",color:"#fff",boxShadow:"0 3px 8px rgba(16, 185, 129, 0.3)"},children:"\u2713"}),(0,Cr.jsx)("div",{style:{fontSize:"13px",fontWeight:700,color:"#059669"},children:u.name}),(0,Cr.jsx)("div",{style:{fontSize:"11px",color:"#7c3aed",fontWeight:600},children:"Click para cambiar"})]}):(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)("div",{style:{width:"42px",height:"42px",background:"linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",color:"#fff",boxShadow:"0 3px 8px rgba(124, 58, 237, 0.3)"},children:"\ud83d\udcc1"}),(0,Cr.jsx)("div",{style:{fontSize:"13px",fontWeight:600,color:"#374151"},children:"Click para seleccionar archivo"})]}),(0,Cr.jsx)("input",{type:"file",accept:".jpg,.jpeg,.png",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,cursor:"pointer"},onChange:e=>{var t;return p((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)}})]}),(0,Cr.jsx)("div",{style:{marginTop:"6px",fontSize:"11px",color:"#6b7280",textAlign:"center"},children:"\ud83d\udcce JPG, JPEG, PNG \u2022 \ud83d\udcd0 Horizontal (ancho > alto)"})]}),(0,Cr.jsxs)("label",{style:{marginTop:16},children:["Actividades economicas",(0,Cr.jsx)("textarea",{value:c.actividades_economicas||"",onChange:e=>z("actividades_economicas",e.target.value),rows:3})]}),(0,Cr.jsxs)("div",{className:"date-row",children:[(0,Cr.jsxs)("label",{children:[(0,Cr.jsx)("span",{children:"Fecha inicio de actividades"}),(0,Cr.jsx)("input",{type:"date",value:c.fecha_inicio_actividades||"",onChange:e=>z("fecha_inicio_actividades",e.target.value)})]}),(0,Cr.jsxs)("label",{children:[(0,Cr.jsx)("span",{children:"Fecha reinicio de actividades"}),(0,Cr.jsx)("input",{type:"date",value:c.fecha_reinicio_actividades||"",onChange:e=>z("fecha_reinicio_actividades",e.target.value)})]})]}),(0,Cr.jsxs)("label",{className:"horizontal",style:{maxWidth:"500px",margin:"12px auto"},children:["Fecha cierre de establecimiento",(0,Cr.jsx)("input",{type:"date",value:c.fecha_cierre_establecimiento||"",onChange:e=>z("fecha_cierre_establecimiento",e.target.value)})]})]})}),(0,Cr.jsxs)("div",{className:"mf-footer",children:[(0,Cr.jsx)("button",{className:"btn btn-secondary",onClick:n,disabled:S,children:"Cancelar"}),(0,Cr.jsx)("button",{className:"btn btn-primary",onClick:()=>{R()&&(i?C(!0):O())},disabled:S||!(!(!c.codigo||!c.codigo.trim()||3!==c.codigo.length)&&!(!c.nombre||!c.nombre.trim())&&!(!c.direccion||!c.direccion.trim())&&!!c.estado&&!(c.correo&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.correo))&&!(c.telefono&&(!/^\d+$/.test(c.telefono)||c.telefono.length>10))&&!j&&!v&&!("custom"===f&&!u)&&!("custom"===f&&u&&!/\.jpe?g$|\.png$/i.test(u.name))),children:i?"Guardar":"Registrar"})]}),S&&(0,Cr.jsx)("div",{className:"mf-loading-overlay","aria-hidden":!0,children:(0,Cr.jsx)(Pr,{message:"Procesando cambios\u2026"})}),(0,Cr.jsx)("style",{children:'\n          /* Backdrop and modal shell */\n          .mf-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.45);display:flex;align-items:center;justify-content:center;z-index:1000}\n          .mf-modal{position:relative;width:min(780px,92vw);max-height:88vh;background:#fff;border-radius:12px;box-shadow:0 14px 40px rgba(2,6,23,0.18);display:flex;flex-direction:column;overflow:hidden}\n\n          /* Header */\n          .mf-header{padding:20px 24px;border-bottom:1px solid #e5e7eb;background:linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)}\n          .mf-header h2{margin:0;font-size:22px;color:#1e293b;font-weight:700}\n\n          /* Body (scrollable) */\n          .mf-body{padding:24px;overflow:auto}\n          .scrollable{overflow-y:auto;padding-right:8px}\n\n          /* Sections */\n          section{padding:20px;background:#f8fafc;border-radius:10px;border:1px solid #e5e7eb}\n\n          /* Form fields - HORIZONTAL layout */\n          label.horizontal{display:grid;grid-template-columns:200px 1fr;gap:12px;align-items:center;\n            margin:10px 0;font-weight:500;color:#475569}\n          label.horizontal input,label.horizontal select{height:40px;padding:10px 12px;border:1px solid #cbd5e1;\n            border-radius:8px;width:100%;box-sizing:border-box;font-size:14px;background:#fff;transition:all 0.2s ease}\n          \n          /* Form fields - VERTICAL layout (default) */\n          label{display:flex;flex-direction:column;gap:8px;margin:12px 0;font-weight:500;color:#475569}\n          label span{font-weight:500;color:#475569}\n          input:not([type="radio"]):not([type="checkbox"]):not([type="file"]),select,textarea{\n            height:40px;padding:10px 12px;border:1px solid #cbd5e1;border-radius:8px;width:100%;\n            box-sizing:border-box;font-size:14px;background:#fff;transition:all 0.2s ease\n          }\n          textarea{height:auto;min-height:70px;resize:vertical}\n          input:not([type="radio"]):not([type="checkbox"]):not([type="file"]):focus,select:focus,textarea:focus{\n            outline:none;box-shadow:0 0 0 3px rgba(59,130,246,0.1);border-color:#3b82f6\n          }\n\n          /* Date row - 2 columns */\n          .date-row{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-top:16px}\n\n          /* Logo input styling - CENTRADO Y M\xc1S PEQUE\xd1O */\n          .logo-container{display:flex;flex-direction:column;gap:10px;max-width:500px;margin:0 auto}\n          .logo-display{display:flex;align-items:center;gap:12px;padding:10px 14px;background:#fff;\n            border:2px dashed #cbd5e1;border-radius:8px;transition:all 0.2s ease;height:36px}\n          .logo-display:hover{border-color:#3b82f6;background:#f0f9ff}\n          .logo-display input[type="text"]{border:none;background:transparent;padding:0;height:auto;flex:1;font-size:13px}\n          .logo-display input[type="text"]:focus{box-shadow:none}\n          input[type="file"]{padding:8px 12px;border:1px solid #cbd5e1;border-radius:8px;font-size:13px;\n            cursor:pointer;background:#fff;transition:all 0.2s ease;height:36px}\n          input[type="file"]:hover{border-color:#3b82f6;background:#f0f9ff}\n          input[type="file"]::file-selector-button{padding:5px 12px;border:1px solid #cbd5e1;\n            border-radius:6px;background:#f8fafc;color:#475569;cursor:pointer;font-weight:500;font-size:12px;\n            margin-right:10px;transition:all 0.2s ease}\n          input[type="file"]::file-selector-button:hover{background:#3b82f6;color:#fff;border-color:#3b82f6}\n\n          /* Toggle switch - MEJORADO */\n          .switch{position:relative;display:inline-block;width:50px;height:26px}\n          .switch input{opacity:0;width:0;height:0}\n          .slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#cbd5e1;\n            transition:.3s;border-radius:999px}\n          .slider:before{position:absolute;content:"";height:20px;width:20px;left:3px;top:3px;\n            background:white;transition:.3s;border-radius:50%;box-shadow:0 2px 6px rgba(2,6,23,0.15)}\n          .switch input:checked + .slider{background:#10b981}\n          .switch input:checked + .slider:before{transform:translateX(24px)}\n\n          /* Validation and misc */\n          .err{color:#dc2626;margin-top:4px;font-size:12px;display:block}\n          .required{color:#dc2626;margin-left:4px;font-weight:700}\n          .error-input{border-color:#dc2626!important;background:#fef2f2!important}\n\n          /* Footer / actions */\n          .mf-footer{display:flex;gap:12px;justify-content:flex-end;padding:16px 24px;border-top:1px solid #e5e7eb;background:#f8fafc}\n          .mf-footer .btn{padding:11px 20px;border-radius:8px;border:1px solid transparent;cursor:pointer;\n            font-weight:600;font-size:14px;transition:all 0.2s ease}\n          .mf-footer .btn-secondary{background:#fff;color:#475569;border:1px solid #cbd5e1}\n          .mf-footer .btn-secondary:hover{background:#f1f5f9;border-color:#94a3b8}\n          .mf-footer .btn-primary{background:#3b82f6;color:#fff}\n          .mf-footer .btn-primary:hover{background:#2563eb;transform:translateY(-1px);box-shadow:0 4px 12px rgba(59,130,246,0.3)}\n          .mf-footer .btn:disabled{opacity:.5;cursor:not-allowed;transform:none}\n\n          /* Loading overlay */\n          .mf-loading-overlay{position:absolute;inset:0;background:rgba(255,255,255,0.7);display:flex;\n            align-items:center;justify-content:center;border-radius:12px;backdrop-filter:blur(2px)}\n\n          /* Responsive tweaks */\n          @media (max-width:600px){\n            .mf-modal{width:calc(100vw - 24px);border-radius:10px}\n            .mf-body{padding:16px}\n            section{padding:16px}\n            label.horizontal{grid-template-columns:1fr;gap:6px}\n            .date-row{grid-template-columns:1fr}\n          }\n        '})]}),(0,Cr.jsx)(Vr,{open:N,title:"Guardar cambios",message:"\xbfDesea guardar los cambios del establecimiento?",cancelText:"CANCELAR",confirmText:"CONFIRMAR",onCancel:()=>C(!1),onConfirm:()=>O(),modalStyle:{width:"min(520px, 86vw)"}})]}):null};const ia=gr.create({baseURL:"http://localhost:8000/api",headers:{"Content-Type":"application/json"}});ia.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e.headers.Accept="application/json",e});const la=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return ia.get("/emisores/".concat(e,"/usuarios"),{params:{page:t,per_page:n}})},sa=async(e,t)=>ia.get("/emisores/".concat(e,"/usuarios/").concat(t)),ca=async(e,t)=>ia.post("/emisores/".concat(e,"/usuarios"),t),da=async(e,t,n)=>ia.put("/emisores/".concat(e,"/usuarios/").concat(t),n),ua=async(e,t,n)=>ia.delete("/emisores/".concat(e,"/usuarios/").concat(t),{data:{password:n}}),pa=async e=>ia.get("/usuarios/check/email",{params:{email:e}}),fa=async e=>ia.get("/usuarios/check/username",{params:{username:e}}),ma=async(e,t,n)=>ia.post("/emisores/".concat(e,"/usuarios/").concat(t,"/resend-verification"),{estado:n}),ha=e=>{if(!e||10!==e.length)return{valid:!1,error:"La c\xe9dula debe tener exactamente 10 d\xedgitos"};if(!/^\d{10}$/.test(e))return{valid:!1,error:"La c\xe9dula debe contener solo n\xfameros"};const t=parseInt(e.substring(0,2),10);if(t<1||t>24)return{valid:!1,error:"Los dos primeros d\xedgitos deben corresponder a una provincia v\xe1lida (01-24)"};if(parseInt(e.charAt(2),10)>=6)return{valid:!1,error:"El tercer d\xedgito debe ser menor a 6 (c\xe9dula de persona natural)"};const n=[2,1,2,1,2,1,2,1,2];let r=0;for(let o=0;o<9;o++){let t=parseInt(e.charAt(o),10)*n[o];t>=10&&(t-=9),r+=t}const a=r%10;return(0===a?0:10-a)!==parseInt(e.charAt(9),10)?{valid:!1,error:"C\xe9dula inv\xe1lida: el d\xedgito verificador no es correcto"}:{valid:!0}},ga=e=>{if(!e)return{valid:!1,error:"El email es requerido"};if(!/^[a-zA-Z0-9._+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e))return{valid:!1,error:"Formato de email inv\xe1lido"};if(e.length>255)return{valid:!1,error:"El email es demasiado largo (m\xe1x. 255 caracteres)"};if(e.includes(".."))return{valid:!1,error:"Email inv\xe1lido: no se permiten puntos consecutivos"};const[,t]=e.split("@");return t&&t.includes(".")?{valid:!0}:{valid:!1,error:"El dominio del email debe incluir un punto"}},ba=e=>e?e.length<4?{valid:!1,error:"El username debe tener al menos 4 caracteres"}:e.length>50?{valid:!1,error:"El username es demasiado largo (m\xe1x. 50 caracteres)"}:/^[a-zA-Z0-9_-]+$/.test(e)?{valid:!0}:{valid:!1,error:"Solo se permiten letras, n\xfameros, guiones y guiones bajos"}:{valid:!1,error:"El username es requerido"},xa=(e,t)=>e?e.length<3?{valid:!1,error:"".concat("nombres"===t?"Los nombres deben":"Los apellidos deben"," tener al menos 3 caracteres")}:e.length>100?{valid:!1,error:"".concat("nombres"===t?"Los nombres son":"Los apellidos son"," demasiado largos (m\xe1x. 100 caracteres)")}:/^[a-z\xe1\xe9\xed\xf3\xfa\xf1A-Z\xc1\xc9\xcd\xd3\xda\xd1\s'-]+$/.test(e)?{valid:!0}:{valid:!1,error:"Solo se permiten caracteres alfab\xe9ticos, espacios, guiones y ap\xf3strofes"}:{valid:!1,error:"".concat("nombres"===t?"Los nombres son":"Los apellidos son"," requeridos")},va=e=>{let{open:t,onClose:n,emiId:r,editingId:a,initialData:i,establecimientos:l,puntosEmision:s,onCreated:c,onUpdated:d}=e;const{show:u}=Rr(),{user:p}=zr(),[f,m]=o.useState(""),[h,g]=o.useState(""),[b,x]=o.useState(""),[v,y]=o.useState(""),[j,w]=o.useState(""),[S,k]=o.useState("gerente"),[N,C]=o.useState([]),[E,_]=o.useState({}),[z,T]=o.useState(!1),[A,R]=o.useState({}),[O,P]=o.useState(!1),[L,I]=o.useState(!1),[F,D]=o.useState(!1),[B,W]=o.useState("nuevo"),M=o.useMemo(()=>Boolean(a),[a]),U=o.useMemo(()=>{if(!p)return[];return{administrador:["emisor","gerente","cajero"],distribuidor:["emisor","gerente","cajero"],emisor:["gerente","cajero"],gerente:["cajero"],cajero:[]}[p.role]||[]},[p]),q=o.useMemo(()=>"emisor"===S?l.map(e=>e.id):N,[S,l,N]);o.useEffect(()=>{_(e=>{const t={};let n=!1;if(q.forEach(r=>{const a=Object.prototype.hasOwnProperty.call(e,r)?e[r]:null,o=a&&s.some(e=>e.id===a&&Number(e.establecimiento_id)===Number(r))?a:null;t[r]=o,n||o===a||(n=!0)}),!n){const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)n=!0;else for(const e of r)if(!Object.prototype.hasOwnProperty.call(t,Number(e))){n=!0;break}}return n?t:e})},[q,s]);const H=o.useCallback((e,t)=>{_(n=>He(He({},n),{},{[e]:t?Number(t):null}))},[]),V=o.useCallback(e=>s.filter(t=>Number(t.establecimiento_id)===Number(e)),[s]);o.useEffect(()=>{t&&i?(m(i.cedula||""),g(i.nombres||""),x(i.apellidos||""),y(i.username||""),w(i.email),k(i.role||"gerente"),W(i.estado||"nuevo"),C([]),_({})):t&&(m(""),g(""),x(""),y(""),w(""),k(U.length>0?U[0]:"gerente"),W("nuevo"),C([]),_({})),R({})},[t,i,U]);return t?(0,Cr.jsx)("div",{className:"mf-modal-overlay",role:"dialog","aria-modal":"true",children:(0,Cr.jsxs)("div",{className:"mf-modal",children:[(0,Cr.jsxs)("div",{className:"modal-header",children:[(0,Cr.jsx)("h2",{children:a?"Editar usuario":"Registrar nuevo usuario"}),(0,Cr.jsx)("button",{onClick:n,className:"modal-close-btn",type:"button",children:"\u2715"})]}),(0,Cr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return f.match(/^\d{10}$/)||(e.cedula="Debe contener exactamente 10 d\xedgitos"),(!h.match(/^[A-Za-z\xc1\xc9\xcd\xd3\xda\xe1\xe9\xed\xf3\xfa\xd1\xf1\s\-'`]+$/)||h.length<3)&&(e.nombres="Solo letras, m\xednimo 3 caracteres"),(!b.match(/^[A-Za-z\xc1\xc9\xcd\xd3\xda\xe1\xe9\xed\xf3\xfa\xd1\xf1\s\-'`]+$/)||b.length<3)&&(e.apellidos="Solo letras, m\xednimo 3 caracteres"),j.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)||(e.email="Email inv\xe1lido"),v.length<3&&(e.username="M\xednimo 3 caracteres"),"emisor"===S||"gerente"!==S&&"cajero"!==S||0===N.length&&(e.establecimientos="Debe seleccionar al menos un establecimiento"),R(e),0===Object.keys(e).length})()){T(!0);try{let e={cedula:f,nombres:h,apellidos:b,username:v,email:j,role:S,estado:"activo"};const i=q.map(e=>{var t;return null!==(t=E[e])&&void 0!==t?t:null}).filter(e=>Boolean(e));if("emisor"===S?(e.establecimientos_ids=[],e.puntos_emision_ids=i):"gerente"!==S&&"cajero"!==S||(e.establecimientos_ids=N.length>0?N:[],e.puntos_emision_ids=i),a){var t;const n=await da(r,a,e);u({title:"\xc9xito",message:"Usuario actualizado correctamente",type:"success"}),null===d||void 0===d||d(null===(t=n.data)||void 0===t?void 0:t.data)}else{var o;const t=await ca(r,e);u({title:"\u2705 Usuario creado",message:"Se ha enviado un correo a ".concat(j," para verificar la cuenta y establecer su contrase\xf1a"),type:"success"}),null===c||void 0===c||c(null===(o=t.data)||void 0===o?void 0:o.data)}n()}catch(k){var i,l,s,p,m,g,x,y,w;const e=(null===(i=k.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.message)||(null===(s=k.response)||void 0===s||null===(p=s.data)||void 0===p||null===(m=p.errors)||void 0===m||null===(g=m[Object.keys((null===(x=k.response)||void 0===x||null===(y=x.data)||void 0===y?void 0:y.errors)||{})[0]])||void 0===g?void 0:g[0])||"Error al guardar usuario";u({title:"Error",message:e,type:"error"}),console.error("Error:",null===(w=k.response)||void 0===w?void 0:w.data)}finally{T(!1)}}},children:[(0,Cr.jsxs)("div",{className:"usuario-form-grid",children:[(0,Cr.jsxs)("div",{className:"usuario-form-group ".concat(A.cedula?"error":""),children:[(0,Cr.jsxs)("label",{children:["C\xe9dula ",(0,Cr.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,Cr.jsx)("input",{type:"text",value:f,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,10);m(t);const n=ha(t),r=n.valid?"":n.error||"";R(e=>He(He({},e),{},{cedula:r}))},placeholder:"1234567890",maxLength:10}),A.cedula&&(0,Cr.jsx)("span",{className:"usuario-form-error",children:A.cedula})]}),(0,Cr.jsxs)("div",{className:"usuario-form-group ".concat(A.nombres?"error":""),children:[(0,Cr.jsxs)("label",{children:["Nombres ",(0,Cr.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,Cr.jsx)("input",{type:"text",value:h,onChange:e=>{let t=e.target.value;t=t.replace(/[^a-z\xe1\xe9\xed\xf3\xfa\xf1A-Z\xc1\xc9\xcd\xd3\xda\xd1\s'-]/g,""),g(t);const n=xa(t,"nombres"),r=n.valid?"":n.error||"";R(e=>He(He({},e),{},{nombres:r}))},placeholder:"Juan Carlos"}),A.nombres&&(0,Cr.jsx)("span",{className:"usuario-form-error",children:A.nombres})]}),(0,Cr.jsxs)("div",{className:"usuario-form-group ".concat(A.apellidos?"error":""),children:[(0,Cr.jsxs)("label",{children:["Apellidos ",(0,Cr.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,Cr.jsx)("input",{type:"text",value:b,onChange:e=>{let t=e.target.value;t=t.replace(/[^a-z\xe1\xe9\xed\xf3\xfa\xf1A-Z\xc1\xc9\xcd\xd3\xda\xd1\s'-]/g,""),x(t);const n=xa(t,"apellidos"),r=n.valid?"":n.error||"";R(e=>He(He({},e),{},{apellidos:r}))},placeholder:"P\xe9rez L\xf3pez"}),A.apellidos&&(0,Cr.jsx)("span",{className:"usuario-form-error",children:A.apellidos})]}),(0,Cr.jsxs)("div",{className:"usuario-form-group ".concat(A.username?"error":""),children:[(0,Cr.jsxs)("label",{children:["Nombre de usuario ",(0,Cr.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,Cr.jsx)("input",{type:"text",value:v,onChange:e=>{const t=e.target.value;y(t);const n=ba(t),r=n.valid?"":n.error||"";if(R(e=>He(He({},e),{},{username:r})),t.length>=4&&!r&&(!M||t!==(null===i||void 0===i?void 0:i.username))){setTimeout(async()=>{I(!0);try{await fa(t),R(e=>He(He({},e),{},{username:"\u274c Este nombre de usuario ya est\xe1 registrado. Por favor elige otro."}))}catch(n){var e;404===(null===n||void 0===n||null===(e=n.response)||void 0===e?void 0:e.status)?R(e=>He(He({},e),{},{username:""})):u({title:"Error",message:"No se pudo verificar el nombre de usuario",type:"error"})}finally{I(!1)}},500)}},placeholder:"usuario1",autoComplete:"off",disabled:z,style:{width:"100%",padding:"10px 12px",border:A.username?"2px solid #ff6b6b":"1px solid #ddd",borderRadius:6,fontSize:14,boxSizing:"border-box"}}),L?(0,Cr.jsx)("span",{style:{color:"#1a63d6",fontSize:12,marginTop:4,display:"block"},children:"\u23f3 Verificando disponibilidad..."}):A.username&&(0,Cr.jsx)("span",{style:{color:"#ff6b6b",fontSize:12,marginTop:4,display:"block"},children:A.username})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsxs)("label",{style:{display:"block",marginBottom:6,fontWeight:600,color:"#333"},children:["Email ",(0,Cr.jsx)("span",{style:{color:"#ff6b6b"},children:"*"})]}),(0,Cr.jsx)("input",{type:"email",value:j,onChange:e=>{const t=e.target.value;w(t);const n=ga(t),r=n.valid?"":n.error||"";if(R(e=>He(He({},e),{},{email:r})),n.valid&&(!M||t!==(null===i||void 0===i?void 0:i.email))){setTimeout(async()=>{P(!0);try{await pa(t),R(e=>He(He({},e),{},{email:"\u274c Este correo electr\xf3nico ya est\xe1 registrado en el sistema. Por favor usa otro."}))}catch(n){var e;404===(null===n||void 0===n||null===(e=n.response)||void 0===e?void 0:e.status)?R(e=>He(He({},e),{},{email:""})):u({title:"Error",message:"No se pudo verificar el correo",type:"error"})}finally{P(!1)}},500)}},placeholder:"usuario@dominio.com",autoComplete:"off",disabled:z,style:{width:"100%",padding:"10px 12px",border:A.email?"2px solid #ff6b6b":"1px solid #ddd",borderRadius:6,fontSize:14,boxSizing:"border-box"}}),O?(0,Cr.jsx)("span",{style:{color:"#1a63d6",fontSize:12,marginTop:4,display:"block"},children:"\u23f3 Verificando disponibilidad..."}):A.email&&(0,Cr.jsx)("span",{style:{color:"#ff6b6b",fontSize:12,marginTop:4,display:"block"},children:A.email})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsxs)("label",{style:{display:"block",marginBottom:6,fontWeight:600,color:"#333"},children:["Rol ",(0,Cr.jsx)("span",{style:{color:"#ff6b6b"},children:"*"})]}),(0,Cr.jsx)("select",{value:S,onChange:e=>{k(e.target.value),"emisor"===e.target.value&&(C([]),_({}))},style:{width:"100%",padding:"10px 12px",border:"1px solid #ddd",borderRadius:6,fontSize:14,boxSizing:"border-box"},children:U.map(e=>(0,Cr.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),!a&&(0,Cr.jsxs)("div",{className:"info-box success",children:[(0,Cr.jsx)("span",{className:"info-box-icon",children:"\ud83d\udd10"}),(0,Cr.jsxs)("div",{className:"info-box-content",children:[(0,Cr.jsx)("p",{className:"info-box-title",children:"Contrase\xf1a Auto-Generada"}),(0,Cr.jsxs)("p",{className:"info-box-text",children:["\u2139\ufe0f El usuario recibir\xe1 un correo electr\xf3nico para ",(0,Cr.jsx)("strong",{children:"verificar su cuenta"})," y establecer su propia contrase\xf1a de forma segura."]})]})]}),("gerente"===S||"cajero"===S)&&(0,Cr.jsxs)("div",{style:{marginBottom:20},children:[(0,Cr.jsx)("div",{style:{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",padding:"16px 20px",borderRadius:"12px 12px 0 0",borderBottom:"3px solid #f59e0b",marginBottom:0},children:(0,Cr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,Cr.jsx)("span",{style:{fontSize:28},children:"\ud83c\udfe2"}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsxs)("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#78350f",letterSpacing:"-0.02em"},children:["Establecimientos ",(0,Cr.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Cr.jsxs)("p",{style:{fontSize:13,color:"#92400e",margin:"4px 0 0",fontWeight:500},children:["Obligatorio para ",S," - Selecciona los establecimientos asignados"]})]})]})}),0===l.length?(0,Cr.jsx)("div",{style:{background:"#ffffff",border:"1px solid #e2e8f0",borderTop:"none",borderRadius:"0 0 12px 12px",padding:"20px"},children:(0,Cr.jsxs)("div",{style:{padding:"16px 20px",background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",border:"2px dashed #fbbf24",borderRadius:10,display:"flex",alignItems:"center",gap:12},children:[(0,Cr.jsx)("span",{style:{fontSize:24},children:"\u26a0\ufe0f"}),(0,Cr.jsx)("p",{style:{fontSize:14,color:"#92400e",margin:0,fontWeight:600},children:"No hay establecimientos disponibles para asignar. Debe crear establecimientos primero."})]})}):(0,Cr.jsx)("div",{style:{background:"#ffffff",border:A.establecimientos?"2px solid #ef4444":"1px solid #e2e8f0",borderTop:"none",borderRadius:"0 0 12px 12px",padding:"20px",maxHeight:240,overflowY:"auto"},children:(0,Cr.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:10},children:l.map((e,t)=>(0,Cr.jsxs)("label",{style:{display:"flex",alignItems:"center",padding:"12px 16px",background:N.includes(e.id)?"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)":"linear-gradient(135deg, #fafbfc 0%, #f1f5f9 100%)",border:N.includes(e.id)?"2px solid #f59e0b":"2px solid #e2e8f0",borderRadius:10,cursor:"pointer",transition:"all 0.2s ease",position:"relative",overflow:"hidden"},onMouseEnter:t=>{N.includes(e.id)||(t.currentTarget.style.borderColor="#cbd5e1",t.currentTarget.style.background="linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)")},onMouseLeave:t=>{N.includes(e.id)||(t.currentTarget.style.borderColor="#e2e8f0",t.currentTarget.style.background="linear-gradient(135deg, #fafbfc 0%, #f1f5f9 100%)")},children:[(0,Cr.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"4px",height:"100%",background:N.includes(e.id)?"linear-gradient(180deg, #f59e0b, #d97706)":"transparent"}}),(0,Cr.jsx)("input",{type:"checkbox",checked:N.includes(e.id),onChange:t=>{t.target.checked?C(t=>[...t,e.id]):(C(t=>t.filter(t=>t!==e.id)),_(t=>{if(!(e.id in t))return t;const n=e.id,{[n]:r}=t,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,[n].map(Me));return a})),A.establecimientos&&R(He(He({},A),{},{establecimientos:""}))},style:{marginRight:12,cursor:"pointer",width:18,height:18,accentColor:"#f59e0b"}}),(0,Cr.jsx)("div",{style:{width:32,height:32,borderRadius:"50%",background:N.includes(e.id)?"linear-gradient(135deg, #fbbf24, #f59e0b)":"linear-gradient(135deg, #e2e8f0, #cbd5e1)",display:"flex",alignItems:"center",justifyContent:"center",marginRight:12,fontSize:14,fontWeight:700,color:N.includes(e.id)?"#ffffff":"#64748b",flexShrink:0},children:N.includes(e.id)?"\u2713":String(t+1).padStart(2,"0")}),(0,Cr.jsxs)("span",{style:{fontWeight:600,color:N.includes(e.id)?"#78350f":"#475569",fontSize:14},children:[e.codigo," - ",e.nombre]})]},e.id))})}),A.establecimientos&&(0,Cr.jsxs)("div",{style:{marginTop:8,padding:"10px 14px",background:"#fef2f2",border:"1px solid #fca5a5",borderRadius:6,display:"flex",alignItems:"center",gap:8},children:[(0,Cr.jsx)("span",{style:{fontSize:16},children:"\u274c"}),(0,Cr.jsx)("span",{style:{color:"#dc2626",fontSize:13,fontWeight:600},children:A.establecimientos})]})]}),"emisor"===S&&(0,Cr.jsxs)("div",{className:"info-box info",children:[(0,Cr.jsx)("span",{className:"info-box-icon",children:"\u2139\ufe0f"}),(0,Cr.jsx)("div",{className:"info-box-content",children:(0,Cr.jsxs)("p",{className:"info-box-text",children:["El rol ",(0,Cr.jsx)("strong",{children:"Emisor"})," se asocia autom\xe1ticamente a todos los establecimientos de la empresa. Define abajo el punto de emisi\xf3n que usar\xe1 en cada uno."]})})]}),q.length>0&&(0,Cr.jsxs)("div",{style:{marginBottom:20},children:[(0,Cr.jsx)("div",{style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",padding:"16px 20px",borderRadius:"12px 12px 0 0",borderBottom:"3px solid #6366f1",marginBottom:0},children:(0,Cr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,Cr.jsx)("span",{style:{fontSize:28},children:"\ud83d\udccd"}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("h3",{style:{margin:0,fontSize:16,fontWeight:700,color:"#1e293b",letterSpacing:"-0.02em"},children:"emisor"===S?"Puntos de emisi\xf3n por establecimiento":"Puntos de emisi\xf3n"}),(0,Cr.jsx)("p",{style:{fontSize:13,color:"#64748b",margin:"4px 0 0",fontWeight:500},children:"Selecciona como m\xe1ximo un punto de emisi\xf3n para cada establecimiento asignado"})]})]})}),(0,Cr.jsx)("div",{style:{background:"#ffffff",border:"1px solid #e2e8f0",borderTop:"none",borderRadius:"0 0 12px 12px",padding:"20px",display:"flex",flexDirection:"column",gap:14},children:q.map((e,t)=>{const n=l.find(t=>t.id===e),r=V(e),a=E[e];return(0,Cr.jsxs)("div",{style:{background:"linear-gradient(135deg, #fafbfc 0%, #f1f5f9 100%)",border:"2px solid #e2e8f0",borderRadius:10,padding:"16px 18px",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},children:[(0,Cr.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"4px",height:"100%",background:"linear-gradient(180deg, ".concat(t%3===0?"#6366f1":t%3===1?"#8b5cf6":"#ec4899",", ").concat(t%3===0?"#4f46e5":t%3===1?"#7c3aed":"#db2777",")")}}),(0,Cr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:12,paddingLeft:12},children:[(0,Cr.jsx)("div",{style:{width:32,height:32,borderRadius:"50%",background:"linear-gradient(135deg, ".concat(t%3===0?"#dbeafe":t%3===1?"#f3e8ff":"#fce7f3",", ").concat(t%3===0?"#bfdbfe":t%3===1?"#e9d5ff":"#fbcfe8",")"),display:"flex",alignItems:"center",justifyContent:"center",fontSize:16,fontWeight:700,color:t%3===0?"#1e40af":t%3===1?"#6b21a8":"#be185d",flexShrink:0},children:String(t+1).padStart(2,"0")}),(0,Cr.jsx)("div",{style:{flex:1},children:(0,Cr.jsx)("div",{style:{fontWeight:700,color:"#1e293b",fontSize:15,letterSpacing:"-0.01em"},children:n?"".concat(n.codigo," - ").concat(n.nombre):"Establecimiento #".concat(e)})})]}),(0,Cr.jsx)("div",{style:{paddingLeft:12},children:0===r.length?(0,Cr.jsxs)("div",{style:{padding:"12px 16px",background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",border:"2px dashed #fbbf24",borderRadius:8,display:"flex",alignItems:"center",gap:10},children:[(0,Cr.jsx)("span",{style:{fontSize:20},children:"\u26a0\ufe0f"}),(0,Cr.jsx)("p",{style:{fontSize:13,color:"#92400e",margin:0,fontWeight:600},children:"No hay puntos de emisi\xf3n disponibles para este establecimiento"})]}):(0,Cr.jsx)("div",{style:{position:"relative"},children:(0,Cr.jsxs)("select",{value:null!=a?String(a):"",onChange:t=>H(e,t.target.value),style:{width:"100%",padding:"12px 16px",borderRadius:8,border:"2px solid #cbd5e1",fontSize:14,fontWeight:600,color:"#334155",background:"#ffffff",cursor:"pointer",transition:"all 0.2s ease",outline:"none"},onFocus:e=>{e.target.style.borderColor=t%3===0?"#6366f1":t%3===1?"#8b5cf6":"#ec4899",e.target.style.boxShadow="0 0 0 3px ".concat(t%3===0?"rgba(99, 102, 241, 0.1)":t%3===1?"rgba(139, 92, 246, 0.1)":"rgba(236, 72, 153, 0.1)")},onBlur:e=>{e.target.style.borderColor="#cbd5e1",e.target.style.boxShadow="none"},children:[(0,Cr.jsx)("option",{value:"",children:"\ud83d\udd18 Sin punto asignado"}),r.map(e=>(0,Cr.jsxs)("option",{value:String(e.id),children:["\u2713 ",e.nombre]},e.id))]})})})]},e)})})]}),(0,Cr.jsxs)("div",{className:"usuario-form-actions",children:[(0,Cr.jsx)("button",{type:"button",onClick:n,disabled:z||F,className:"btn-cancel",children:"Cancelar"}),a&&["nuevo","suspendido","retirado"].includes(B)&&(0,Cr.jsx)("button",{type:"button",onClick:async()=>{if(a){D(!0);try{var e;let t=B;"retirado"!==B&&"suspendido"!==B||(t="pendiente_verificacion");const n=await ma(r,a,t);t!==B&&W(t);const o={nuevo:{title:"\u2709\ufe0f Correo Reenviado",message:"Correo de verificaci\xf3n enviado a ".concat(j,". El usuario debe verificar su cuenta para activarla.")},retirado:{title:"\ud83d\udd04 Proceso de Reactivaci\xf3n Iniciado",message:"Correo de reactivaci\xf3n enviado a ".concat(j,". Estado cambiado a Pendiente Verificaci\xf3n.")},suspendido:{title:"\ud83d\udd04 Proceso de Reactivaci\xf3n Iniciado",message:"Correo de reactivaci\xf3n enviado a ".concat(j,". Estado cambiado a Pendiente Verificaci\xf3n.")}}[B]||{title:"\u2705 Correo Enviado",message:(null===(e=n.data)||void 0===e?void 0:e.message)||"Correo enviado exitosamente"};u({title:o.title,message:o.message,type:"success"})}catch(o){var t,n;const e=(null===(t=o.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error al reenviar el correo";u({title:"\u274c Error",message:e,type:"error"})}finally{D(!1)}}},disabled:z||F,className:"btn-resend-email",title:"nuevo"===B?"Reenviar correo de verificaci\xf3n inicial":"Enviar correo de reactivaci\xf3n (cambiar\xe1 a Pendiente Verificaci\xf3n)",children:F?(0,Cr.jsx)(Pr,{inline:!0,size:18,message:"Enviando\u2026"}):(0,Cr.jsx)(Cr.Fragment,{children:"\ud83d\udce7 Reenviar Correo"})}),(0,Cr.jsx)("button",{type:"submit",disabled:z||F||Object.values(A).some(e=>e&&e.length>0),className:"btn-submit",children:z?(0,Cr.jsx)(Pr,{inline:!0,size:18,message:"Guardando\u2026"}):a?"Actualizar":"Crear"})]})]})]})}):null},ya=e=>{window.location.href="/emisores/".concat(e)},ja=(e,t)=>{window.location.href="/emisores/".concat(e,"/establecimientos/").concat(t)},wa=(e,t,n)=>{window.location.href="/emisores/".concat(e,"/establecimientos/").concat(t,"/puntos/").concat(n)},Sa=(e,t)=>e||t?"".concat(e||"\u2014"," \u2013 ").concat(t||"\u2014"):"\u2014",ka=(e,t)=>e||t?"".concat(e||"\u2014"," \u2013 ").concat(t||"\u2014"):"\u2014",Na=(e,t,n,r)=>t||"\u2014",Ca=e=>!!e,Ea=e=>{let{emiId:t,onEdit:n,onOpenModal:r,onViewDetail:a,refreshTrigger:i,distributorCreator:l}=e;const{show:s}=Rr(),{user:c}=zr(),[d,u]=o.useState([]),[p,f]=o.useState(!1),[m,h]=o.useState(1),[g,b]=o.useState(10),[x,v]=o.useState(0),[y,j]=o.useState(1),[w,S]=o.useState(null),[k,N]=o.useState(""),[C,E]=o.useState(!1),[_,z]=o.useState("created_at"),[T,A]=o.useState("desc"),[R,O]=o.useState(!1),[P,L]=o.useState({cedula:"",nombres:"",apellidos:"",username:"",email:"",roles:[],estados:[],creator:"",establishment:"",dateFrom:"",dateTo:"",updateDateFrom:"",updateDateTo:""}),I=o.useCallback(async()=>{if(t){f(!0);try{var e,n,r,a;const o=await la(t,m,g);let i=null!==(e=null===(n=o.data)||void 0===n?void 0:n.data)&&void 0!==e?e:[];const l=null!==(r=null===(a=o.data)||void 0===a?void 0:a.meta)&&void 0!==r?r:{};"emisor"!==(null===c||void 0===c?void 0:c.role)&&"gerente"!==(null===c||void 0===c?void 0:c.role)&&"cajero"!==(null===c||void 0===c?void 0:c.role)||(i=i.filter(e=>e.id!==c.id)),"gerente"===(null===c||void 0===c?void 0:c.role)&&(i=i.filter(e=>"cajero"===e.role)),"cajero"===(null===c||void 0===c?void 0:c.role)&&(i=[]),i=F(i),i=D(i),u(Array.isArray(i)?i:[]),v(l.total||0),j(l.last_page||1)}catch($a){s({title:"Error",message:"No se pudo cargar usuarios",type:"error"}),u([])}finally{f(!1)}}},[t,m,g,s,c]),F=e=>e.filter(e=>{var t,n,r,a,o;if(P.cedula&&(null===(t=e.cedula)||void 0===t||!t.toLowerCase().includes(P.cedula.toLowerCase())))return!1;if(P.nombres&&(null===(n=e.nombres)||void 0===n||!n.toLowerCase().includes(P.nombres.toLowerCase())))return!1;if(P.apellidos&&(null===(r=e.apellidos)||void 0===r||!r.toLowerCase().includes(P.apellidos.toLowerCase())))return!1;if(P.username&&(null===(a=e.username)||void 0===a||!a.toLowerCase().includes(P.username.toLowerCase())))return!1;if(P.email&&(null===(o=e.email)||void 0===o||!o.toLowerCase().includes(P.email.toLowerCase())))return!1;if(P.roles.length>0&&!P.roles.includes(e.role))return!1;if(P.estados.length>0&&!P.estados.includes(e.estado||"activo"))return!1;if(P.creator){if(!"".concat(e.created_by_role||""," ").concat(e.created_by_username||""," ").concat(e.created_by_nombres||""," ").concat(e.created_by_apellidos||"").toLowerCase().includes(P.creator.toLowerCase()))return!1}if(P.establishment){if(!(e.establecimientos||[]).some(e=>e.codigo.toLowerCase().includes(P.establishment.toLowerCase())||e.nombre.toLowerCase().includes(P.establishment.toLowerCase())))return!1}if(P.dateFrom&&e.created_at){if(new Date(e.created_at)<new Date(P.dateFrom))return!1}if(P.dateTo&&e.created_at){const t=new Date(e.created_at),n=new Date(P.dateTo);if(n.setHours(23,59,59,999),t>n)return!1}if(P.updateDateFrom&&e.updated_at){if(new Date(e.updated_at)<new Date(P.updateDateFrom))return!1}if(P.updateDateTo&&e.updated_at){const t=new Date(e.updated_at),n=new Date(P.updateDateTo);if(n.setHours(23,59,59,999),t>n)return!1}return!0}),D=e=>[...e].sort((e,t)=>{let n,r;switch(_){case"cedula":n=e.cedula||"",r=t.cedula||"";break;case"nombres":n="".concat(e.nombres||""," ").concat(e.apellidos||""),r="".concat(t.nombres||""," ").concat(t.apellidos||"");break;case"username":n=e.username||"",r=t.username||"";break;case"email":n=e.email||"",r=t.email||"";break;case"estado":n=e.estado||"activo",r=t.estado||"activo";break;case"role":n=e.role||"",r=t.role||"";break;case"created_at":n=new Date(e.created_at||0).getTime(),r=new Date(t.created_at||0).getTime();break;case"updated_at":n=new Date(e.updated_at||0).getTime(),r=new Date(t.updated_at||0).getTime();break;default:return 0}return n<r?"asc"===T?-1:1:n>r?"asc"===T?1:-1:0}),B=e=>{_===e?A("asc"===T?"desc":"asc"):(z(e),A("asc"))},W=e=>{L(t=>He(He({},t),{},{roles:t.roles.includes(e)?t.roles.filter(t=>t!==e):[...t.roles,e]}))},M=e=>{L(t=>He(He({},t),{},{estados:t.estados.includes(e)?t.estados.filter(t=>t!==e):[...t.estados,e]}))};o.useEffect(()=>{I()},[I,i,_,T,P]);const U=async e=>{if("nuevo"!==e.estado)return s({title:"\u274c No permitido",message:'Solo se pueden eliminar usuarios en estado "Nuevo". Este usuario est\xe1 en estado "'.concat(e.estado,'". Para cambiar su estado a "Retirado", utiliza la opci\xf3n editar.'),type:"error"}),S(null),void N("");if(k){E(!0);try{await ua(t,e.id,k),s({title:"\xc9xito",message:"Usuario eliminado",type:"success"}),S(null),N(""),I()}catch($a){var n,r;s({title:"Error",message:(null===(n=$a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Error al eliminar",type:"error"})}finally{E(!1)}}else s({title:"Error",message:"Ingresa tu contrase\xf1a",type:"error"})},q=o.useCallback(e=>{if(!c)return!1;if("administrador"===c.role)return!0;if("distribuidor"===c.role)return!0;if("emisor"===c.role)return"gerente"===e.role||"cajero"===e.role;if("gerente"===c.role){if(e.id===c.id)return!0;if("cajero"!==e.role)return!1;let r=c.establecimientos_ids||[],a=e.establecimientos_ids||[];if("string"===typeof r)try{r=JSON.parse(r)}catch(t){r=[]}if("string"===typeof a)try{a=JSON.parse(a)}catch(n){a=[]}Array.isArray(r)||(r=[]),Array.isArray(a)||(a=[]);return r.some(e=>a.includes(e)||a.includes(Number(e))||a.includes(String(e)))}return c.role,!1},[c]),H=o.useCallback(e=>!!q(e)&&"nuevo"===e.estado,[q]),V=o.useMemo(()=>{let e=Array.isArray(d)?d.map(e=>He({},e)):[];if("administrador"===(null===c||void 0===c?void 0:c.role)&&l&&"distribuidor"===l.role){const t=e.findIndex(e=>e.id===l.id),n=He(He({},l),{},{isDistributorCreator:!0});t>=0?e[t]=He(He({},e[t]),n):e=[n,...e]}return e},[d,c,l]),Q=e=>_!==e?"\u21c5":"asc"===T?"\u2191":"\u2193";return(0,Cr.jsxs)("div",{className:"emisor-usuarios-container",children:[(0,Cr.jsxs)("div",{className:"usuarios-header",children:[(0,Cr.jsx)("h3",{children:"Usuarios del emisor"}),(0,Cr.jsxs)("div",{className:"header-actions",children:[(0,Cr.jsxs)("button",{onClick:()=>O(!R),className:"btn-toggle-filters",title:R?"Ocultar filtros":"Mostrar filtros",children:["\ud83d\udd0d ",R?"Ocultar":"Filtros"]}),(0,Cr.jsx)("button",{onClick:r,className:"btn-new-user",children:"Nuevo +"})]})]}),R&&(0,Cr.jsxs)("div",{className:"filters-panel",children:[(0,Cr.jsxs)("div",{className:"filters-grid",children:[(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{children:"C\xe9dula"}),(0,Cr.jsx)("input",{type:"text",value:P.cedula,onChange:e=>L(He(He({},P),{},{cedula:e.target.value})),placeholder:"Buscar por c\xe9dula"})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{children:"Nombres"}),(0,Cr.jsx)("input",{type:"text",value:P.nombres,onChange:e=>L(He(He({},P),{},{nombres:e.target.value})),placeholder:"Buscar por nombres"})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{children:"Apellidos"}),(0,Cr.jsx)("input",{type:"text",value:P.apellidos,onChange:e=>L(He(He({},P),{},{apellidos:e.target.value})),placeholder:"Buscar por apellidos"})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{children:"Username"}),(0,Cr.jsx)("input",{type:"text",value:P.username,onChange:e=>L(He(He({},P),{},{username:e.target.value})),placeholder:"Buscar por username"})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{children:"Email"}),(0,Cr.jsx)("input",{type:"text",value:P.email,onChange:e=>L(He(He({},P),{},{email:e.target.value})),placeholder:"Buscar por email"})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{children:"Roles"}),(0,Cr.jsxs)("div",{className:"checkbox-group",children:[(0,Cr.jsxs)("label",{className:"checkbox-label",children:[(0,Cr.jsx)("input",{type:"checkbox",checked:P.roles.includes("emisor"),onChange:()=>W("emisor")}),"Emisor"]}),(0,Cr.jsxs)("label",{className:"checkbox-label",children:[(0,Cr.jsx)("input",{type:"checkbox",checked:P.roles.includes("gerente"),onChange:()=>W("gerente")}),"Gerente"]}),(0,Cr.jsxs)("label",{className:"checkbox-label",children:[(0,Cr.jsx)("input",{type:"checkbox",checked:P.roles.includes("cajero"),onChange:()=>W("cajero")}),"Cajero"]})]})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{children:"Estados"}),(0,Cr.jsxs)("div",{className:"checkbox-group",children:[(0,Cr.jsxs)("label",{className:"checkbox-label",children:[(0,Cr.jsx)("input",{type:"checkbox",checked:P.estados.includes("nuevo"),onChange:()=>M("nuevo")}),"Nuevo"]}),(0,Cr.jsxs)("label",{className:"checkbox-label",children:[(0,Cr.jsx)("input",{type:"checkbox",checked:P.estados.includes("activo"),onChange:()=>M("activo")}),"Activo"]}),(0,Cr.jsxs)("label",{className:"checkbox-label",children:[(0,Cr.jsx)("input",{type:"checkbox",checked:P.estados.includes("pendiente_verificacion"),onChange:()=>M("pendiente_verificacion")}),"Pendiente"]}),(0,Cr.jsxs)("label",{className:"checkbox-label",children:[(0,Cr.jsx)("input",{type:"checkbox",checked:P.estados.includes("suspendido"),onChange:()=>M("suspendido")}),"Suspendido"]}),(0,Cr.jsxs)("label",{className:"checkbox-label",children:[(0,Cr.jsx)("input",{type:"checkbox",checked:P.estados.includes("retirado"),onChange:()=>M("retirado")}),"Retirado"]})]})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{children:"Establecimiento"}),(0,Cr.jsx)("input",{type:"text",value:P.establishment,onChange:e=>L(He(He({},P),{},{establishment:e.target.value})),placeholder:"C\xf3digo o nombre"})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{children:"Usuario creador"}),(0,Cr.jsx)("input",{type:"text",value:P.creator,onChange:e=>L(He(He({},P),{},{creator:e.target.value})),placeholder:"Buscar por creador"})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{children:"Fecha creaci\xf3n desde"}),(0,Cr.jsx)("input",{type:"date",value:P.dateFrom,onChange:e=>L(He(He({},P),{},{dateFrom:e.target.value}))})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{children:"Fecha creaci\xf3n hasta"}),(0,Cr.jsx)("input",{type:"date",value:P.dateTo,onChange:e=>L(He(He({},P),{},{dateTo:e.target.value}))})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{children:"Actualizaci\xf3n desde"}),(0,Cr.jsx)("input",{type:"date",value:P.updateDateFrom,onChange:e=>L(He(He({},P),{},{updateDateFrom:e.target.value}))})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{children:"Actualizaci\xf3n hasta"}),(0,Cr.jsx)("input",{type:"date",value:P.updateDateTo,onChange:e=>L(He(He({},P),{},{updateDateTo:e.target.value}))})]})]}),(0,Cr.jsx)("div",{className:"filters-actions",children:(0,Cr.jsx)("button",{onClick:()=>{L({cedula:"",nombres:"",apellidos:"",username:"",email:"",roles:[],estados:[],creator:"",establishment:"",dateFrom:"",dateTo:"",updateDateFrom:"",updateDateTo:""})},className:"btn-clear-filters",children:"\ud83d\uddd1\ufe0f Limpiar filtros"})})]}),p?(0,Cr.jsx)(Pr,{message:"Cargando usuarios del emisor\u2026",fullHeight:!0}):0===V.length?(0,Cr.jsx)("div",{className:"empty-state",children:"\ud83d\udced No hay usuarios registrados para este emisor"}):(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)("div",{className:"tabla-wrapper usuarios-tabla-wrapper",children:(0,Cr.jsx)("div",{className:"tabla-scroll-container",children:(0,Cr.jsxs)("table",{className:"tabla-emisores",children:[(0,Cr.jsx)("thead",{children:(0,Cr.jsxs)("tr",{children:[(0,Cr.jsxs)("th",{className:"th-sticky sticky-left-1 sortable",onClick:()=>B("cedula"),children:["C\xe9dula ",Q("cedula")]}),(0,Cr.jsxs)("th",{className:"sortable",onClick:()=>B("nombres"),children:["Nombres ",Q("nombres")]}),(0,Cr.jsxs)("th",{className:"sortable",onClick:()=>B("username"),children:["Username ",Q("username")]}),(0,Cr.jsxs)("th",{className:"sortable",onClick:()=>B("email"),children:["Email ",Q("email")]}),(0,Cr.jsxs)("th",{className:"sortable",onClick:()=>B("estado"),children:["Estado ",Q("estado")]}),(0,Cr.jsxs)("th",{className:"sortable",onClick:()=>B("role"),children:["Rol ",Q("role")]}),(0,Cr.jsx)("th",{children:"Establecimientos"}),(0,Cr.jsx)("th",{children:"Puntos de Emisi\xf3n"}),(0,Cr.jsx)("th",{children:"Usuario creador"}),(0,Cr.jsxs)("th",{className:"sortable",onClick:()=>B("created_at"),children:["Creado ",Q("created_at")]}),(0,Cr.jsxs)("th",{className:"sortable",onClick:()=>B("updated_at"),children:["Actualizado ",Q("updated_at")]}),(0,Cr.jsx)("th",{className:"th-sticky sticky-right",children:"Acciones"})]})}),(0,Cr.jsx)("tbody",{children:V.map((e,r)=>{var o;const i=!!e.isDistributorCreator,l=q(e),s=H(e),c="gerente"===e.role?"role-gerente":"cajero"===e.role?"role-cajero":"distribuidor"===e.role?"role-distribuidor":"role-emisor",d=e.establecimientos||[],u=e.puntos_emision||[];let p=d;if(0===d.length&&u.length>0){p=Array.from(new Set(u.map(e=>e.establecimiento_id).filter(Boolean))).map(e=>{const t=u.find(t=>t.establecimiento_id===e);return{id:e,codigo:(null===t||void 0===t?void 0:t.establecimiento_codigo)||"???",nombre:(null===t||void 0===t?void 0:t.establecimiento_nombre)||"Establecimiento ".concat(e)}})}return(0,Cr.jsxs)("tr",{className:i?"distributor-row":"",children:[(0,Cr.jsx)("td",{className:"td-sticky sticky-left-1 cedula-cell",children:a&&e.cedula?(0,Cr.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),a(e)},style:{color:"#6366f1",textDecoration:"none",fontWeight:500},children:e.cedula}):(0,Cr.jsx)("span",{children:e.cedula||"\u2014"})}),(0,Cr.jsxs)("td",{children:[e.nombres," ",e.apellidos,i&&(0,Cr.jsx)("div",{className:"distributor-badge",children:"Distribuidor creador"})]}),(0,Cr.jsx)("td",{children:e.username}),(0,Cr.jsx)("td",{children:e.email}),(0,Cr.jsx)("td",{children:(0,Cr.jsx)("span",{className:"estado-badge estado-".concat((null===(o=e.estado)||void 0===o?void 0:o.toLowerCase())||"activo"),children:e.estado||"ACTIVO"})}),(0,Cr.jsx)("td",{children:(0,Cr.jsx)("span",{className:"role-badge ".concat(c),children:i?"distribuidor":e.role})}),(0,Cr.jsx)("td",{children:p.length>0?(0,Cr.jsx)("div",{className:"list-items",children:p.map((e,n)=>(0,Cr.jsx)("div",{className:"list-item-link",children:(0,Cr.jsx)("a",{href:"#",onClick:n=>{n.preventDefault(),ja(t,e.id)},children:Sa(e.codigo,e.nombre)})},n))}):"\u2014"}),(0,Cr.jsx)("td",{children:u.length>0?(0,Cr.jsx)("div",{className:"list-items",children:u.map((e,n)=>(0,Cr.jsx)("div",{className:"list-item-link",children:(0,Cr.jsx)("a",{href:"#",onClick:n=>{n.preventDefault(),e.establecimiento_id&&wa(t,e.establecimiento_id,e.id)},children:ka(e.codigo,e.nombre)})},n))}):"\u2014"}),(0,Cr.jsx)("td",{children:Ca(e.created_by_role)&&e.created_by_username?(0,Cr.jsx)("div",{className:"creator-info",children:(0,Cr.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),e.created_by_id&&console.log("Ver usuario creador:",e.created_by_id)},children:Na(e.created_by_role,e.created_by_username,e.created_by_nombres,e.created_by_apellidos)})}):"\u2014"}),(0,Cr.jsx)("td",{children:e.created_at?new Date(e.created_at).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"\u2014"}),(0,Cr.jsx)("td",{children:e.updated_at?new Date(e.updated_at).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"\u2014"}),(0,Cr.jsx)("td",{className:"td-sticky sticky-right",children:(0,Cr.jsxs)("div",{className:"acciones",children:[(0,Cr.jsx)("button",{disabled:!l,onClick:()=>null===n||void 0===n?void 0:n(e),title:l?"Editar":"No tienes permisos",children:"\u270f\ufe0f"}),(0,Cr.jsx)("button",{disabled:!s,onClick:()=>S(e),title:s?"Eliminar":"No tienes permisos",children:"\ud83d\uddd1\ufe0f"})]})})]},"".concat(e.id,"-").concat(i?"distribuidor":"usuario"))})})]})})}),(0,Cr.jsxs)("div",{className:"pagination-container",children:[(0,Cr.jsxs)("div",{className:"pagination-info-left",children:["Mostrando ",V.length," de ",x," usuarios"]}),(0,Cr.jsxs)("div",{className:"per-page-selector",children:[(0,Cr.jsx)("span",{children:"Filas por p\xe1gina:"}),(0,Cr.jsxs)("select",{value:g,onChange:e=>{b(Number(e.target.value)),h(1)},children:[(0,Cr.jsx)("option",{value:5,children:"5"}),(0,Cr.jsx)("option",{value:10,children:"10"}),(0,Cr.jsx)("option",{value:15,children:"15"}),(0,Cr.jsx)("option",{value:25,children:"25"}),(0,Cr.jsx)("option",{value:50,children:"50"})]})]}),(0,Cr.jsxs)("div",{className:"pagination-controls",children:[(0,Cr.jsx)("button",{onClick:()=>h(1),disabled:1===m,className:"pagination-btn",children:"\u27ea"}),(0,Cr.jsx)("button",{onClick:()=>h(e=>Math.max(1,e-1)),disabled:1===m,className:"pagination-btn",children:"\u2039"}),(0,Cr.jsxs)("span",{className:"pagination-info",children:["P\xe1gina ",m," de ",y]}),(0,Cr.jsx)("button",{onClick:()=>h(e=>Math.min(y,e+1)),disabled:m===y,className:"pagination-btn",children:"\u203a"}),(0,Cr.jsx)("button",{onClick:()=>h(y),disabled:m===y,className:"pagination-btn",children:"\u27eb"})]})]})]}),w&&(0,Cr.jsx)("div",{className:"delete-modal-overlay",children:(0,Cr.jsxs)("div",{className:"delete-modal-content",onClick:e=>e.stopPropagation(),children:[(0,Cr.jsxs)("div",{className:"delete-modal-header",children:[(0,Cr.jsxs)("h2",{children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),"Eliminar usuario"]}),(0,Cr.jsx)("button",{className:"delete-modal-close",onClick:()=>{S(null),N("")},children:"\u2715"})]}),(0,Cr.jsx)("div",{className:"delete-modal-body",children:"nuevo"!==w.estado?(0,Cr.jsx)(Cr.Fragment,{children:(0,Cr.jsxs)("div",{style:{padding:"16px",backgroundColor:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"8px",marginBottom:"16px"},children:[(0,Cr.jsx)("p",{style:{margin:0,color:"#92400e",fontWeight:500},children:"\u26a0\ufe0f No se puede eliminar este usuario"}),(0,Cr.jsxs)("p",{style:{margin:"8px 0 0 0",color:"#92400e",fontSize:"14px"},children:['Solo se pueden eliminar usuarios en estado "Nuevo". Este usuario est\xe1 en estado "',(0,Cr.jsx)("strong",{children:w.estado}),'".']}),(0,Cr.jsx)("p",{style:{margin:"8px 0 0 0",color:"#92400e",fontSize:"14px"},children:'Para cambiar su estado a "Retirado" o "Suspendido", utiliza la opci\xf3n editar del usuario.'})]})}):(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsxs)("p",{className:"delete-confirmation-text",children:["\xbfEst\xe1 seguro de eliminar a ",(0,Cr.jsxs)("strong",{children:[w.nombres," ",w.apellidos]}),"?"]}),(0,Cr.jsxs)("div",{className:"delete-form-group",children:[(0,Cr.jsx)("label",{htmlFor:"delete-password",className:"delete-form-label",children:"Ingresa tu contrase\xf1a para confirmar *"}),(0,Cr.jsx)("input",{id:"delete-password",type:"password",value:k,onChange:e=>N(e.target.value),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:"delete-form-input",autoFocus:!0,onKeyPress:e=>{"Enter"===e.key&&k&&!C&&U(w)}})]})]})}),(0,Cr.jsx)("div",{className:"delete-modal-footer",children:"nuevo"!==w.estado?(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-cancel",onClick:()=>{S(null),N("")},children:"Cerrar"}):(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-cancel",onClick:()=>{S(null),N("")},disabled:C,children:"Cancelar"}),(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-danger",onClick:()=>U(w),disabled:C||!k,children:C?"Eliminando...":"\ud83d\uddd1\ufe0f Eliminar"})]})})]})})]})},_a=e=>{var t,n;let{open:r,onClose:a,user:i,loading:l=!1,onEdit:s,onDelete:c}=e;const{user:d}=zr(),u=o.useMemo(()=>{var e,t;if(!d||!i)return!1;if(!i.created_by_id)return!1;const n={administrador:5,distribuidor:4,emisor:3,gerente:2,cajero:1},r=n[(null===(e=d.role)||void 0===e?void 0:e.toLowerCase())||""]||0,a=n[(null===(t=i.created_by_role)||void 0===t?void 0:t.toLowerCase())||""]||0;return i.created_by_id===d.id||r>=a},[d,i]),p=o.useMemo(()=>{if(null===i||void 0===i||!i.puntos_emision||0===i.puntos_emision.length)return{};const e={};return i.puntos_emision.forEach(t=>{const n=t.establecimiento_id?String(t.establecimiento_id):"sin_establecimiento";e[n]||(e[n]=[]),e[n].push(t)}),e},[null===i||void 0===i?void 0:i.puntos_emision]);if(!r)return null;if(!i)return(0,Cr.jsx)("div",{className:"modal-overlay-detail",children:(0,Cr.jsxs)("div",{className:"modal-content-detail",onClick:e=>e.stopPropagation(),children:[(0,Cr.jsxs)("div",{className:"modal-header-detail",children:[(0,Cr.jsxs)("div",{className:"header-info",children:[(0,Cr.jsx)("h2",{className:"user-name-large",children:"Cargando informaci\xf3n..."}),(0,Cr.jsx)("p",{className:"user-username",children:"Por favor espera un momento"})]}),(0,Cr.jsx)("button",{className:"close-button-detail",onClick:a,children:(0,Cr.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Cr.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),(0,Cr.jsx)("div",{className:"modal-body-detail",children:(0,Cr.jsx)("div",{className:"detail-loading-state",children:(0,Cr.jsx)(Pr,{message:"Cargando informaci\xf3n del usuario..."})})})]})});const f=e=>({administrador:"#ef4444",distribuidor:"#f97316",emisor:"#3b82f6",gerente:"#10b981",cajero:"#8b5cf6"}[e]||"#9ca3af"),m=e=>e?e.toLowerCase().replace(/_/g," ").replace(/^(\w)|\s+(\w)/g,e=>e.toUpperCase()):"Sin estado",h=e=>{if(!e)return"No registrada";return new Date(e).toLocaleDateString("es-EC",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})},g=i.establecimientos||[],b=i.puntos_emision||[];let x=g;if(0===g.length&&b.length>0){x=Array.from(new Set(b.map(e=>e.establecimiento_id).filter(Boolean))).map(e=>{const t=b.find(t=>t.establecimiento_id===e);return{id:e,codigo:(null===t||void 0===t?void 0:t.establecimiento_codigo)||"???",nombre:(null===t||void 0===t?void 0:t.establecimiento_nombre)||"Establecimiento ".concat(e),estado:"ACTIVO"}})}const v=p.sin_establecimiento||[],y={nuevo:{color:"#6366f1",label:"Nuevo"},activo:{color:"#16a34a",label:"Activo"},pendiente_verificacion:{color:"#f59e0b",label:"Pendiente de verificaci\xf3n"},suspendido:{color:"#ef4444",label:"Suspendido"},retirado:{color:"#6b7280",label:"Retirado"}}[j=i.estado||"nuevo"]||{color:"#9ca3af",label:j};var j;const w=(e=>({ACTIVO:{color:"#16a34a",label:"Activo"},INACTIVO:{color:"#dc2626",label:"Inactivo"},PENDIENTE:{color:"#f59e0b",label:"Pendiente"}}[(e||"").toUpperCase()]||{color:"#6b7280",label:e||"Sin estado"}))(i.emisor_estado),S=x.length>0||b.length>0;return(0,Cr.jsx)("div",{className:"modal-overlay-detail",children:(0,Cr.jsxs)("div",{className:"modal-content-detail",onClick:e=>e.stopPropagation(),children:[(0,Cr.jsxs)("div",{className:"modal-header-detail",children:[(0,Cr.jsx)("div",{className:"user-avatar-large",children:(null===(t=i.nombres)||void 0===t?void 0:t.charAt(0))||(null===(n=i.username)||void 0===n?void 0:n.charAt(0))||"U"}),(0,Cr.jsxs)("div",{className:"header-info",children:[(0,Cr.jsxs)("h2",{className:"user-name-large",children:[i.nombres," ",i.apellidos]}),(0,Cr.jsxs)("p",{className:"user-username",children:["@",i.username]}),(0,Cr.jsxs)("div",{className:"badges-container",children:[(0,Cr.jsx)("span",{className:"badge-role-large",style:{backgroundColor:f(i.role||"")},children:i.role}),(0,Cr.jsx)("span",{className:"badge-estado-large",style:{backgroundColor:y.color},children:y.label})]})]}),(0,Cr.jsxs)("div",{className:"action-menu",children:[s&&(0,Cr.jsxs)("button",{className:"action-button edit-button",onClick:s,title:"Editar usuario",children:[(0,Cr.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Cr.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,Cr.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Editar"]}),c&&(0,Cr.jsxs)("button",{className:"action-button delete-button",onClick:c,title:"Eliminar usuario",children:[(0,Cr.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Cr.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,Cr.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),"Eliminar"]})]}),(0,Cr.jsx)("button",{className:"close-button-detail",onClick:a,children:(0,Cr.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Cr.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),(0,Cr.jsxs)("div",{className:"modal-body-detail",children:[(0,Cr.jsxs)("div",{className:"info-section-full",children:[(0,Cr.jsxs)("h3",{className:"section-title-major",children:[(0,Cr.jsxs)("svg",{className:"section-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Cr.jsx)("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),(0,Cr.jsx)("polyline",{points:"9 22 9 12 15 12 15 22"})]}),"Emisor Asociado"]}),i.emisor_id?(0,Cr.jsxs)("div",{className:"info-grid-emisor",children:[(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"RUC"}),(0,Cr.jsx)("span",{className:"info-value link-value",style:{cursor:"pointer",color:"#6366f1"},onClick:()=>{i.emisor_id&&ya(i.emisor_id)},children:i.emisor_ruc||"No asignado"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Raz\xf3n Social"}),(0,Cr.jsx)("span",{className:"info-value",children:i.emisor_razon_social||"No asignado"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Estado del Emisor"}),(0,Cr.jsx)("span",{className:"info-value",children:(0,Cr.jsx)("span",{className:"inline-badge",style:{backgroundColor:w.color},children:w.label})})]})]}):(0,Cr.jsx)("p",{className:"empty-state-text",children:"Este usuario no tiene un emisor asociado."})]}),(0,Cr.jsxs)("div",{className:"info-section-full",children:[(0,Cr.jsxs)("h3",{className:"section-title-major",children:[(0,Cr.jsxs)("svg",{className:"section-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Cr.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,Cr.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),"Informaci\xf3n del Usuario"]}),(0,Cr.jsxs)("div",{className:"info-grid",children:[(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"N\xfamero de C\xe9dula"}),(0,Cr.jsx)("span",{className:"info-value",children:i.cedula||"No registrada"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Nombres"}),(0,Cr.jsx)("span",{className:"info-value",children:i.nombres||"No registrado"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Apellidos"}),(0,Cr.jsx)("span",{className:"info-value",children:i.apellidos||"No registrado"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Nombre de Usuario"}),(0,Cr.jsxs)("span",{className:"info-value",children:["@",i.username]})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Correo Electr\xf3nico"}),(0,Cr.jsx)("span",{className:"info-value email-value",children:(0,Cr.jsx)("a",{href:"mailto:".concat(i.email),children:i.email})})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Estado"}),(0,Cr.jsx)("span",{className:"info-value",children:(0,Cr.jsx)("span",{className:"inline-badge",style:{backgroundColor:y.color},children:y.label})})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Rol"}),(0,Cr.jsx)("span",{className:"info-value",children:(0,Cr.jsx)("span",{className:"inline-badge",style:{backgroundColor:f(i.role||"")},children:i.role})})]}),u&&i.created_by_username&&(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Usuario Creador"}),(0,Cr.jsx)("div",{className:"info-value",children:(0,Cr.jsxs)("span",{className:"creator-info-value",children:[(0,Cr.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:"#667eea"},children:[(0,Cr.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,Cr.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),"".concat((i.created_by_role||"").toUpperCase()," \u2013 ").concat(i.created_by_username||""," \u2013 ").concat(i.created_by_nombres||""," ").concat(i.created_by_apellidos||"").trim()]})})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Fecha de Creaci\xf3n"}),(0,Cr.jsx)("span",{className:"info-value",children:h(i.created_at)})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Fecha de \xdaltima Actualizaci\xf3n"}),(0,Cr.jsx)("span",{className:"info-value",children:h(i.updated_at)})]})]})]}),"administrador"!==i.role&&"distribuidor"!==i.role&&(0,Cr.jsxs)("div",{className:"info-section-full",children:[(0,Cr.jsxs)("h3",{className:"section-title-major",children:[(0,Cr.jsxs)("svg",{className:"section-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Cr.jsx)("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),(0,Cr.jsx)("circle",{cx:"12",cy:"10",r:"3"})]}),"Establecimientos y Puntos de Emisi\xf3n"]}),(0,Cr.jsx)("div",{className:"establecimientos-table",children:S?(0,Cr.jsxs)(Cr.Fragment,{children:[x.map(e=>{var t;const n=e.id&&p[String(e.id)]||[];return(0,Cr.jsxs)("div",{className:"establecimiento-card",children:[(0,Cr.jsxs)("div",{className:"establecimiento-header",children:[(0,Cr.jsxs)("div",{children:[(0,Cr.jsxs)("span",{className:"establecimiento-codigo",style:{cursor:"pointer"},onClick:()=>{i.emisor_id&&e.id&&ja(i.emisor_id,e.id)},children:["#",e.codigo||"\u2014"]}),(0,Cr.jsx)("p",{className:"establecimiento-nombre",children:e.nombre||"Sin nombre"})]}),(0,Cr.jsx)("span",{className:"estado-pill ".concat(e.estado?"estado-".concat(e.estado.toLowerCase()):""),children:m(e.estado)})]}),n.length>0?(0,Cr.jsx)("div",{className:"puntos-grid",children:n.map(e=>{var t;return(0,Cr.jsxs)("div",{className:"punto-chip",children:[(0,Cr.jsxs)("div",{style:{cursor:"pointer"},onClick:()=>{i.emisor_id&&e.establecimiento_id&&e.id&&wa(i.emisor_id,e.establecimiento_id,e.id)},children:[(0,Cr.jsx)("div",{className:"punto-chip-code",children:e.codigo}),(0,Cr.jsx)("div",{className:"punto-chip-name",children:e.nombre})]}),(0,Cr.jsx)("span",{className:"punto-chip-state ".concat(e.estado?"estado-".concat(e.estado.toLowerCase()):""),children:m(e.estado)})]},null!==(t=e.id)&&void 0!==t?t:"".concat(e.codigo,"-").concat(e.nombre))})}):(0,Cr.jsx)("p",{className:"empty-state-text",children:"Sin puntos de emisi\xf3n asignados"})]},null!==(t=e.id)&&void 0!==t?t:e.codigo)}),v.length>0&&(0,Cr.jsxs)("div",{className:"establecimiento-card",children:[(0,Cr.jsx)("div",{className:"establecimiento-header",children:(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("span",{className:"establecimiento-codigo",children:"\u2014"}),(0,Cr.jsx)("p",{className:"establecimiento-nombre",children:"Puntos sin establecimiento"})]})}),(0,Cr.jsx)("div",{className:"puntos-grid",children:v.map(e=>{var t;return(0,Cr.jsxs)("div",{className:"punto-chip",children:[(0,Cr.jsxs)("div",{style:{cursor:"pointer"},onClick:()=>{i.emisor_id&&e.establecimiento_id&&e.id&&wa(i.emisor_id,e.establecimiento_id,e.id)},children:[(0,Cr.jsx)("div",{className:"punto-chip-code",children:e.codigo}),(0,Cr.jsx)("div",{className:"punto-chip-name",children:e.nombre})]}),(0,Cr.jsx)("span",{className:"punto-chip-state ".concat(e.estado?"estado-".concat(e.estado.toLowerCase()):""),children:m(e.estado)})]},"orphan-".concat(null!==(t=e.id)&&void 0!==t?t:e.codigo))})})]})]}):(0,Cr.jsx)("p",{className:"empty-state-text",children:"No hay establecimientos asignados a este usuario"})})]})]}),(0,Cr.jsxs)("div",{className:"modal-footer-detail",children:[(0,Cr.jsx)("div",{className:"footer-decoration"}),(0,Cr.jsxs)("p",{className:"footer-text",children:[(0,Cr.jsxs)("svg",{className:"footer-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Cr.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,Cr.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),(0,Cr.jsx)("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),"Informaci\xf3n del usuario actualizada autom\xe1ticamente"]})]}),l&&(0,Cr.jsx)("div",{className:"detail-loading-overlay",children:(0,Cr.jsx)(Pr,{message:"Actualizando datos...",size:48})})]})})},za={listByEmisor(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"?for_assignment=true":"";return Nr.get("/api/emisores/".concat(e,"/puntos-emision").concat(t))},list:(e,t)=>Nr.get("/api/emisores/".concat(e,"/establecimientos/").concat(t,"/puntos")),show:(e,t,n)=>Nr.get("/api/emisores/".concat(e,"/establecimientos/").concat(t,"/puntos/").concat(n)),create:(e,t,n)=>Nr.post("/api/emisores/".concat(e,"/establecimientos/").concat(t,"/puntos"),n),update:(e,t,n,r)=>Nr.put("/api/emisores/".concat(e,"/establecimientos/").concat(t,"/puntos/").concat(n),r),delete:(e,t,n,r)=>Nr.delete("/api/emisores/".concat(e,"/establecimientos/").concat(t,"/puntos/").concat(n),{data:{password:r}})},Ta={list:e=>Nr.get("/api/usuarios",{params:e}),get:e=>Nr.get("/api/usuarios/".concat(e)),create:e=>Nr.post("/api/usuarios",e),update:(e,t)=>Nr.put("/api/usuarios/".concat(e),t),delete:(e,t)=>Nr.delete("/api/usuarios/".concat(e),{data:{password:t}}),checkUsername:e=>Nr.get("/api/usuarios/check/username",{params:{username:e}}),checkCedula:e=>Nr.get("/api/usuarios/check/cedula",{params:{cedula:e}}),checkEmail:e=>Nr.get("/api/usuarios/check/email",{params:{email:e}}),resendVerificationEmail:(e,t)=>Nr.post("/api/usuarios/".concat(e,"/resend-verification"),{estado:t})},Aa=()=>{var e,t,n,r,a,i,l,s,c,d,u,p,f,m,h,g,b,x,v,y,j,w,S,k,N,C,E,_,z,T,A;const{id:R}=oe(),O=re(),P=te(),{show:L}=Rr(),{user:I}=zr(),F=null!==(e=null===I||void 0===I||null===(t=I.role)||void 0===t||null===(n=t.toLowerCase)||void 0===n?void 0:n.call(t))&&void 0!==e?e:"",[D,B]=o.useState(!1),[W,M]=o.useState(null),[U,q]=o.useState("emisor"),[H,V]=o.useState(!1),[Q,G]=o.useState(!1),[X,K]=o.useState(null),[Y,$]=o.useState([]),[J,Z]=o.useState(!0),[ee,ne]=o.useState(!1),[ae,ie]=o.useState(null),[le,se]=o.useState([]),[ce,de]=o.useState(0),ue="gerente"===F||"cajero"===F,[pe,fe]=o.useState(null),[me,he]=o.useState(null),[ge,be]=o.useState(!1),[xe,ve]=o.useState(!1),ye=o.useCallback(async e=>{ve(!0),be(!0);try{var t,n;const r=await sa(R,e.id);let a=null!==(t=null===(n=r.data)||void 0===n?void 0:n.data)&&void 0!==t?t:r.data;W&&(a=He(He({},a),{},{emisor_id:W.id,emisor_ruc:W.ruc,emisor_razon_social:W.razon_social,emisor_estado:W.estado})),he(a)}catch(r){console.error("Error loading user details:",r),L({title:"Error",message:"No se pudo cargar la informaci\xf3n del usuario",type:"error"}),be(!1)}finally{ve(!1)}},[R,W,L]);o.useEffect(()=>{"establecimientos"===new URLSearchParams(P.search).get("tab")&&q("establecimientos")},[P.search]);const[je,we]=o.useState(!1),[Se,ke]=o.useState(!1),[Ne,Ce]=o.useState(""),[Ee,_e]=o.useState(!1),[ze,Te]=o.useState(null),[Ae,Re]=o.useState(!1),[Oe,Pe]=o.useState(!1),[Ie,Fe]=o.useState(!1),[De,Be]=o.useState(!1),[We,Me]=o.useState(""),[Ue,qe]=o.useState(!1),[Ve,Qe]=o.useState(null),[Ge,Xe]=o.useState(null),[Ke,Ye]=o.useState(!1),[$e,Je]=o.useState(null),Ze=o.useCallback(async()=>{if(R){B(!0);try{var e,t,n;const r=await Xr.get(R),a=null!==(e=null===(t=r.data)||void 0===t?void 0:t.data)&&void 0!==e?e:r.data;M(a),Z(null===(n=a.ruc_editable)||void 0===n||n)}catch($a){L({title:"Error",message:"No se pudo cargar la informaci\xf3n del emisor",type:"error"})}finally{B(!1)}}},[R]),et=o.useCallback(async e=>{if(e)try{var t,n,r;const a=await ra.list(e);let o=null!==(t=null!==(n=null===(r=a.data)||void 0===r?void 0:r.data)&&void 0!==n?n:a.data)&&void 0!==t?t:[];if(console.log("\ud83d\udccb Establecimientos cargados desde API:",o),console.log("\ud83d\udc64 Usuario actual:",I),I&&ue){let e=I.establecimientos_ids||[];if(console.log("\ud83d\udd0d establecimientos_ids RAW:",e),console.log("\ud83d\udd0d Tipo de establecimientos_ids:",typeof e),"string"===typeof e)try{e=JSON.parse(e),console.log("\u2705 Parseado exitoso:",e)}catch($a){console.error("\u274c Error parsing establecimientos_ids:",$a),e=[]}if(console.log("\ud83d\udccd Usuario establecimientos asignados (final):",e),console.log("\ud83d\udccd Es array?",Array.isArray(e)),console.log("\ud83d\udccd Longitud:",e.length),Array.isArray(e)&&e.length>0){const t=o.length;o=o.filter(t=>{const n=e.includes(t.id)||e.includes(String(t.id))||e.includes(Number(t.id));return console.log("\ud83d\udd0e Establecimiento ".concat(t.id," (").concat(t.nombre,"): ").concat(n?"\u2705 INCLUIDO":"\u274c EXCLUIDO")),n}),console.log("\ud83c\udfaf Filtrado: ".concat(t," \u2192 ").concat(o.length," establecimientos"))}else console.warn("\u26a0\ufe0f No hay establecimientos asignados o el array est\xe1 vac\xedo")}$(Array.isArray(o)?o:[])}catch($a){console.error("\u274c Error cargando establecimientos:",$a),$([])}},[I,ue,F]),tt=o.useCallback(async e=>{if(e)try{var t,n,r;const a=await za.listByEmisor(e,!0);let o=null!==(t=null!==(n=null===(r=a.data)||void 0===r?void 0:r.data)&&void 0!==n?n:a.data)&&void 0!==t?t:[];se(Array.isArray(o)?o:[])}catch($a){console.error("Error loading puntos de emisi\xf3n:",$a),se([])}},[]);o.useEffect(()=>{Ze()},[Ze]),o.useEffect(()=>{null!==W&&void 0!==W&&W.id&&(et(W.id),tt(W.id))},[W,et,tt]),o.useEffect(()=>{let e=!1;return(async()=>{if("administrador"===F&&null!==W&&void 0!==W&&W.created_by)try{var t,n;const r=await Ta.get(W.created_by),a=null!==(t=null===(n=r.data)||void 0===n?void 0:n.data)&&void 0!==t?t:r.data;e||("distribuidor"===(null===a||void 0===a?void 0:a.role)?fe(a):fe(null))}catch(r){e||fe(null)}else e||fe(null)})(),()=>{e=!0}},[null===W||void 0===W?void 0:W.created_by,F]);const[nt,rt]=o.useState("codigo"),[at,ot]=o.useState("asc"),[it,lt]=o.useState(1),[st,ct]=o.useState(10),[dt,ut]=o.useState(null),[pt,ft]=o.useState(""),mt={codigo:"C\xf3digo",nombre:"Nombre",nombre_comercial:"Nombre Comercial",direccion:"Direcci\xf3n",estado:"Estado"},ht=e=>{lt(1),nt===e?ot(e=>"asc"===e?"desc":"asc"):(rt(e),ot("asc"))},gt=o.useMemo(()=>{if(!dt||!pt)return Y;const e=pt.toLowerCase();return Y.filter(t=>{if("estado"===dt)return(t.estado||"").toLowerCase()===e;return(t[dt]||"").toString().toLowerCase().includes(e)})},[Y,dt,pt]),bt=o.useMemo(()=>{const e=[...gt],t="asc"===at?1:-1;return e.sort((e,n)=>{var r,a;const o=null!==(r=null===e||void 0===e?void 0:e[nt])&&void 0!==r?r:"",i=null!==(a=null===n||void 0===n?void 0:n[nt])&&void 0!==a?a:"",l=Number(o),s=Number(i);return Number.isNaN(l)||Number.isNaN(s)?String(o).localeCompare(String(i),"es",{numeric:!0,sensitivity:"base"})*t:(l-s)*t}),e},[gt,nt,at]),xt=o.useMemo(()=>{const e=(it-1)*st;return bt.slice(e,e+st)},[bt,it,st]),vt=gt.length,yt=0===vt?0:(it-1)*st+1,jt=Math.min(it*st,vt),wt=Math.max(1,Math.ceil(Math.max(1,vt)/st));o.useEffect(()=>{it>wt&&lt(wt)},[wt,it]);const St=o.useCallback(e=>!(!I||ue)&&("administrador"===F||("distribuidor"===F?e.created_by===I.id:!("emisor"!==F||!W)&&(e.created_by===I.id||W.id===I.emisor_id))),[I,W,ue,F]);return R?D?(0,Cr.jsx)("div",{className:"emisores-page",children:(0,Cr.jsx)(Pr,{fullHeight:!0,message:"Cargando emisor\u2026"})}):(0,Cr.jsxs)("div",{style:{padding:18},children:[(0,Cr.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:(0,Cr.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,Cr.jsxs)("h2",{style:{margin:0},children:[null!==(r=null===W||void 0===W?void 0:W.ruc)&&void 0!==r?r:"\u2014"," ",(0,Cr.jsx)("small",{style:{marginLeft:12,fontWeight:700},children:null!==(a=null===W||void 0===W?void 0:W.razon_social)&&void 0!==a?a:""})]}),(0,Cr.jsxs)("div",{style:{position:"relative",display:"flex",alignItems:"center",gap:8},children:["emisor"===U&&(ue?(0,Cr.jsx)("button",{className:"actions-btn",disabled:!0,title:"Tu rol no permite realizar acciones sobre el emisor",style:{background:"#cbd5f5",color:"#6b7280",padding:"8px 14px",borderRadius:8,border:"none",cursor:"not-allowed",fontWeight:700,opacity:.7},children:"Acciones \u25be"}):(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)("button",{className:"actions-btn",onClick:()=>Pe(e=>!e),"aria-expanded":Oe,"aria-haspopup":"menu",style:{background:"#1e40af",color:"#fff",padding:"8px 14px",borderRadius:8,border:"none",cursor:"pointer",fontWeight:700},children:"Acciones \u25be"}),Oe&&(0,Cr.jsxs)("div",{role:"menu",style:{position:"absolute",right:0,top:"110%",background:"#fff",border:"1px solid #ddd",boxShadow:"0 6px 18px rgba(0,0,0,.08)",borderRadius:6,zIndex:50},children:[(0,Cr.jsx)("button",{role:"menuitem",onClick:()=>{V(!0),Pe(!1)},className:"menu-item",children:"\u270f\ufe0f Editar"}),(0,Cr.jsx)("button",{role:"menuitem",onClick:()=>{Pe(!1),Re(!1),we(!0)},className:"menu-item",children:"\ud83d\uddd1\ufe0f Eliminar"}),W&&"INACTIVO"===W.estado&&W.updated_at&&new Date(W.updated_at)<=new Date(Date.now()-31536e6)&&(0,Cr.jsx)("button",{role:"menuitem",onClick:()=>{Pe(!1),Re(!0),we(!0)},className:"menu-item",children:"\ud83d\uddc4\ufe0f Eliminar (con historial)"}),(0,Cr.jsx)("style",{children:"\n                        .menu-item{ display:block; width:100%; padding:8px 14px; background:transparent; border:none; text-align:left; cursor:pointer; color:#222 }\n                        .menu-item:hover{ background:#e6f0ff; color:#1e40af }\n                      "})]})]})),(0,Cr.jsx)("button",{"aria-label":"Cerrar informaci\xf3n",onClick:()=>O("/emisores"),className:"close-x",title:"Cerrar",style:{background:"transparent",border:"none",cursor:"pointer",fontSize:18,fontWeight:800,color:"#c62828"},children:"\u2715"}),(0,Cr.jsx)("style",{children:"\n              .close-x{ transition: transform .12s ease, box-shadow .12s ease }\n              .close-x:hover{ transform: translateY(-3px); box-shadow: 0 6px 18px rgba(0,0,0,0.12) }\n            "})]})]})}),(0,Cr.jsxs)("div",{style:{marginTop:12},children:[(0,Cr.jsx)("nav",{style:{display:"flex",gap:12},children:["emisor","establecimientos","usuarios","planes"].map(e=>(0,Cr.jsx)("button",{onClick:()=>q(e),style:{padding:"8px 12px",borderRadius:20,border:U===e?"2px solid #f97316":"1px solid #ddd",background:U===e?"#f97316":"#fff",fontWeight:U===e?800:600,color:U===e?"#ffffff":"#1f2937",cursor:"pointer"},children:"emisor"===e?"Emisor":"establecimientos"===e?"Establecimientos":"usuarios"===e?"Usuarios":"Planes"},e))}),(0,Cr.jsxs)("div",{style:{marginTop:18},children:["emisor"===U&&(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:20},children:[(0,Cr.jsxs)("div",{className:"info-card",children:[(0,Cr.jsxs)("div",{className:"card-header",children:[(0,Cr.jsx)("div",{className:"card-icon",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:(0,Cr.jsx)("span",{style:{fontSize:24},children:"\ud83d\udccb"})}),(0,Cr.jsx)("h3",{className:"card-title",children:"Identificaci\xf3n"})]}),(0,Cr.jsxs)("div",{className:"card-body",children:[(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Nro. RUC:"}),(0,Cr.jsx)("span",{className:"info-value",children:null!==(i=null===W||void 0===W?void 0:W.ruc)&&void 0!==i?i:"-"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Raz\xf3n social:"}),(0,Cr.jsx)("span",{className:"info-value",children:null!==(l=null===W||void 0===W?void 0:W.razon_social)&&void 0!==l?l:"-"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Nombre comercial:"}),(0,Cr.jsx)("span",{className:"info-value",children:null!==(s=null===W||void 0===W?void 0:W.nombre_comercial)&&void 0!==s?s:"-"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Direcci\xf3n matriz:"}),(0,Cr.jsx)("span",{className:"info-value",children:null!==(c=null===W||void 0===W?void 0:W.direccion_matriz)&&void 0!==c?c:"-"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"R\xe9gimen tributario:"}),(0,Cr.jsx)("span",{className:"info-value badge badge-purple",children:null!==(d=null===W||void 0===W||null===(u=W.regimen_tributario)||void 0===u?void 0:u.replace("_"," "))&&void 0!==d?d:"-"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Obligado contabilidad:"}),(0,Cr.jsx)("span",{className:"info-value badge ".concat("SI"===(null===W||void 0===W?void 0:W.obligado_contabilidad)?"badge-green":"badge-gray"),children:null!==(p=null===W||void 0===W?void 0:W.obligado_contabilidad)&&void 0!==p?p:"-"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Contribuyente especial:"}),(0,Cr.jsx)("span",{className:"info-value badge ".concat("SI"===(null===W||void 0===W?void 0:W.contribuyente_especial)?"badge-blue":"badge-gray"),children:null!==(f=null===W||void 0===W?void 0:W.contribuyente_especial)&&void 0!==f?f:"-"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Agente retenci\xf3n:"}),(0,Cr.jsx)("span",{className:"info-value badge ".concat("SI"===(null===W||void 0===W?void 0:W.agente_retencion)?"badge-orange":"badge-gray"),children:null!==(m=null===W||void 0===W?void 0:W.agente_retencion)&&void 0!==m?m:"-"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Tipo de persona:"}),(0,Cr.jsx)("span",{className:"info-value",children:null!==(h=null===W||void 0===W?void 0:W.tipo_persona)&&void 0!==h?h:"-"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"C\xf3digo artesano:"}),(0,Cr.jsx)("span",{className:"info-value",children:null!==(g=null===W||void 0===W?void 0:W.codigo_artesano)&&void 0!==g?g:"-"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Correo remitente:"}),(0,Cr.jsx)("span",{className:"info-value",style:{fontSize:13,color:"#3b82f6"},children:null!==(b=null===W||void 0===W?void 0:W.correo_remitente)&&void 0!==b?b:"-"})]})]})]}),(0,Cr.jsxs)("div",{className:"info-card",children:[(0,Cr.jsxs)("div",{className:"card-header",children:[(0,Cr.jsx)("div",{className:"card-icon",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},children:(0,Cr.jsx)("span",{style:{fontSize:24},children:"\u2699\ufe0f"})}),(0,Cr.jsx)("h3",{className:"card-title",children:"Configuraci\xf3n de la cuenta"})]}),(0,Cr.jsxs)("div",{className:"card-body",children:[(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Ambiente:"}),(0,Cr.jsx)("span",{className:"info-value badge ".concat("PRODUCCION"===(null===W||void 0===W?void 0:W.ambiente)?"badge-green":"badge-yellow"),children:null!==(x=null===W||void 0===W?void 0:W.ambiente)&&void 0!==x?x:"-"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Tipo de emisi\xf3n:"}),(0,Cr.jsx)("span",{className:"info-value badge badge-blue",children:null!==(v=null===W||void 0===W?void 0:W.tipo_emision)&&void 0!==v?v:"-"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Estado:"}),(0,Cr.jsx)("span",{className:"info-value badge ".concat("ACTIVO"===(null===W||void 0===W?void 0:W.estado)?"badge-green":"badge-red"),children:null!==(y=null===W||void 0===W?void 0:W.estado)&&void 0!==y?y:"-"})]}),(0,Cr.jsxs)("div",{className:"info-row",style:{alignItems:"flex-start",marginTop:12},children:[(0,Cr.jsx)("span",{className:"info-label",children:"Logo:"}),(0,Cr.jsx)("div",{className:"info-value",children:null!==W&&void 0!==W&&W.logo_url?(0,Cr.jsx)("img",{src:Zr(W.logo_url),alt:"logo",style:{maxWidth:150,maxHeight:150,borderRadius:8,border:"2px solid #e5e7eb",padding:8,background:"#fff",cursor:"pointer",transition:"transform 0.2s"},onClick:()=>{console.log("Logo clicked, URL:",W.logo_url),Qe(W.logo_url),qe(!0)},onMouseEnter:e=>e.currentTarget.style.transform="scale(1.05)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",title:"Haz clic para ampliar"}):(0,Cr.jsx)("span",{style:{color:"#94a3b8"},children:"-"})})]})]})]}),(0,Cr.jsxs)("div",{className:"info-card",style:{gridColumn:"span 2"},children:[(0,Cr.jsxs)("div",{className:"card-header",children:[(0,Cr.jsx)("div",{className:"card-icon",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},children:(0,Cr.jsx)("span",{style:{fontSize:24},children:"\ud83d\udcca"})}),(0,Cr.jsx)("h3",{className:"card-title",children:"Actividad de la cuenta"})]}),(0,Cr.jsxs)("div",{className:"card-body",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:16},children:[(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Fecha de creaci\xf3n:"}),(0,Cr.jsx)("span",{className:"info-value",children:null!==(j=null===W||void 0===W?void 0:W.created_at)&&void 0!==j?j:"-"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Fecha de actualizaci\xf3n:"}),(0,Cr.jsx)("span",{className:"info-value",children:null!==(w=null===W||void 0===W?void 0:W.updated_at)&&void 0!==w?w:"-"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Fecha de \xfaltimo comprobante:"}),(0,Cr.jsx)("span",{className:"info-value",children:null!==(S=null===W||void 0===W?void 0:W.ultimo_comprobante)&&void 0!==S?S:"-"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Fecha \xfaltimo inicio de sesi\xf3n:"}),(0,Cr.jsx)("span",{className:"info-value",children:null!==(k=null===W||void 0===W?void 0:W.ultimo_login)&&void 0!==k?k:"-"})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"info-label",children:"Registrador:"}),(0,Cr.jsx)("span",{className:"info-value",children:null!==(N=null!==(C=null===W||void 0===W?void 0:W.created_by_username)&&void 0!==C?C:null===W||void 0===W?void 0:W.registrador)&&void 0!==N?N:"-"})]})]})]})]}),(0,Cr.jsx)("style",{children:'\n                .info-card {\n                  background: #fff;\n                  border-radius: 12px;\n                  box-shadow: 0 4px 12px rgba(0,0,0,0.08);\n                  overflow: hidden;\n                  transition: all 0.3s ease;\n                  border: 1px solid #e5e7eb;\n                }\n                .info-card:hover {\n                  box-shadow: 0 8px 24px rgba(0,0,0,0.12);\n                  transform: translateY(-2px);\n                }\n                .card-header {\n                  padding: 20px;\n                  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);\n                  border-bottom: 1px solid #e5e7eb;\n                  display: flex;\n                  align-items: center;\n                  gap: 12px;\n                }\n                .card-icon {\n                  width: 48px;\n                  height: 48px;\n                  border-radius: 12px;\n                  display: flex;\n                  align-items: center;\n                  justify-content: center;\n                  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n                }\n                .card-title {\n                  margin: 0;\n                  font-size: 18px;\n                  font-weight: 700;\n                  color: #1e293b;\n                }\n                .card-body {\n                  padding: 20px;\n                }\n                .info-row {\n                  display: flex;\n                  justify-content: space-between;\n                  align-items: center;\n                  padding: 10px 0;\n                  border-bottom: 1px solid #f1f5f9;\n                }\n                .info-row:last-child {\n                  border-bottom: none;\n                }\n                .info-label {\n                  font-weight: 600;\n                  color: #64748b;\n                  font-size: 14px;\n                  flex-shrink: 0;\n                  margin-right: 12px;\n                }\n                .info-value {\n                  font-weight: 500;\n                  color: #1e293b;\n                  font-size: 14px;\n                  text-align: right;\n                  word-break: break-word;\n                }\n                .badge {\n                  display: inline-block;\n                  padding: 4px 12px;\n                  border-radius: 12px;\n                  font-size: 12px;\n                  font-weight: 700;\n                  text-transform: uppercase;\n                  letter-spacing: 0.5px;\n                }\n                .badge-green {\n                  background: #d1fae5;\n                  color: #065f46;\n                }\n                .badge-red {\n                  background: #fee2e2;\n                  color: #991b1b;\n                }\n                .badge-blue {\n                  background: #dbeafe;\n                  color: #1e40af;\n                }\n                .badge-yellow {\n                  background: #fef3c7;\n                  color: #92400e;\n                }\n                .badge-orange {\n                  background: #ffedd5;\n                  color: #9a3412;\n                }\n                .badge-purple {\n                  background: #e9d5ff;\n                  color: #6b21a8;\n                }\n                .badge-gray {\n                  background: #f3f4f6;\n                  color: #4b5563;\n                }\n                @media (max-width: 768px) {\n                  .info-card[style*="grid-column"] {\n                    grid-column: span 1 !important;\n                  }\n                }\n              '})]}),"establecimientos"===U&&(0,Cr.jsxs)("div",{children:[(0,Cr.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,gap:12},children:[(0,Cr.jsx)("h4",{style:{margin:0,position:"absolute",top:16},children:"Establecimientos"}),(0,Cr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,width:"100%",justifyContent:"flex-end"},children:[(0,Cr.jsxs)("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:6,padding:"0 12px",display:"flex",alignItems:"center",gap:8,height:44,flex:1,maxWidth:500},children:[(0,Cr.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center"},children:"estado"===dt?(0,Cr.jsxs)("select",{value:pt,onChange:e=>ft(e.target.value),style:{width:"100%",padding:"6px 8px",borderRadius:4,border:"none",fontSize:14,fontFamily:"inherit",background:"transparent"},children:[(0,Cr.jsx)("option",{value:"",children:"Todos"}),(0,Cr.jsx)("option",{value:"abierto",children:"Abierto"}),(0,Cr.jsx)("option",{value:"cerrado",children:"Cerrado"})]}):(0,Cr.jsx)("input",{type:"text",placeholder:dt?"Filtrar por ".concat(mt[dt]):"Haz clic en un encabezado para filtrar",value:pt,onChange:e=>ft(e.target.value),style:{width:"100%",padding:"6px 8px",borderRadius:4,border:"none",fontSize:14,background:"transparent",outline:"none"}})}),(0,Cr.jsx)("span",{style:{fontSize:16,color:"#666",flexShrink:0},children:"\ud83d\udd0d"}),dt&&pt&&(0,Cr.jsx)("button",{onClick:()=>ft(""),style:{background:"transparent",border:"none",borderRadius:4,padding:"2px 6px",cursor:"pointer",fontSize:14,color:"#666",flexShrink:0},children:"\xd7"})]}),(0,Cr.jsx)("button",{onClick:()=>{K(null),G(!0)},disabled:ue,style:{padding:"0 20px",borderRadius:6,background:ue?"#ccc":"#0d6efd",color:"#fff",border:"none",cursor:ue?"not-allowed":"pointer",fontWeight:700,fontSize:14,height:44,whiteSpace:"nowrap",transition:"all 0.3s ease",opacity:ue?.5:1},onMouseEnter:e=>{ue||(e.currentTarget.style.background="#0b5fd7",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 8px rgba(13, 110, 253, 0.3)")},onMouseLeave:e=>{ue||(e.currentTarget.style.background="#0d6efd",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none")},title:ue?"Los gerentes y cajeros no pueden crear establecimientos":"Crear nuevo establecimiento",children:"Nuevo"})]})]}),dt&&(0,Cr.jsxs)("small",{style:{color:"#666",fontSize:12,marginBottom:12,display:"block"},children:["Buscando por ",mt[dt],pt&&(0,Cr.jsx)("button",{onClick:()=>{ft("")},style:{marginLeft:8,background:"transparent",border:"none",color:"#1e40af",cursor:"pointer",fontSize:12},children:"Limpiar"})]}),(0,Cr.jsxs)("div",{className:"tabla-wrapper estab-table",children:[(0,Cr.jsx)("div",{className:"tabla-scroll-container",children:(0,Cr.jsxs)("table",{className:"tabla-emisores",children:[(0,Cr.jsx)("thead",{children:(0,Cr.jsxs)("tr",{children:[(0,Cr.jsxs)("th",{className:"sortable",onClick:()=>{ht("codigo"),ut("codigo"),ft("")},style:{minWidth:120,cursor:"pointer"},children:["C\xf3digo ","codigo"===nt?"asc"===at?"\u25b2":"\u25bc":"\u25be"," ","codigo"===dt&&(0,Cr.jsx)("span",{style:{color:"#ff8c00"},children:"\u25cf"})]}),(0,Cr.jsxs)("th",{className:"sortable",onClick:()=>{ht("nombre"),ut("nombre"),ft("")},style:{minWidth:150,cursor:"pointer"},children:["Nombre ","nombre"===nt?"asc"===at?"\u25b2":"\u25bc":"\u25be"," ","nombre"===dt&&(0,Cr.jsx)("span",{style:{color:"#ff8c00"},children:"\u25cf"})]}),(0,Cr.jsxs)("th",{className:"sortable",onClick:()=>{ht("nombre_comercial"),ut("nombre_comercial"),ft("")},style:{minWidth:200,cursor:"pointer"},children:["Nombre Comercial ","nombre_comercial"===nt?"asc"===at?"\u25b2":"\u25bc":"\u25be"," ","nombre_comercial"===dt&&(0,Cr.jsx)("span",{style:{color:"#ff8c00"},children:"\u25cf"})]}),(0,Cr.jsxs)("th",{className:"sortable",onClick:()=>{ht("direccion"),ut("direccion"),ft("")},style:{minWidth:300,cursor:"pointer"},children:["Direcci\xf3n ","direccion"===nt?"asc"===at?"\u25b2":"\u25bc":"\u25be"," ","direccion"===dt&&(0,Cr.jsx)("span",{style:{color:"#ff8c00"},children:"\u25cf"})]}),(0,Cr.jsx)("th",{style:{minWidth:120},children:"Logo"}),(0,Cr.jsxs)("th",{className:"sortable",onClick:()=>{ht("estado"),ut("estado"),ft("")},style:{minWidth:120,cursor:"pointer"},children:["Estado ","estado"===nt?"asc"===at?"\u25b2":"\u25bc":"\u25be"," ","estado"===dt&&(0,Cr.jsx)("span",{style:{color:"#ff8c00"},children:"\u25cf"})]}),(0,Cr.jsx)("th",{className:"th-sticky sticky-right",children:"Acciones"})]})}),(0,Cr.jsx)("tbody",{children:0===xt.length?(0,Cr.jsx)("tr",{children:(0,Cr.jsx)("td",{className:"loading-row",colSpan:7,children:"No hay establecimientos registrados."})}):xt.map(e=>(0,Cr.jsxs)("tr",{children:[(0,Cr.jsx)("td",{style:{textAlign:"center"},children:(0,Cr.jsx)(Le,{className:"link-ruc",to:"/emisores/".concat(null===W||void 0===W?void 0:W.id,"/establecimientos/").concat(e.id),children:e.codigo})}),(0,Cr.jsx)("td",{style:{textAlign:"center"},children:e.nombre}),(0,Cr.jsx)("td",{style:{textAlign:"center"},children:e.nombre_comercial||"-"}),(0,Cr.jsx)("td",{style:{textAlign:"center"},children:e.direccion||"-"}),(0,Cr.jsx)("td",{style:{textAlign:"center"},children:e.logo_url||e.logo_path||e.logo?(0,Cr.jsx)("img",{className:"logo-cell",src:Zr(e.logo_url||e.logo_path||e.logo),alt:"logo",onClick:()=>{Qe(e.logo_url||e.logo_path||e.logo),qe(!0)},style:{cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:e=>e.currentTarget.style.transform="scale(1.1)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",title:"Haz clic para ampliar"}):(0,Cr.jsx)("span",{className:"logo-placeholder",children:"\u2014"})}),(0,Cr.jsx)("td",{style:{textAlign:"center"},children:(0,Cr.jsx)("div",{style:{background:"ABIERTO"===e.estado?"linear-gradient(135deg, #bbf7d0 0%, #86efac 100%)":"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",padding:"8px 14px",borderRadius:20,color:"ABIERTO"===e.estado?"#059669":"#6b7280",fontWeight:700,fontSize:"12px",textTransform:"uppercase",letterSpacing:"0.5px",boxShadow:"ABIERTO"===e.estado?"0 2px 8px rgba(5, 150, 105, 0.2)":"0 2px 8px rgba(0, 0, 0, 0.05)",display:"inline-block"},children:"ABIERTO"===e.estado?"Activo":"Cerrado"})}),(0,Cr.jsxs)("td",{className:"td-sticky sticky-right acciones",children:[(0,Cr.jsx)("button",{title:St(e)?"Editar":"No tienes permisos para editar",disabled:!St(e),onClick:()=>{K(e)},style:{opacity:St(e)?1:.5,cursor:St(e)?"pointer":"not-allowed"},children:"\u270f\ufe0f"}),(0,Cr.jsx)("button",{title:St(e)?"Eliminar":"No tienes permisos para eliminar",disabled:!St(e),onClick:()=>{Je(e.id),Fe(!0)},style:{opacity:St(e)?1:.5,cursor:St(e)?"pointer":"not-allowed"},children:"\ud83d\uddd1\ufe0f"})]})]},e.id))})]})}),(0,Cr.jsxs)("div",{className:"pagination-controls",children:[(0,Cr.jsxs)("div",{className:"pagination-info",children:[(0,Cr.jsxs)("label",{children:["Mostrar",(0,Cr.jsxs)("select",{className:"items-per-page-select",value:st,onChange:e=>{ct(Number(e.target.value)),lt(1)},children:[(0,Cr.jsx)("option",{value:5,children:"5"}),(0,Cr.jsx)("option",{value:10,children:"10"}),(0,Cr.jsx)("option",{value:15,children:"15"})]}),"por p\xe1gina"]}),(0,Cr.jsxs)("span",{className:"page-range",children:[yt,"\u2013",jt," de ",vt]})]}),(0,Cr.jsxs)("div",{className:"pagination-buttons",children:[(0,Cr.jsx)("button",{className:"page-btn",onClick:()=>lt(1),disabled:it<=1,children:"\u23ee"}),(0,Cr.jsx)("button",{className:"page-btn",onClick:()=>lt(e=>Math.max(1,e-1)),disabled:it<=1,children:"\u25c0"}),(0,Cr.jsx)("button",{className:"page-btn",onClick:()=>lt(e=>Math.min(wt,e+1)),disabled:it>=wt,children:"\u25b6"}),(0,Cr.jsx)("button",{className:"page-btn",onClick:()=>lt(wt),disabled:it>=wt,children:"\u23ed"})]})]})]})]}),"usuarios"===U&&(0,Cr.jsx)(Ea,{emiId:null===W||void 0===W?void 0:W.id,onEdit:e=>{ie(e),ne(!0)},onOpenModal:()=>{ie(null),ne(!0)},onViewDetail:ye,refreshTrigger:ce,distributorCreator:pe}),"planes"===U&&(0,Cr.jsx)("div",{children:"Informaci\xf3n de planes (pendiente integrar)"})]})]}),(0,Cr.jsx)($r,{open:H,onClose:()=>V(!1),editingId:null===W||void 0===W?void 0:W.id,initialData:W,rucEditable:J,onUpdated:e=>{M(e),V(!1),L({title:"\xc9xito",message:"Emisor actualizado",type:"success"})}}),(0,Cr.jsx)(oa,{open:Q,onClose:()=>G(!1),companyId:null===W||void 0===W?void 0:W.id,onCreated:e=>{L({title:"\xc9xito",message:"Establecimiento registrado",type:"success"}),G(!1),et(null===W||void 0===W?void 0:W.id)}}),X&&(0,Cr.jsx)(oa,{open:!!X,onClose:()=>K(null),companyId:null===W||void 0===W?void 0:W.id,editingEst:X,codigoEditable:null===(E=null===X||void 0===X?void 0:X.codigo_editable)||void 0===E||E,onUpdated:e=>{L({title:"\xc9xito",message:"Establecimiento actualizado",type:"success"}),K(null),et(null===W||void 0===W?void 0:W.id)}}),(0,Cr.jsx)(_a,{open:ge,onClose:()=>{be(!1),he(null)},user:me,loading:xe}),(0,Cr.jsx)(va,{open:ee,onClose:()=>{ne(!1),ie(null)},emiId:null===W||void 0===W?void 0:W.id,editingId:null===ae||void 0===ae?void 0:ae.id,initialData:ae,establecimientos:Y,puntosEmision:le,onCreated:()=>{ne(!1),de(e=>e+1),L({title:"\xc9xito",message:"Usuario creado correctamente",type:"success"})},onUpdated:()=>{ne(!1),ie(null),de(e=>e+1),L({title:"\xc9xito",message:"Usuario actualizado correctamente",type:"success"})}}),je&&(0,Cr.jsx)("div",{className:"delete-modal-overlay",children:(0,Cr.jsxs)("div",{className:"delete-modal-content",onClick:e=>e.stopPropagation(),children:[(0,Cr.jsxs)("div",{className:"delete-modal-header",children:[(0,Cr.jsxs)("h2",{children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),"Eliminar emisor"]}),(0,Cr.jsx)("button",{className:"delete-modal-close",onClick:()=>we(!1),children:"\u2715"})]}),(0,Cr.jsxs)("div",{className:"delete-modal-body",children:[(0,Cr.jsx)("p",{className:"delete-confirmation-text",children:"\xbfEst\xe1 seguro que desea eliminar al emisor:"}),(0,Cr.jsxs)("p",{style:{textAlign:"center",marginTop:12,marginBottom:20,fontSize:18},children:[(0,Cr.jsx)("span",{style:{color:"#dc2626",fontWeight:800},children:null===W||void 0===W?void 0:W.ruc}),(0,Cr.jsx)("span",{style:{fontWeight:600},children:" - "}),(0,Cr.jsx)("span",{style:{color:"#dc2626",fontWeight:800},children:null===W||void 0===W?void 0:W.razon_social})]}),(0,Cr.jsx)("p",{className:"delete-info-text",style:{textAlign:"center"},children:"y todos sus datos asociados?"})]}),(0,Cr.jsxs)("div",{className:"delete-modal-footer",children:[(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-cancel",onClick:()=>we(!1),children:"Cancelar"}),(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-danger",onClick:()=>{we(!1),ke(!0)},children:"\ud83d\uddd1\ufe0f Confirmar"})]})]})}),Se&&(0,Cr.jsx)("div",{className:"delete-modal-overlay",children:(0,Cr.jsxs)("div",{className:"delete-modal-content",onClick:e=>e.stopPropagation(),children:[(0,Cr.jsxs)("div",{className:"delete-modal-header",children:[(0,Cr.jsxs)("h2",{children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udd12"}),"Verificar contrase\xf1a"]}),(0,Cr.jsx)("button",{className:"delete-modal-close",onClick:()=>{ke(!1),Ce("")},children:"\u2715"})]}),(0,Cr.jsxs)("div",{className:"delete-modal-body",children:[(0,Cr.jsx)("p",{className:"delete-password-text",children:"Ingresa tu clave de administrador para confirmar la eliminaci\xf3n del emisor"}),(0,Cr.jsxs)("div",{className:"delete-form-group",children:[(0,Cr.jsx)("label",{htmlFor:"delete-password",className:"delete-form-label",children:"Clave de administrador *"}),(0,Cr.jsx)("input",{id:"delete-password",type:"password",value:Ne,onChange:e=>Ce(e.target.value),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:ze?"delete-form-input error":"delete-form-input",autoFocus:!0,onKeyPress:e=>{"Enter"===e.key&&Ne&&!Ee&&(async()=>{if(W){_e(!0),Te(null);try{Ae?await Xr.deletePermanent(W.id,Ne):await Xr.delete(W.id,Ne),L({title:"\xc9xito",message:"Emisor eliminado",type:"success"}),O("/emisores")}catch(n){var e,t;Te((null===n||void 0===n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"No se pudo eliminar el emisor")}finally{_e(!1)}}})()}}),ze&&(0,Cr.jsxs)("span",{className:"delete-error-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0"}),ze]})]})]}),(0,Cr.jsxs)("div",{className:"delete-modal-footer",children:[(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-cancel",onClick:()=>{ke(!1),Ce("")},disabled:Ee,children:"Cancelar"}),(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-danger",onClick:async()=>{if(W){_e(!0),Te(null);try{Ae?await Xr.deletePermanent(W.id,Ne):await Xr.delete(W.id,Ne),L({title:"\xc9xito",message:"Emisor eliminado",type:"success"}),O("/emisores")}catch(n){var e,t;Te((null===n||void 0===n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"No se pudo eliminar el emisor")}finally{_e(!1)}}},disabled:Ee||0===Ne.length,children:Ee?"Eliminando\u2026":"\ud83d\uddd1\ufe0f Eliminar"})]})]})}),Ie&&(0,Cr.jsx)("div",{className:"delete-modal-overlay",children:(0,Cr.jsxs)("div",{className:"delete-modal-content",onClick:e=>e.stopPropagation(),children:[(0,Cr.jsxs)("div",{className:"delete-modal-header",children:[(0,Cr.jsxs)("h2",{children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),"Eliminar establecimiento"]}),(0,Cr.jsx)("button",{className:"delete-modal-close",onClick:()=>{Fe(!1),Je(null)},children:"\u2715"})]}),(0,Cr.jsxs)("div",{className:"delete-modal-body",children:[(0,Cr.jsx)("p",{className:"delete-confirmation-text",children:"\xbfEst\xe1 seguro que desea eliminar el establecimiento:"}),(0,Cr.jsxs)("p",{style:{textAlign:"center",marginTop:12,marginBottom:20,fontSize:18},children:[(0,Cr.jsx)("span",{style:{color:"#dc2626",fontWeight:800},children:null!==(_=null===(z=Y.find(e=>e.id===$e))||void 0===z?void 0:z.codigo)&&void 0!==_?_:""}),(0,Cr.jsx)("span",{style:{fontWeight:600},children:" - "}),(0,Cr.jsx)("span",{style:{color:"#dc2626",fontWeight:800},children:null!==(T=null===(A=Y.find(e=>e.id===$e))||void 0===A?void 0:A.nombre)&&void 0!==T?T:""})]}),(0,Cr.jsx)("p",{className:"delete-info-text",style:{textAlign:"center"},children:"y todos sus datos asociados?"})]}),(0,Cr.jsxs)("div",{className:"delete-modal-footer",children:[(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-cancel",onClick:()=>{Fe(!1),Je(null)},children:"Cancelar"}),(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-danger",onClick:()=>{Fe(!1),Be(!0)},children:"\ud83d\uddd1\ufe0f Confirmar"})]})]})}),De&&(0,Cr.jsx)("div",{className:"delete-modal-overlay",children:(0,Cr.jsxs)("div",{className:"delete-modal-content",onClick:e=>e.stopPropagation(),children:[(0,Cr.jsxs)("div",{className:"delete-modal-header",children:[(0,Cr.jsxs)("h2",{children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udd12"}),"Verificar contrase\xf1a"]}),(0,Cr.jsx)("button",{className:"delete-modal-close",onClick:()=>{Be(!1),Me(""),Xe(null),Je(null)},children:"\u2715"})]}),(0,Cr.jsxs)("div",{className:"delete-modal-body",children:[(0,Cr.jsx)("p",{className:"delete-password-text",children:"Ingresa tu clave de administrador para confirmar la eliminaci\xf3n del establecimiento"}),(0,Cr.jsxs)("div",{className:"delete-form-group",children:[(0,Cr.jsx)("label",{htmlFor:"delete-est-password",className:"delete-form-label",children:"Clave de administrador *"}),(0,Cr.jsx)("input",{id:"delete-est-password",type:"password",value:We,onChange:e=>Me(e.target.value),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:Ge?"delete-form-input error":"delete-form-input",autoFocus:!0,onKeyPress:e=>{"Enter"===e.key&&We&&!Ke&&(async()=>{if(null!==W&&void 0!==W&&W.id&&$e){Ye(!0),Xe(null);try{await ra.delete(W.id,$e,We),Be(!1),Je(null),L({title:"\xc9xito",message:"Establecimiento eliminado correctamente",type:"success"}),et(W.id)}catch(n){var e,t;const r=(null===n||void 0===n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"No se pudo eliminar el establecimiento";Xe(r)}finally{Ye(!1)}}})()}}),Ge&&(0,Cr.jsxs)("span",{className:"delete-error-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0"}),Ge]})]})]}),(0,Cr.jsxs)("div",{className:"delete-modal-footer",children:[(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-cancel",onClick:()=>{Be(!1),Me(""),Xe(null),Je(null)},disabled:Ke,children:"Cancelar"}),(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-danger",onClick:async()=>{if(null!==W&&void 0!==W&&W.id&&$e){Ye(!0),Xe(null);try{await ra.delete(W.id,$e,We),Be(!1),Je(null),L({title:"\xc9xito",message:"Establecimiento eliminado correctamente",type:"success"}),et(W.id)}catch(n){var e,t;const r=(null===n||void 0===n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"No se pudo eliminar el establecimiento";Xe(r)}finally{Ye(!1)}}},disabled:Ke||0===We.length,children:Ke?"Eliminando\u2026":"\ud83d\uddd1\ufe0f Eliminar"})]})]})}),(0,Cr.jsx)(Jr,{open:Ue,imageUrl:Ve,onClose:()=>qe(!1)})]}):(0,Cr.jsx)("div",{children:"Emisor no especificado"})},Ra=e=>{var t;let{isOpen:n,onClose:r,onSave:a,initialData:i=null,companyId:l,establecimientoId:s,existingPuntos:c=[]}=e;const{show:d}=Rr(),[u,p]=(0,o.useState)(!1),[f,m]=(0,o.useState)({codigo:"",estado:"ACTIVO",nombre:"",secuencial_factura:1,secuencial_liquidacion_compra:1,secuencial_nota_credito:1,secuencial_nota_debito:1,secuencial_guia_remision:1,secuencial_retencion:1,secuencial_proforma:1}),[h,g]=(0,o.useState)({}),[b,x]=(0,o.useState)(new Set),[v,y]=(0,o.useState)(null),[j,w]=(0,o.useState)(!1),[S,k]=(0,o.useState)(!1),[N,C]=(0,o.useState)(null);(0,o.useEffect)(()=>{n&&(i?(m(i),C(i)):(m({codigo:"",estado:"ACTIVO",nombre:"",secuencial_factura:1,secuencial_liquidacion_compra:1,secuencial_nota_credito:1,secuencial_nota_debito:1,secuencial_guia_remision:1,secuencial_retencion:1,secuencial_proforma:1}),C(null)),g({}),x(new Set),y(null),k(!1))},[n,i]),(0,o.useEffect)(()=>{if(!f.codigo||!f.codigo.trim())return void y(null);if(i&&f.codigo===i.codigo)return void y(null);const e=setTimeout(()=>{w(!0);const e=c.some(e=>e.codigo===f.codigo&&(!i||e.id!==i.id));y(e?"Este c\xf3digo ya existe en otro punto de emisi\xf3n del mismo establecimiento":null),w(!1)},500);return()=>clearTimeout(e)},[f.codigo,c,i]);const E=e=>{const{name:t,value:n,type:r}=e.target;"text"===r&&"codigo"===t?/^\d*$/.test(n)&&n.length<=3&&m(e=>He(He({},e),{},{[t]:n})):/secuencial/.test(t)?/^\d*$/.test(n)&&m(e=>He(He({},e),{},{[t]:n?parseInt(n):0})):m(e=>He(He({},e),{},{[t]:n})),h[t]&&g(e=>{const n=He({},e);return delete n[t],n})},_=e=>{const t=new Set(b);t.add(e),x(t)},z=e=>{switch(e){case"codigo":return!(f.codigo&&f.codigo.trim());case"nombre":return!(f.nombre&&f.nombre.trim());default:return!1}},T=()=>!j&&!v&&3===f.codigo.trim().length&&f.nombre.trim().length>=2&&f.nombre.trim().length<=100&&f.secuencial_factura>=1&&f.secuencial_factura<=999999&&f.secuencial_liquidacion_compra>=1&&f.secuencial_liquidacion_compra<=999999&&f.secuencial_nota_credito>=1&&f.secuencial_nota_credito<=999999&&f.secuencial_nota_debito>=1&&f.secuencial_nota_debito<=999999&&f.secuencial_guia_remision>=1&&f.secuencial_guia_remision<=999999&&f.secuencial_retencion>=1&&f.secuencial_retencion<=999999&&f.secuencial_proforma>=1&&f.secuencial_proforma<=999999,A=async()=>{if(l&&s){p(!0);try{var e,t;const n={codigo:f.codigo,nombre:f.nombre,estado:f.estado,secuencial_factura:f.secuencial_factura,secuencial_liquidacion_compra:f.secuencial_liquidacion_compra,secuencial_nota_credito:f.secuencial_nota_credito,secuencial_nota_debito:f.secuencial_nota_debito,secuencial_guia_remision:f.secuencial_guia_remision,secuencial_retencion:f.secuencial_retencion,secuencial_proforma:f.secuencial_proforma};let o;o=null!==i&&void 0!==i&&i.id?await za.update(l,s,i.id,n):await za.create(l,s,n);const c=null!==(e=null===(t=o.data)||void 0===t?void 0:t.data)&&void 0!==e?e:o.data;a(c),r()}catch(c){var n,o;const e=(null===c||void 0===c||null===(n=c.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message)||"Error al guardar el punto de emisi\xf3n";d({title:"Error",message:e,type:"error"})}finally{p(!1)}}else d({title:"Error",message:"Faltan datos requeridos",type:"error"})};return n?(0,Cr.jsxs)("div",{className:"mf-backdrop",children:[(0,Cr.jsxs)("div",{className:"mf-modal",style:{width:"min(780px, 92vw)"},children:[(0,Cr.jsx)("div",{className:"mf-header",children:(0,Cr.jsx)("h2",{children:i?"Editar punto de emisi\xf3n":"Registrar nuevo punto de emisi\xf3n"})}),(0,Cr.jsx)("div",{className:"mf-body scrollable",children:(0,Cr.jsxs)("section",{children:[(0,Cr.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:24,marginBottom:16},children:[(0,Cr.jsxs)("div",{style:{flex:1,maxWidth:"450px"},children:[(0,Cr.jsxs)("label",{className:"horizontal",style:{margin:0},children:[(0,Cr.jsxs)("span",{children:["C\xf3digo ",(0,Cr.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Cr.jsx)("input",{className:b.has("codigo")&&(z("codigo")||h.codigo||v)?"error-input":"",type:"text",value:f.codigo||"",onBlur:()=>{const e=new Set(b);if(e.add("codigo"),x(e),f.codigo){const e=f.codigo.padStart(3,"0");m(t=>He(He({},t),{},{codigo:e}))}},onChange:E,onFocus:()=>_("codigo"),name:"codigo",placeholder:"Ej: 001"})]}),j&&(0,Cr.jsx)("span",{className:"err",style:{marginLeft:"208px",display:"block",marginTop:4,color:"#7c3aed",fontWeight:500},children:"Verificando c\xf3digo..."}),b.has("codigo")&&(h.codigo||v)&&!j&&(0,Cr.jsx)("span",{className:"err",style:{marginLeft:"208px",display:"block",marginTop:4},children:h.codigo||v})]}),(0,Cr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,Cr.jsxs)("div",{style:{textAlign:"right"},children:[(0,Cr.jsxs)("div",{style:{fontWeight:600,fontSize:13,color:"#475569"},children:["Estado ",(0,Cr.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Cr.jsx)("div",{style:{fontSize:12,marginTop:2,color:"ACTIVO"===f.estado?"#059669":"#64748b"},children:"ACTIVO"===f.estado?"Activo":"Desactivado"})]}),(0,Cr.jsxs)("label",{className:"switch",children:[(0,Cr.jsx)("input",{type:"checkbox",checked:"ACTIVO"===f.estado,onChange:e=>m(t=>He(He({},t),{},{estado:e.target.checked?"ACTIVO":"DESACTIVADO"}))}),(0,Cr.jsx)("span",{className:"slider"})]})]})]}),(0,Cr.jsxs)("label",{className:"horizontal",children:[(0,Cr.jsxs)("span",{children:["Nombre ",(0,Cr.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Cr.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,Cr.jsx)("input",{type:"text",name:"nombre",value:f.nombre||"",onBlur:()=>_("nombre"),onChange:E,onFocus:()=>_("nombre"),className:b.has("nombre")&&(z("nombre")||h.nombre)?"error-input":"",placeholder:"Nombre del punto de emisi\xf3n"}),(0,Cr.jsxs)("span",{style:{position:"absolute",right:12,top:"50%",transform:"translateY(-50%)",fontSize:12,color:"#9ca3af"},children:[(null===(t=f.nombre)||void 0===t?void 0:t.length)||0,"/100"]})]})]}),b.has("nombre")&&(h.nombre||z("nombre"))&&(0,Cr.jsx)("span",{className:"err",style:{marginLeft:"212px"},children:h.nombre||"Campo requerido"}),(0,Cr.jsxs)("label",{className:"horizontal",children:[(0,Cr.jsxs)("span",{children:["Secuencial Facturas ",(0,Cr.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Cr.jsx)("input",{type:"text",name:"secuencial_factura",value:f.secuencial_factura,onBlur:()=>_("secuencial_factura"),onChange:E,readOnly:!!i,className:b.has("secuencial_factura")&&h.secuencial_factura?"error-input":"",placeholder:"1",style:i?{backgroundColor:"#f3f4f6",cursor:"not-allowed"}:{}})]}),b.has("secuencial_factura")&&h.secuencial_factura&&(0,Cr.jsx)("span",{className:"err",style:{marginLeft:"192px"},children:h.secuencial_factura}),(0,Cr.jsxs)("label",{className:"horizontal",children:[(0,Cr.jsxs)("span",{children:["Secuencial Liquidaciones Compra ",(0,Cr.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Cr.jsx)("input",{type:"text",name:"secuencial_liquidacion_compra",value:f.secuencial_liquidacion_compra,onBlur:()=>_("secuencial_liquidacion_compra"),onChange:E,readOnly:!!i,className:b.has("secuencial_liquidacion_compra")&&h.secuencial_liquidacion_compra?"error-input":"",placeholder:"1",style:i?{backgroundColor:"#f3f4f6",cursor:"not-allowed"}:{}})]}),b.has("secuencial_liquidacion_compra")&&h.secuencial_liquidacion_compra&&(0,Cr.jsx)("span",{className:"err",style:{marginLeft:"192px"},children:h.secuencial_liquidacion_compra}),(0,Cr.jsxs)("label",{className:"horizontal",children:[(0,Cr.jsxs)("span",{children:["Secuencial Notas Cr\xe9dito ",(0,Cr.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Cr.jsx)("input",{type:"text",name:"secuencial_nota_credito",value:f.secuencial_nota_credito,onBlur:()=>_("secuencial_nota_credito"),onChange:E,readOnly:!!i,className:b.has("secuencial_nota_credito")&&h.secuencial_nota_credito?"error-input":"",placeholder:"1",style:i?{backgroundColor:"#f3f4f6",cursor:"not-allowed"}:{}})]}),b.has("secuencial_nota_credito")&&h.secuencial_nota_credito&&(0,Cr.jsx)("span",{className:"err",style:{marginLeft:"192px"},children:h.secuencial_nota_credito}),(0,Cr.jsxs)("label",{className:"horizontal",children:[(0,Cr.jsxs)("span",{children:["Secuencial Notas D\xe9bito ",(0,Cr.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Cr.jsx)("input",{type:"text",name:"secuencial_nota_debito",value:f.secuencial_nota_debito,onBlur:()=>_("secuencial_nota_debito"),onChange:E,readOnly:!!i,className:b.has("secuencial_nota_debito")&&h.secuencial_nota_debito?"error-input":"",placeholder:"1",style:i?{backgroundColor:"#f3f4f6",cursor:"not-allowed"}:{}})]}),b.has("secuencial_nota_debito")&&h.secuencial_nota_debito&&(0,Cr.jsx)("span",{className:"err",style:{marginLeft:"192px"},children:h.secuencial_nota_debito}),(0,Cr.jsxs)("label",{className:"horizontal",children:[(0,Cr.jsxs)("span",{children:["Secuencial Gu\xedas Remisi\xf3n ",(0,Cr.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Cr.jsx)("input",{type:"text",name:"secuencial_guia_remision",value:f.secuencial_guia_remision,onBlur:()=>_("secuencial_guia_remision"),onChange:E,readOnly:!!i,className:b.has("secuencial_guia_remision")&&h.secuencial_guia_remision?"error-input":"",placeholder:"1",style:i?{backgroundColor:"#f3f4f6",cursor:"not-allowed"}:{}})]}),b.has("secuencial_guia_remision")&&h.secuencial_guia_remision&&(0,Cr.jsx)("span",{className:"err",style:{marginLeft:"192px"},children:h.secuencial_guia_remision}),(0,Cr.jsxs)("label",{className:"horizontal",children:[(0,Cr.jsxs)("span",{children:["Secuencial Retenciones ",(0,Cr.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Cr.jsx)("input",{type:"text",name:"secuencial_retencion",value:f.secuencial_retencion,onBlur:()=>_("secuencial_retencion"),onChange:E,readOnly:!!i,className:b.has("secuencial_retencion")&&h.secuencial_retencion?"error-input":"",placeholder:"1",style:i?{backgroundColor:"#f3f4f6",cursor:"not-allowed"}:{}})]}),b.has("secuencial_retencion")&&h.secuencial_retencion&&(0,Cr.jsx)("span",{className:"err",style:{marginLeft:"192px"},children:h.secuencial_retencion}),(0,Cr.jsxs)("label",{className:"horizontal",children:[(0,Cr.jsxs)("span",{children:["Secuencial Proformas ",(0,Cr.jsx)("span",{style:{color:"#dc2626"},children:"*"})]}),(0,Cr.jsx)("input",{type:"text",name:"secuencial_proforma",value:f.secuencial_proforma,onBlur:()=>_("secuencial_proforma"),onChange:E,readOnly:!!i,className:b.has("secuencial_proforma")&&h.secuencial_proforma?"error-input":"",placeholder:"1",style:i?{backgroundColor:"#f3f4f6",cursor:"not-allowed"}:{}})]}),b.has("secuencial_proforma")&&h.secuencial_proforma&&(0,Cr.jsx)("span",{className:"err",style:{marginLeft:"192px"},children:h.secuencial_proforma})]})}),(0,Cr.jsxs)("div",{className:"mf-footer",children:[(0,Cr.jsx)("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:u,children:"Cancelar"}),(0,Cr.jsx)("button",{type:"submit",onClick:async e=>{e.preventDefault(),(()=>{const e={};return f.codigo.trim()?/^\d{3}$/.test(f.codigo)||(e.codigo="C\xf3digo debe tener exactamente 3 d\xedgitos"):e.codigo="C\xf3digo es obligatorio",f.nombre.trim()?f.nombre.trim().length<2?e.nombre="El nombre debe tener al menos 2 caracteres":f.nombre.trim().length>100&&(e.nombre="El nombre no puede exceder 100 caracteres"):e.nombre="Nombre es obligatorio",f.secuencial_factura<1?e.secuencial_factura="Debe ser mayor a 0":f.secuencial_factura>999999&&(e.secuencial_factura="No puede exceder 999999"),f.secuencial_liquidacion_compra<1?e.secuencial_liquidacion_compra="Debe ser mayor a 0":f.secuencial_liquidacion_compra>999999&&(e.secuencial_liquidacion_compra="No puede exceder 999999"),f.secuencial_nota_credito<1?e.secuencial_nota_credito="Debe ser mayor a 0":f.secuencial_nota_credito>999999&&(e.secuencial_nota_credito="No puede exceder 999999"),f.secuencial_nota_debito<1?e.secuencial_nota_debito="Debe ser mayor a 0":f.secuencial_nota_debito>999999&&(e.secuencial_nota_debito="No puede exceder 999999"),f.secuencial_guia_remision<1?e.secuencial_guia_remision="Debe ser mayor a 0":f.secuencial_guia_remision>999999&&(e.secuencial_guia_remision="No puede exceder 999999"),f.secuencial_retencion<1?e.secuencial_retencion="Debe ser mayor a 0":f.secuencial_retencion>999999&&(e.secuencial_retencion="No puede exceder 999999"),f.secuencial_proforma<1?e.secuencial_proforma="Debe ser mayor a 0":f.secuencial_proforma>999999&&(e.secuencial_proforma="No puede exceder 999999"),v&&(e.codigo=v),g(e),0===Object.keys(e).length})()&&(i&&N&&(N.codigo!==f.codigo||N.nombre!==f.nombre||N.estado!==f.estado)?k(!0):await A())},disabled:!T()||u,className:"btn btn-primary",style:{backgroundColor:T()&&!u?"#3b82f6":"#d1d5db",color:"white",cursor:T()&&!u?"pointer":"not-allowed",opacity:T()&&!u?1:.6},children:u?(0,Cr.jsx)(Pr,{inline:!0,size:18,message:"Guardando\u2026"}):i?"Actualizar":"Registrar"})]}),(0,Cr.jsx)("style",{children:'\n          /* Backdrop and modal shell */\n          .mf-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.45);display:flex;align-items:center;justify-content:center;z-index:1000}\n          .mf-modal{position:relative;width:min(780px,92vw);max-height:88vh;background:#fff;border-radius:12px;box-shadow:0 14px 40px rgba(2,6,23,0.18);display:flex;flex-direction:column;overflow:hidden}\n\n          /* Header */\n          .mf-header{padding:20px 24px;border-bottom:1px solid #e5e7eb;background:linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)}\n          .mf-header h2{margin:0;font-size:22px;color:#1e293b;font-weight:700}\n\n          /* Body (scrollable) */\n          .mf-body{padding:24px;overflow:auto}\n          .scrollable{overflow-y:auto;padding-right:8px}\n\n          /* Sections */\n          section{padding:20px;background:#f8fafc;border-radius:10px;border:1px solid #e5e7eb}\n\n          /* Form fields - HORIZONTAL layout */\n          label.horizontal{display:grid;grid-template-columns:200px 1fr;gap:12px;align-items:center;\n            margin:10px 0;font-weight:500;color:#475569}\n          label.horizontal input,label.horizontal select{height:40px;padding:10px 12px;border:1px solid #cbd5e1;\n            border-radius:8px;width:100%;box-sizing:border-box;font-size:14px;background:#fff;transition:all 0.2s ease}\n          \n          /* Focus states */\n          label.horizontal input:focus,label.horizontal select:focus{\n            outline:none;box-shadow:0 0 0 3px rgba(59,130,246,0.1);border-color:#3b82f6\n          }\n\n          /* Toggle switch */\n          .switch{position:relative;display:inline-block;width:50px;height:26px}\n          .switch input{opacity:0;width:0;height:0}\n          .slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#cbd5e1;\n            transition:.3s;border-radius:999px}\n          .slider:before{position:absolute;content:"";height:20px;width:20px;left:3px;top:3px;\n            background:white;transition:.3s;border-radius:50%;box-shadow:0 2px 6px rgba(2,6,23,0.15)}\n          .switch input:checked + .slider{background:#10b981}\n          .switch input:checked + .slider:before{transform:translateX(24px)}\n\n          /* Validation and misc */\n          .err{color:#dc2626;margin-top:4px;font-size:12px;display:block}\n          .error-input{border-color:#dc2626!important;background:#fef2f2!important}\n\n          /* Footer / actions */\n          .mf-footer{display:flex;gap:12px;justify-content:flex-end;padding:16px 24px;border-top:1px solid #e5e7eb;background:#f8fafc}\n          .btn{padding:11px 20px;border-radius:8px;border:1px solid transparent;cursor:pointer;\n            font-weight:600;font-size:14px;transition:all 0.2s ease}\n          .btn-secondary{background:#fff;color:#475569;border:1px solid #cbd5e1}\n          .btn-secondary:hover{background:#f1f5f9;border-color:#94a3b8}\n          .btn-primary{background:#3b82f6;color:#fff}\n          .btn-primary:hover{background:#2563eb;transform:translateY(-1px);box-shadow:0 4px 12px rgba(59,130,246,0.3)}\n          .btn:disabled{opacity:.5;cursor:not-allowed;transform:none}\n\n          /* Responsive tweaks */\n          @media (max-width:600px){\n            .mf-modal{width:calc(100vw - 24px);border-radius:10px}\n            .mf-body{padding:16px}\n            section{padding:16px}\n            label.horizontal{grid-template-columns:1fr;gap:6px}\n          }\n        '})]}),S&&(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)("div",{className:"confirm-backdrop",onClick:()=>k(!1),style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.5)",zIndex:1001,display:"flex",alignItems:"center",justifyContent:"center"}}),(0,Cr.jsxs)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",zIndex:1002,width:"min(400px, 90vw)",maxWidth:"500px"},children:[(0,Cr.jsx)("div",{style:{padding:"24px",borderBottom:"1px solid #e5e7eb",background:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)",borderRadius:"12px 12px 0 0"},children:(0,Cr.jsxs)("h3",{style:{margin:0,fontSize:"18px",fontWeight:700,color:"#991b1b",display:"flex",alignItems:"center",gap:"10px"},children:[(0,Cr.jsx)("span",{style:{fontSize:"24px"},children:"\u26a0\ufe0f"}),"Confirmar cambios"]})}),(0,Cr.jsxs)("div",{style:{padding:"20px",color:"#374151"},children:[(0,Cr.jsx)("p",{style:{margin:"0 0 12px 0",fontSize:"14px",lineHeight:"1.6"},children:"Est\xe1 a punto de editar un punto de emisi\xf3n existente. Esta acci\xf3n puede afectar los registros de facturaci\xf3n."}),(0,Cr.jsx)("p",{style:{margin:0,fontSize:"13px",color:"#666",fontStyle:"italic"},children:"\xbfDesea continuar con los cambios?"})]}),(0,Cr.jsxs)("div",{style:{padding:"16px 24px",borderTop:"1px solid #e5e7eb",background:"#f9fafb",display:"flex",gap:"12px",justifyContent:"flex-end",borderRadius:"0 0 12px 12px"},children:[(0,Cr.jsx)("button",{onClick:()=>k(!1),disabled:u,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #d1d5db",background:"#fff",color:"#374151",cursor:u?"not-allowed":"pointer",fontWeight:600,fontSize:"14px",transition:"all 0.2s ease",opacity:u?.5:1},onMouseEnter:e=>{u||(e.currentTarget.style.background="#f1f5f9",e.currentTarget.style.borderColor="#94a3b8")},onMouseLeave:e=>{u||(e.currentTarget.style.background="#fff",e.currentTarget.style.borderColor="#d1d5db")},children:"Cancelar"}),(0,Cr.jsx)("button",{onClick:async()=>{k(!1),await A()},disabled:u,style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:u?"#d1d5db":"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",cursor:u?"not-allowed":"pointer",fontWeight:600,fontSize:"14px",transition:"all 0.2s ease",opacity:u?.5:1},onMouseEnter:e=>{u||(e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 10px 20px rgba(220, 38, 38, 0.3)")},onMouseLeave:e=>{u||(e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none")},children:u?(0,Cr.jsx)(Pr,{inline:!0,size:18,message:"Guardando\u2026"}):"Confirmar cambios"})]})]})]})]}):null},Oa=e=>{let{isOpen:t,onClose:n,onSuccess:r,punto:a,companyId:i,establecimientoId:l,onError:s,onSuccess_notification:c}=e;const[d,u]=(0,o.useState)("confirmation"),[p,f]=(0,o.useState)(""),[m,h]=(0,o.useState)(null),[g,b]=(0,o.useState)(!1),x=async()=>{if(p.trim()){b(!0);try{await za.delete(i||0,l||0,(null===a||void 0===a?void 0:a.id)||0,p),b(!1),c("Punto de emisi\xf3n eliminado correctamente"),n(),v(),r()}catch(d){var e,t,o;b(!1);const r=(null===d||void 0===d||null===(e=d.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||(null===d||void 0===d?void 0:d.message)||"Error al eliminar el punto de emisi\xf3n";401===(null===d||void 0===d||null===(o=d.response)||void 0===o?void 0:o.status)||r.includes("contrase\xf1a")||r.includes("password")?h("Contrase\xf1a incorrecta"):(s(r),n(),v())}}else h("La contrase\xf1a es obligatoria")},v=()=>{u("confirmation"),f(""),h(null)},y=()=>{v(),n()};return t?(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)("div",{className:"delete-modal-backdrop",onClick:y,style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.5)",zIndex:1001,display:"flex",alignItems:"center",justifyContent:"center"}}),(0,Cr.jsxs)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",zIndex:1002,width:"min(450px, 90vw)",maxWidth:"500px",overflow:"hidden"},children:[(0,Cr.jsx)("div",{style:{padding:"24px",background:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)",borderBottom:"1px solid #fecaca"},children:(0,Cr.jsxs)("h3",{style:{margin:0,fontSize:"18px",fontWeight:700,color:"#991b1b",display:"flex",alignItems:"center",gap:"10px"},children:[(0,Cr.jsx)("span",{style:{fontSize:"24px"},children:"\u26a0\ufe0f"}),"confirmation"===d?"Confirmar eliminaci\xf3n":"Verificar contrase\xf1a"]})}),(0,Cr.jsx)("div",{style:{padding:"24px"},children:"confirmation"===d?(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsxs)("p",{style:{margin:"0 0 16px 0",fontSize:"15px",color:"#374151",lineHeight:"1.6"},children:["Est\xe1 a punto de eliminar el punto de emisi\xf3n ",(0,Cr.jsxs)("strong",{style:{color:"#1f2937"},children:['"',null===a||void 0===a?void 0:a.nombre,'"']})," (C\xf3digo: ",(0,Cr.jsx)("strong",{children:null===a||void 0===a?void 0:a.codigo}),")."]}),(0,Cr.jsxs)("div",{style:{background:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"8px",padding:"12px 16px",color:"#92400e",fontSize:"13px",lineHeight:"1.5"},children:["\u26a0\ufe0f Esta acci\xf3n ",(0,Cr.jsx)("strong",{children:"no se puede deshacer"}),". Todos los datos asociados al punto de emisi\xf3n ser\xe1n eliminados permanentemente del sistema."]}),(0,Cr.jsx)("p",{style:{margin:"16px 0 0 0",fontSize:"14px",color:"#6b7280"},children:'Para continuar, haz clic en "Eliminar". Se te solicitar\xe1 que ingreses tu contrase\xf1a como medida de seguridad.'})]}):(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)("p",{style:{margin:"0 0 16px 0",fontSize:"15px",color:"#374151"},children:"Por seguridad, debes confirmar tu identidad ingresando tu contrase\xf1a de administrador."}),(0,Cr.jsxs)("label",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,Cr.jsx)("span",{style:{fontSize:"14px",fontWeight:600,color:"#374151"},children:"Contrase\xf1a"}),(0,Cr.jsx)("input",{type:"password",value:p,onChange:e=>{f(e.target.value),h(null)},placeholder:"Ingresa tu contrase\xf1a",autoFocus:!0,style:{padding:"10px 12px",border:m?"1px solid #ef4444":"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",fontFamily:"inherit",background:m?"#fef2f2":"#fff",transition:"all 0.2s ease"},onKeyPress:e=>{"Enter"!==e.key||g||x()}}),m&&(0,Cr.jsx)("span",{style:{fontSize:"12px",color:"#ef4444",fontWeight:500},children:m})]})]})}),(0,Cr.jsxs)("div",{style:{padding:"16px 24px",borderTop:"1px solid #e5e7eb",background:"#f9fafb",display:"flex",gap:"12px",justifyContent:"flex-end",borderRadius:"0 0 12px 12px"},children:[(0,Cr.jsx)("button",{onClick:y,disabled:g,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #d1d5db",background:"#fff",color:"#374151",cursor:g?"not-allowed":"pointer",fontWeight:600,fontSize:"14px",transition:"all 0.2s ease",opacity:g?.5:1},onMouseEnter:e=>{g||(e.currentTarget.style.background="#f1f5f9",e.currentTarget.style.borderColor="#94a3b8")},onMouseLeave:e=>{e.currentTarget.style.background="#fff",e.currentTarget.style.borderColor="#d1d5db"},children:"Cancelar"}),"confirmation"===d?(0,Cr.jsx)("button",{onClick:()=>{u("password"),f(""),h(null)},disabled:g,style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",cursor:g?"not-allowed":"pointer",fontWeight:600,fontSize:"14px",transition:"all 0.2s ease",opacity:g?.5:1},onMouseEnter:e=>{g||(e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 10px 20px rgba(220, 38, 38, 0.3)")},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:"Continuar con eliminaci\xf3n"}):(0,Cr.jsx)("button",{onClick:x,disabled:g,style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",cursor:g?"not-allowed":"pointer",fontWeight:600,fontSize:"14px",transition:"all 0.2s ease",opacity:g?.7:1},onMouseEnter:e=>{g||(e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 10px 20px rgba(220, 38, 38, 0.3)")},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:g?(0,Cr.jsx)(Pr,{inline:!0,size:18,message:"Eliminando\u2026"}):"Eliminar definitivamente"})]})]})]}):null},Pa=()=>{var e,t,n,r,a,i,l,s,c,d,u,p,f,m,h,g,b,x,v,y,j,w,S,k;const{id:N,estId:C}=oe(),E=re(),{show:_}=Rr(),{user:z}=zr(),T=null!==(e=null===z||void 0===z||null===(t=z.role)||void 0===t||null===(n=t.toLowerCase)||void 0===n?void 0:n.call(t))&&void 0!==e?e:"",A="gerente"===T||"cajero"===T,[R,O]=o.useState(!1),[P,L]=o.useState(null),[I,F]=o.useState(null),[D,B]=o.useState(!1),[W,M]=o.useState(!1),[U,q]=o.useState(!0),[H,V]=o.useState(!1),[Q,G]=o.useState(!1),[X,K]=o.useState(""),[Y,$]=o.useState(null),[J,Z]=o.useState(!1),[ee,te]=o.useState(!1),[ne,ae]=o.useState(null),[ie,le]=o.useState(!1),[se,ce]=o.useState(""),[de,ue]=o.useState(null),[pe,fe]=o.useState(!1),[me,he]=o.useState(null),[ge,be]=o.useState(null),[xe,ve]=o.useState(""),ye={codigo:"C\xf3digo",nombre:"Nombre",estado:"Estado"},[je,we]=o.useState(""),[Se,ke]=o.useState(""),[Ne,Ce]=o.useState(!1),Ee=o.useRef(null),_e=o.useRef(null),ze=e=>{if(!e)return"";return new Date(e).toLocaleDateString("es-EC",{day:"2-digit",month:"2-digit",year:"numeric"})};if(o.useEffect(()=>{(async()=>{if(N&&C){O(!0);try{var e,t,n,r,a;const[o,i]=await Promise.all([ra.show(N,C),Xr.get(N)]);let l=null!==(e=null===(t=o.data)||void 0===t?void 0:t.data)&&void 0!==e?e:o.data;const s=null!==(n=null===(r=i.data)||void 0===r?void 0:r.data)&&void 0!==n?n:i.data;if(z&&("emisor"===T||"gerente"===T||"cajero"===T)&&null!==l&&void 0!==l&&l.puntos_emision){let e=z.puntos_emision_ids||[];if("string"===typeof e)try{e=JSON.parse(e)}catch($a){e=[]}Array.isArray(e)&&e.length>0&&(l.puntos_emision=l.puntos_emision.filter(t=>e.includes(t.id)||e.includes(Number(t.id))||e.includes(String(t.id))))}L(l),F(s),q(null===(a=l.codigo_editable)||void 0===a||a)}catch($a){_({title:"Error",message:"No se pudo cargar el establecimiento",type:"error"})}finally{O(!1)}}})()},[N,C,_,z,T]),o.useEffect(()=>{const e=e=>{Ee.current&&!Ee.current.contains(e.target)&&Ce(!1)};if(Ne)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[Ne]),!N||!C)return(0,Cr.jsx)("div",{children:"Establecimiento no especificado"});if(R)return(0,Cr.jsx)("div",{style:{padding:32},children:(0,Cr.jsx)(Pr,{fullHeight:!0,message:"Cargando informaci\xf3n del establecimiento\u2026"})});return(0,Cr.jsx)("div",{style:{padding:"24px 32px",background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",minHeight:"100vh",maxWidth:"100%",overflowX:"hidden"},children:(0,Cr.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,Cr.jsxs)("div",{style:{background:"linear-gradient(135deg, #5b21b6 0%, #7c3aed 100%)",borderRadius:"16px",padding:"24px 28px",marginBottom:"24px",boxShadow:"0 8px 24px rgba(124, 58, 237, 0.25)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Cr.jsxs)("div",{style:{display:"flex",gap:16,alignItems:"center"},children:[(0,Cr.jsx)("div",{style:{width:"56px",height:"56px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"28px",backdropFilter:"blur(10px)"},children:"\ud83c\udfe2"}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("h2",{style:{margin:0,color:"#fff",fontSize:"26px",fontWeight:700},children:null!==(r=null===P||void 0===P?void 0:P.nombre)&&void 0!==r?r:"\u2014"}),(0,Cr.jsx)("div",{style:{marginTop:"6px",color:"rgba(255, 255, 255, 0.9)",fontSize:"15px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px"},children:(0,Cr.jsxs)("span",{style:{background:"rgba(255, 255, 255, 0.25)",padding:"4px 12px",borderRadius:"6px",backdropFilter:"blur(10px)"},children:["\ud83d\udccb C\xf3digo: ",null!==(a=null===P||void 0===P?void 0:P.codigo)&&void 0!==a?a:""]})})]})]}),(0,Cr.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[(0,Cr.jsxs)("div",{style:{position:"relative"},children:[(0,Cr.jsx)("button",{className:"actions-btn",onClick:()=>{A||M(e=>!e)},"aria-expanded":W,disabled:A,title:A?"Tu rol no permite modificar establecimientos":"Acciones del establecimiento",style:{padding:"10px 18px",borderRadius:"10px",background:A?"rgba(255, 255, 255, 0.5)":"rgba(255, 255, 255, 0.95)",color:A?"#9ca3af":"#5b21b6",border:"none",cursor:A?"not-allowed":"pointer",fontWeight:700,fontSize:"14px",boxShadow:A?"none":"0 4px 12px rgba(0, 0, 0, 0.15)",opacity:A?.7:1,transition:"all 0.2s ease"},onMouseEnter:e=>{A||(e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 6px 16px rgba(0, 0, 0, 0.2)")},onMouseLeave:e=>{A||(e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)")},children:"\u2699\ufe0f Acciones \u25be"}),!A&&W&&(0,Cr.jsxs)("div",{role:"menu",style:{position:"absolute",right:0,top:"110%",background:"#fff",border:"none",boxShadow:"0 8px 24px rgba(0,0,0,0.15)",borderRadius:"12px",zIndex:50,overflow:"hidden",minWidth:"240px"},children:[(0,Cr.jsxs)("button",{role:"menuitem",onClick:()=>{B(!0),M(!1)},className:"menu-item",style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 18px",width:"100%",textAlign:"left",background:"transparent",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:600,color:"#374151",transition:"background 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.background="#f3f4f6",onMouseLeave:e=>e.currentTarget.style.background="transparent",children:[(0,Cr.jsx)("span",{style:{fontSize:"18px"},children:"\u270f\ufe0f"}),(0,Cr.jsx)("span",{children:"Editar establecimiento"})]}),(0,Cr.jsx)("div",{style:{height:"1px",background:"#e5e7eb",margin:"0 12px"}}),(0,Cr.jsxs)("button",{role:"menuitem",onClick:()=>{A||(M(!1),V(!0))},className:"menu-item",style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 18px",width:"100%",textAlign:"left",background:"transparent",border:"none",cursor:"pointer",fontSize:"14px",fontWeight:600,color:"#dc2626",transition:"background 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.background="#fef2f2",onMouseLeave:e=>e.currentTarget.style.background="transparent",children:[(0,Cr.jsx)("span",{style:{fontSize:"18px"},children:"\ud83d\uddd1\ufe0f"}),(0,Cr.jsx)("span",{children:"Eliminar establecimiento"})]})]})]}),(0,Cr.jsx)("button",{onClick:()=>E("/emisores/".concat(N,"?tab=establecimientos")),style:{padding:"10px 18px",borderRadius:"10px",background:"rgba(255, 255, 255, 0.2)",color:"#fff",border:"2px solid rgba(255, 255, 255, 0.3)",cursor:"pointer",fontWeight:700,fontSize:"14px",backdropFilter:"blur(10px)",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.3)",e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.5)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.2)",e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.3)"},children:"\u2190 Volver"})]})]}),(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 380px",gap:20},children:[(0,Cr.jsxs)("div",{style:{background:"#fff",borderRadius:"16px",padding:"24px 28px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.08)",border:"1px solid #e5e7eb",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.12)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 16px rgba(0, 0, 0, 0.08)"},children:[(0,Cr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px",paddingBottom:"16px",borderBottom:"2px solid #f3f4f6"},children:[(0,Cr.jsx)("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #7c3aed 0%, #5b21b6 100%)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",color:"#fff"},children:"\ud83d\udcca"}),(0,Cr.jsx)("h4",{style:{margin:0,fontSize:"18px",fontWeight:700,color:"#1f2937"},children:"Datos del establecimiento"})]}),(0,Cr.jsxs)("div",{style:{display:"grid",gap:"12px"},children:[(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"160px 1fr",gap:"16px",alignItems:"baseline"},children:[(0,Cr.jsx)("span",{style:{fontWeight:600,color:"#6b7280",fontSize:"14px"},children:"\ud83d\udccb C\xf3digo:"}),(0,Cr.jsx)("span",{style:{color:"#1f2937",fontSize:"14px",fontWeight:600},children:null!==(i=null===P||void 0===P?void 0:P.codigo)&&void 0!==i?i:"-"})]}),(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"160px 1fr",gap:"16px",alignItems:"baseline"},children:[(0,Cr.jsx)("span",{style:{fontWeight:600,color:"#6b7280",fontSize:"14px"},children:"\ud83c\udfe2 Nombre:"}),(0,Cr.jsx)("span",{style:{color:"#1f2937",fontSize:"14px",fontWeight:600},children:null!==(l=null===P||void 0===P?void 0:P.nombre)&&void 0!==l?l:"-"})]}),(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"160px 1fr",gap:"16px",alignItems:"baseline"},children:[(0,Cr.jsx)("span",{style:{fontWeight:600,color:"#6b7280",fontSize:"14px"},children:"\ud83c\udfea Nombre comercial:"}),(0,Cr.jsx)("span",{style:{color:"#1f2937",fontSize:"14px"},children:null!==(s=null===P||void 0===P?void 0:P.nombre_comercial)&&void 0!==s?s:"-"})]}),(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"160px 1fr",gap:"16px",alignItems:"baseline"},children:[(0,Cr.jsx)("span",{style:{fontWeight:600,color:"#6b7280",fontSize:"14px"},children:"\ud83d\udccd Direcci\xf3n:"}),(0,Cr.jsx)("span",{style:{color:"#1f2937",fontSize:"14px"},children:null!==(c=null===P||void 0===P?void 0:P.direccion)&&void 0!==c?c:"-"})]}),(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"160px 1fr",gap:"16px",alignItems:"baseline"},children:[(0,Cr.jsx)("span",{style:{fontWeight:600,color:"#6b7280",fontSize:"14px"},children:"\u2709\ufe0f Correo:"}),(0,Cr.jsx)("span",{style:{color:"#1f2937",fontSize:"14px"},children:null!==(d=null===P||void 0===P?void 0:P.correo)&&void 0!==d?d:"-"})]}),(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"160px 1fr",gap:"16px",alignItems:"baseline"},children:[(0,Cr.jsx)("span",{style:{fontWeight:600,color:"#6b7280",fontSize:"14px"},children:"\ud83d\udcde Tel\xe9fono:"}),(0,Cr.jsx)("span",{style:{color:"#1f2937",fontSize:"14px"},children:null!==(u=null===P||void 0===P?void 0:P.telefono)&&void 0!==u?u:"-"})]}),(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"160px 1fr",gap:"16px",alignItems:"baseline"},children:[(0,Cr.jsx)("span",{style:{fontWeight:600,color:"#6b7280",fontSize:"14px"},children:"\ud83d\udea6 Estado:"}),null!==P&&void 0!==P&&P.estado?(0,Cr.jsx)("span",{style:{background:"ABIERTO"===P.estado?"linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)":"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)",padding:"6px 14px",borderRadius:"8px",color:"ABIERTO"===P.estado?"#065f46":"#991b1b",fontWeight:700,fontSize:"13px",display:"inline-block",boxShadow:"ABIERTO"===P.estado?"0 2px 8px rgba(16, 185, 129, 0.2)":"0 2px 8px rgba(239, 68, 68, 0.2)"},children:"ABIERTO"===P.estado?"\u2705 Abierto":"\ud83d\udd12 Cerrado"}):"-"]})]})]}),(0,Cr.jsxs)("div",{style:{background:"#fff",borderRadius:"16px",padding:"24px 28px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.08)",border:"1px solid #e5e7eb",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.12)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 16px rgba(0, 0, 0, 0.08)"},children:[(0,Cr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px",paddingBottom:"16px",borderBottom:"2px solid #f3f4f6"},children:[(0,Cr.jsx)("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",color:"#fff"},children:"\ud83d\uddbc\ufe0f"}),(0,Cr.jsx)("h4",{style:{margin:0,fontSize:"18px",fontWeight:700,color:"#1f2937"},children:"Logo"})]}),null!==P&&void 0!==P&&P.logo_url?(0,Cr.jsx)("div",{style:{width:"100%",height:"240px",background:"linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",padding:"12px",border:"2px solid #e5e7eb",overflow:"hidden",boxSizing:"border-box"},children:(0,Cr.jsx)("img",{src:Zr(P.logo_url),alt:"logo",style:{maxWidth:"100%",maxHeight:"100%",width:"auto",height:"auto",objectFit:"contain",display:"block"}})}):(0,Cr.jsxs)("div",{style:{width:"100%",height:"240px",background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",border:"2px dashed #fbbf24"},children:[(0,Cr.jsx)("div",{style:{fontSize:"48px",opacity:.6},children:"\ud83d\uddbc\ufe0f"}),(0,Cr.jsx)("div",{style:{color:"#92400e",fontWeight:600,fontSize:"14px"},children:"No hay logo"})]})]}),(0,Cr.jsxs)("div",{style:{gridColumn:"1 / -1",background:"#fff",borderRadius:"16px",padding:"24px 28px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.08)",border:"1px solid #e5e7eb",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.12)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 16px rgba(0, 0, 0, 0.08)"},children:[(0,Cr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px",paddingBottom:"16px",borderBottom:"2px solid #f3f4f6"},children:[(0,Cr.jsx)("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",color:"#fff"},children:"\ud83d\udcdd"}),(0,Cr.jsx)("h4",{style:{margin:0,fontSize:"18px",fontWeight:700,color:"#1f2937"},children:"Informaci\xf3n adicional"})]}),(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[(0,Cr.jsxs)("div",{style:{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",padding:"16px 20px",borderRadius:"12px",border:"1px solid #fbbf24"},children:[(0,Cr.jsx)("div",{style:{fontSize:"13px",fontWeight:600,color:"#78350f",marginBottom:"6px"},children:"\ud83d\udcc5 Actividades econ\xf3micas"}),(0,Cr.jsx)("div",{style:{fontSize:"14px",color:"#1f2937",fontWeight:600},children:null!==(p=null===P||void 0===P?void 0:P.actividades_economicas)&&void 0!==p?p:"-"})]}),(0,Cr.jsxs)("div",{style:{background:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)",padding:"16px 20px",borderRadius:"12px",border:"1px solid #3b82f6"},children:[(0,Cr.jsx)("div",{style:{fontSize:"13px",fontWeight:600,color:"#1e3a8a",marginBottom:"6px"},children:"\ud83d\ude80 Fecha inicio de actividades"}),(0,Cr.jsx)("div",{style:{fontSize:"14px",color:"#1f2937",fontWeight:600},children:null!==(f=null===P||void 0===P?void 0:P.fecha_inicio_actividades)&&void 0!==f?f:"-"})]}),(0,Cr.jsxs)("div",{style:{background:"linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%)",padding:"16px 20px",borderRadius:"12px",border:"1px solid #10b981"},children:[(0,Cr.jsx)("div",{style:{fontSize:"13px",fontWeight:600,color:"#064e3b",marginBottom:"6px"},children:"\ud83d\udd04 Fecha reinicio de actividades"}),(0,Cr.jsx)("div",{style:{fontSize:"14px",color:"#1f2937",fontWeight:600},children:null!==(m=null===P||void 0===P?void 0:P.fecha_reinicio_actividades)&&void 0!==m?m:"-"})]}),(0,Cr.jsxs)("div",{style:{background:"linear-gradient(135deg, #fee2e2 0%, #fecaca 100%)",padding:"16px 20px",borderRadius:"12px",border:"1px solid #ef4444"},children:[(0,Cr.jsx)("div",{style:{fontSize:"13px",fontWeight:600,color:"#7f1d1d",marginBottom:"6px"},children:"\ud83d\udd12 Fecha cierre de establecimiento"}),(0,Cr.jsx)("div",{style:{fontSize:"14px",color:"#1f2937",fontWeight:600},children:null!==(h=null===P||void 0===P?void 0:P.fecha_cierre_establecimiento)&&void 0!==h?h:"-"})]})]})]}),(0,Cr.jsxs)("div",{style:{gridColumn:"1 / -1",background:"#fff",borderRadius:"16px",padding:"24px 28px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.08)",border:"1px solid #e5e7eb",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.12)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 16px rgba(0, 0, 0, 0.08)"},children:[(0,Cr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px",paddingBottom:"16px",borderBottom:"2px solid #f3f4f6"},children:[(0,Cr.jsx)("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",color:"#fff"},children:"\ud83c\udfdb\ufe0f"}),(0,Cr.jsx)("h4",{style:{margin:0,fontSize:"18px",fontWeight:700,color:"#1f2937"},children:"Emisor asociado"})]}),(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("div",{style:{fontSize:"13px",fontWeight:600,color:"#6b7280",marginBottom:"6px"},children:"\ud83d\udd22 RUC"}),null!==I&&void 0!==I&&I.id?(0,Cr.jsx)("a",{href:"/emisores/".concat(I.id),onClick:e=>{e.preventDefault(),E("/emisores/".concat(I.id))},style:{color:"#7c3aed",fontWeight:700,fontSize:"15px",textDecoration:"none",transition:"color 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.color="#5b21b6",onMouseLeave:e=>e.currentTarget.style.color="#7c3aed",children:null===I||void 0===I?void 0:I.ruc}):(0,Cr.jsx)("div",{style:{fontSize:"15px",color:"#1f2937",fontWeight:600},children:null!==(g=null===I||void 0===I?void 0:I.ruc)&&void 0!==g?g:"-"})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("div",{style:{fontSize:"13px",fontWeight:600,color:"#6b7280",marginBottom:"6px"},children:"\ud83c\udfe2 Raz\xf3n Social"}),(0,Cr.jsx)("div",{style:{fontSize:"15px",color:"#1f2937",fontWeight:600},children:null!==(b=null===I||void 0===I?void 0:I.razon_social)&&void 0!==b?b:"-"})]})]})]}),(0,Cr.jsxs)("div",{style:{gridColumn:"1 / -1",background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",borderRadius:"16px",padding:"24px 28px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.08)",border:"1px solid #d1d5db"},children:[(0,Cr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px",paddingBottom:"16px",borderBottom:"2px solid #d1d5db"},children:[(0,Cr.jsx)("div",{style:{width:"40px",height:"40px",background:"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",color:"#fff"},children:"\u23f1\ufe0f"}),(0,Cr.jsx)("h4",{style:{margin:0,fontSize:"18px",fontWeight:700,color:"#1f2937"},children:"Actividad de la cuenta"})]}),(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px"},children:[(0,Cr.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"start"},children:[(0,Cr.jsx)("span",{style:{fontSize:"13px",fontWeight:600,color:"#4b5563"},children:"\ud83d\udcc5 Fecha de creaci\xf3n:"}),(0,Cr.jsx)("span",{style:{fontSize:"13px",color:"#1f2937",fontWeight:600},children:null!==(x=null===P||void 0===P?void 0:P.created_at)&&void 0!==x?x:"-"})]}),(0,Cr.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"start"},children:[(0,Cr.jsx)("span",{style:{fontSize:"13px",fontWeight:600,color:"#4b5563"},children:"\ud83d\udd04 Fecha de actualizaci\xf3n:"}),(0,Cr.jsx)("span",{style:{fontSize:"13px",color:"#1f2937",fontWeight:600},children:null!==(v=null===P||void 0===P?void 0:P.updated_at)&&void 0!==v?v:"-"})]}),(0,Cr.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"start"},children:[(0,Cr.jsx)("span",{style:{fontSize:"13px",fontWeight:600,color:"#4b5563"},children:"\ud83d\udc64 Creado por:"}),(0,Cr.jsx)("span",{style:{fontSize:"13px",color:"#1f2937",fontWeight:600},children:null!==(y=null===P||void 0===P?void 0:P.created_by_name)&&void 0!==y?y:"-"})]}),(0,Cr.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"start"},children:[(0,Cr.jsx)("span",{style:{fontSize:"13px",fontWeight:600,color:"#4b5563"},children:"\u270f\ufe0f Actualizado por:"}),(0,Cr.jsx)("span",{style:{fontSize:"13px",color:"#1f2937",fontWeight:600},children:null!==(j=null===P||void 0===P?void 0:P.updated_by_name)&&void 0!==j?j:"-"})]})]})]}),(0,Cr.jsxs)("div",{style:{gridColumn:"1 / -1",marginTop:18,borderRadius:12,overflow:"hidden",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08), 0 0 0 1px rgba(0, 0, 0, 0.05)",background:"#fff"},children:[(0,Cr.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 20px",borderBottom:"1px solid #e5e7eb",gap:12,flexWrap:"wrap"},children:[(0,Cr.jsx)("h4",{style:{margin:0,fontSize:"18px",fontWeight:700,color:"#1f2937"},children:"Lista de puntos de emisi\xf3n"}),(0,Cr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,flex:1,minWidth:300,justifyContent:"flex-end"},children:[(0,Cr.jsxs)("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:6,padding:"0 12px",display:"flex",alignItems:"center",gap:8,height:44,flex:1,maxWidth:400},children:[(0,Cr.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center"},children:"estado"===ge?(0,Cr.jsxs)("select",{value:xe,onChange:e=>ve(e.target.value),style:{width:"100%",padding:"6px 8px",borderRadius:4,border:"none",fontSize:14,fontFamily:"inherit",background:"transparent"},children:[(0,Cr.jsx)("option",{value:"",children:"Todos"}),(0,Cr.jsx)("option",{value:"activo",children:"Activo"}),(0,Cr.jsx)("option",{value:"inactivo",children:"Inactivo"})]}):(0,Cr.jsx)("input",{type:"text",placeholder:ge?"Filtrar por ".concat(ye[ge]):"Haz clic en un encabezado para filtrar",value:xe,onChange:e=>ve(e.target.value),style:{width:"100%",padding:"6px 8px",borderRadius:4,border:"none",fontSize:14,background:"transparent",outline:"none"}})}),(0,Cr.jsx)("span",{style:{fontSize:16,color:"#666",flexShrink:0},children:"\ud83d\udd0d"}),ge&&xe&&(0,Cr.jsx)("button",{onClick:()=>ve(""),style:{background:"transparent",border:"none",borderRadius:4,padding:"2px 6px",cursor:"pointer",fontSize:14,color:"#666",flexShrink:0},children:"\xd7"})]}),(0,Cr.jsxs)("div",{className:"date-range",ref:Ee,style:{position:"relative"},children:[(0,Cr.jsxs)("button",{className:"date-range-display",onClick:()=>Ce(e=>!e),style:{padding:"8px 12px",background:"#fff",border:"1px solid #dee2e6",borderRadius:6,cursor:"pointer",fontSize:13,fontWeight:500,color:"#666",display:"flex",gap:6,alignItems:"center",whiteSpace:"nowrap",height:44},children:[(0,Cr.jsx)("span",{children:je?ze(je):"Fecha Inicial"}),(0,Cr.jsx)("span",{children:"\u2192"}),(0,Cr.jsx)("span",{children:Se?ze(Se):"Fecha Final"})]}),Ne&&(0,Cr.jsxs)("div",{className:"date-range-popover",style:{position:"absolute",top:"100%",left:0,marginTop:4,background:"#fff",border:"1px solid #dee2e6",borderRadius:8,padding:12,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",zIndex:100,minWidth:280},children:[(0,Cr.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[(0,Cr.jsxs)("label",{style:{fontSize:12,fontWeight:500,color:"#666",display:"flex",flexDirection:"column",gap:4},children:["Desde",(0,Cr.jsx)("input",{ref:_e,type:"date",value:je,onChange:e=>we(e.target.value),style:{padding:"6px 8px",border:"1px solid #dee2e6",borderRadius:4,fontSize:13}})]}),(0,Cr.jsxs)("label",{style:{fontSize:12,fontWeight:500,color:"#666",display:"flex",flexDirection:"column",gap:4},children:["Hasta",(0,Cr.jsx)("input",{type:"date",value:Se,onChange:e=>ke(e.target.value),style:{padding:"6px 8px",border:"1px solid #dee2e6",borderRadius:4,fontSize:13}})]})]}),(0,Cr.jsxs)("div",{style:{display:"flex",gap:8,marginTop:12,justifyContent:"flex-end"},children:[(0,Cr.jsx)("button",{onClick:()=>{we(""),ke(""),Ce(!1)},style:{padding:"6px 12px",background:"#f0f0f0",border:"1px solid #dee2e6",borderRadius:4,cursor:"pointer",fontSize:12,fontWeight:500,color:"#666"},children:"Limpiar"}),(0,Cr.jsx)("button",{onClick:()=>Ce(!1),style:{padding:"6px 12px",background:"#0d6efd",border:"none",borderRadius:4,cursor:"pointer",fontSize:12,fontWeight:500,color:"#fff"},children:"Aplicar"})]})]})]}),(je||Se)&&(0,Cr.jsx)("button",{onClick:()=>{we(""),ke("")},style:{padding:"4px 8px",background:"#fff",border:"1px solid #dee2e6",borderRadius:6,cursor:"pointer",fontSize:12,fontWeight:500,color:"#dc2626",display:"flex",alignItems:"center",height:44},children:"\u2715"}),(0,Cr.jsx)("button",{onClick:()=>{A||(ae(null),te(!0))},disabled:A,title:A?"Tu rol no permite crear puntos de emisi\xf3n":"Crear nuevo punto de emisi\xf3n",style:{padding:"11px 24px",background:A?"linear-gradient(135deg, #d1d5db 0%, #9ca3af 100%)":"linear-gradient(135deg, #0d6efd 0%, #0b5fd7 100%)",color:A?"#4b5563":"white",border:"none",borderRadius:"10px",cursor:A?"not-allowed":"pointer",fontSize:"14px",fontWeight:"700",boxShadow:A?"none":"0 4px 12px rgba(13, 110, 253, 0.3)",transition:"all 0.3s ease",display:"inline-flex",alignItems:"center",justifyContent:"center",height:"44px",whiteSpace:"nowrap",opacity:A?.6:1},onMouseEnter:e=>{A||(e.currentTarget.style.background="linear-gradient(135deg, #0b5fd7 0%, #084298 100%)",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 6px 16px rgba(13, 110, 253, 0.4)")},onMouseLeave:e=>{A||(e.currentTarget.style.background="linear-gradient(135deg, #0d6efd 0%, #0b5fd7 100%)",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 12px rgba(13, 110, 253, 0.3)")},children:"+ Nuevo"})]})]}),ge&&(0,Cr.jsxs)("div",{style:{padding:"8px 20px",background:"#f8f9fa",borderBottom:"1px solid #e5e7eb",fontSize:12,color:"#666"},children:["Buscando por ",ye[ge],xe&&(0,Cr.jsx)("button",{onClick:()=>{ve("")},style:{marginLeft:8,background:"transparent",border:"none",color:"#1e40af",cursor:"pointer",fontSize:12},children:"Limpiar"})]}),(0,Cr.jsx)("div",{style:{overflowX:"auto",overflowY:"visible",position:"relative"},children:(0,Cr.jsxs)("table",{style:{width:"100%",minWidth:"1200px",borderCollapse:"collapse",fontSize:"13px",background:"#fff",border:"1px solid #e5e7eb"},children:[(0,Cr.jsx)("thead",{children:(0,Cr.jsxs)("tr",{style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",color:"#fff"},children:[(0,Cr.jsx)("th",{style:{padding:"12px 10px",textAlign:"left",fontWeight:700,whiteSpace:"nowrap",position:"sticky",left:0,minWidth:"80px",maxWidth:"80px",width:"80px",background:"linear-gradient(135deg, #6b7280 0%, #9ca3af 100%)",zIndex:10,boxShadow:"2px 0 4px rgba(0,0,0,0.1)"},children:"C\xd3DIGO"}),(0,Cr.jsx)("th",{style:{padding:"12px 10px",textAlign:"left",fontWeight:700,whiteSpace:"nowrap",position:"sticky",left:"80px",minWidth:"150px",maxWidth:"150px",width:"150px",background:"linear-gradient(135deg, #6b7280 0%, #9ca3af 100%)",zIndex:10,boxShadow:"2px 0 4px rgba(0,0,0,0.1)"},children:"NOMBRE"}),(0,Cr.jsx)("th",{style:{padding:"12px 10px",textAlign:"left",fontWeight:700,whiteSpace:"nowrap",position:"sticky",left:"230px",minWidth:"120px",maxWidth:"120px",width:"120px",background:"linear-gradient(135deg, #6b7280 0%, #9ca3af 100%)",zIndex:10,boxShadow:"2px 0 8px rgba(99, 102, 241, 0.3)",borderRight:"1px solid rgba(99, 102, 241, 0.3)"},children:"ESTADO"}),(0,Cr.jsx)("th",{style:{padding:"12px 10px",textAlign:"left",fontWeight:700,whiteSpace:"nowrap"},children:"SECUENCIAL FACTURAS"}),(0,Cr.jsx)("th",{style:{padding:"12px 10px",textAlign:"left",fontWeight:700,whiteSpace:"nowrap"},children:"SECUENCIAL LIQUIDACIONES"}),(0,Cr.jsx)("th",{style:{padding:"12px 10px",textAlign:"left",fontWeight:700,whiteSpace:"nowrap"},children:"SECUENCIAL NOTAS CR\xc9DITO"}),(0,Cr.jsx)("th",{style:{padding:"12px 10px",textAlign:"left",fontWeight:700,whiteSpace:"nowrap"},children:"SECUENCIAL NOTAS D\xc9BITO"}),(0,Cr.jsx)("th",{style:{padding:"12px 10px",textAlign:"left",fontWeight:700,whiteSpace:"nowrap"},children:"SECUENCIAL GU\xcdA REM."}),(0,Cr.jsx)("th",{style:{padding:"12px 10px",textAlign:"left",fontWeight:700,whiteSpace:"nowrap"},children:"SECUENCIAL RETENCI\xd3N"}),(0,Cr.jsx)("th",{style:{padding:"12px 10px",textAlign:"left",fontWeight:700,whiteSpace:"nowrap"},children:"SECUENCIAL L. PORTE"}),(0,Cr.jsx)("th",{style:{padding:"12px 10px",textAlign:"left",fontWeight:700,whiteSpace:"nowrap"},children:"SECUENCIAL PROFORMA"}),(0,Cr.jsx)("th",{style:{padding:"12px 10px",textAlign:"left",fontWeight:700,whiteSpace:"nowrap"},children:"F. CREACI\xd3N"}),(0,Cr.jsx)("th",{style:{padding:"12px 10px",textAlign:"left",fontWeight:700,whiteSpace:"nowrap"},children:"F. ACTUALIZACI\xd3N"}),(0,Cr.jsx)("th",{style:{padding:"12px 10px",textAlign:"center",fontWeight:700,whiteSpace:"nowrap",position:"sticky",right:0,minWidth:"100px",maxWidth:"100px",width:"100px",background:"linear-gradient(135deg, #6b7280 0%, #9ca3af 100%)",zIndex:10,boxShadow:"-2px 0 4px rgba(0,0,0,0.1)"},children:"ACCIONES"})]})}),(0,Cr.jsx)("tbody",{children:(e=>{let t=null!==(e=null===P||void 0===P?void 0:P.puntos_emision)&&void 0!==e?e:[];if(ge&&xe){const e=xe.toLowerCase();t=t.filter(t=>{var n;return String(null!==(n=t[ge])&&void 0!==n?n:"").toLowerCase().includes(e)})}return(je||Se)&&(t=t.filter(e=>{const t=e.created_at?new Date(e.created_at):null;return!!t&&(!(je&&t<new Date(je))&&!(Se&&t>new Date(Se)))})),0===t.length?(0,Cr.jsx)("tr",{children:(0,Cr.jsx)("td",{colSpan:13,style:{padding:"40px 20px",textAlign:"center",color:"#6b7280",fontSize:"14px",fontStyle:"italic"},children:ge||je||Se?"No se encontraron puntos de emisi\xf3n que coincidan con los filtros":"No hay puntos de emisi\xf3n registrados"})}):t.map((e,t)=>{var n,r,a,o,i,l,s,c,d,u,p,f;return(0,Cr.jsxs)("tr",{style:{background:t%2===0?"#fff":"#f9fafb",transition:"background 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#eff6ff"},onMouseLeave:e=>{e.currentTarget.style.background=t%2===0?"#fff":"#f9fafb"},children:[(0,Cr.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #e5e7eb",fontWeight:600,color:"#1f2937",position:"sticky",left:0,minWidth:"80px",maxWidth:"80px",width:"80px",background:t%2===0?"#f9fafb":"#fff",zIndex:5,boxShadow:"2px 0 4px rgba(0,0,0,0.1)",pointerEvents:"auto"},children:(0,Cr.jsx)("a",{href:"/emisores/".concat(N,"/establecimientos/").concat(C,"/puntos/").concat(e.id),onClick:t=>{t.preventDefault(),E("/emisores/".concat(N,"/establecimientos/").concat(C,"/puntos/").concat(e.id))},style:{color:"#1b4ab4",textDecoration:"underline",cursor:"pointer",transition:"color 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.color="#1642a2",onMouseLeave:e=>e.currentTarget.style.color="#1b4ab4",children:null!==(r=e.codigo)&&void 0!==r?r:"-"})}),(0,Cr.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #e5e7eb",fontWeight:600,color:"#1f2937",position:"sticky",left:"80px",minWidth:"150px",maxWidth:"150px",width:"150px",background:t%2===0?"#f9fafb":"#fff",zIndex:5,boxShadow:"2px 0 4px rgba(0,0,0,0.1)"},children:null!==(a=e.nombre)&&void 0!==a?a:"-"}),(0,Cr.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #e5e7eb",position:"sticky",left:"230px",minWidth:"120px",maxWidth:"120px",width:"120px",background:t%2===0?"#f9fafb":"#fff",zIndex:5,boxShadow:"2px 0 8px rgba(99, 102, 241, 0.15)",borderRight:"1px solid rgba(99, 102, 241, 0.2)"},children:(0,Cr.jsx)("span",{style:{padding:"4px 8px",borderRadius:"6px",fontSize:"12px",fontWeight:600,background:"ACTIVO"===e.estado?"#dcfce7":"#fee2e2",color:"ACTIVO"===e.estado?"#166534":"#991b1b"},children:null!==(o=e.estado)&&void 0!==o?o:"-"})}),(0,Cr.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #e5e7eb",color:"#374151"},children:null!==(i=e.secuencial_factura)&&void 0!==i?i:"-"}),(0,Cr.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #e5e7eb",color:"#374151"},children:null!==(l=e.secuencial_liquidacion_compra)&&void 0!==l?l:"-"}),(0,Cr.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #e5e7eb",color:"#374151"},children:null!==(s=e.secuencial_nota_credito)&&void 0!==s?s:"-"}),(0,Cr.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #e5e7eb",color:"#374151"},children:null!==(c=e.secuencial_nota_debito)&&void 0!==c?c:"-"}),(0,Cr.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #e5e7eb",color:"#374151"},children:null!==(d=e.secuencial_guia_remision)&&void 0!==d?d:"-"}),(0,Cr.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #e5e7eb",color:"#374151"},children:null!==(u=e.secuencial_retencion)&&void 0!==u?u:"-"}),(0,Cr.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #e5e7eb",color:"#374151"},children:null!==(p=e.secuencial_liquidacion_compra)&&void 0!==p?p:"-"}),(0,Cr.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #e5e7eb",color:"#374151"},children:null!==(f=e.secuencial_proforma)&&void 0!==f?f:"-"}),(0,Cr.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #e5e7eb",color:"#374151"},children:ze(e.created_at)}),(0,Cr.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #e5e7eb",color:"#374151"},children:ze(e.updated_at)}),(0,Cr.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #e5e7eb",textAlign:"center",position:"sticky",right:0,minWidth:"100px",maxWidth:"100px",width:"100px",background:t%2===0?"#f9fafb":"#fff",zIndex:5,boxShadow:"-2px 0 4px rgba(0,0,0,0.1)"},children:(0,Cr.jsxs)("div",{style:{display:"flex",gap:"6px",justifyContent:"center"},children:[(0,Cr.jsx)("button",{onClick:()=>{A||(ae(e),te(!0))},disabled:A,title:A?"Tu rol no permite editar puntos de emisi\xf3n":"Editar punto de emisi\xf3n",style:{padding:"8px",borderRadius:"6px",border:"none",background:A?"linear-gradient(135deg, #d1d5db 0%, #9ca3af 100%)":"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"#fff",cursor:A?"not-allowed":"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",opacity:A?.6:1},onMouseEnter:e=>{A||(e.currentTarget.style.transform="scale(1.1)")},onMouseLeave:e=>{A||(e.currentTarget.style.transform="scale(1)")},children:"\u270f\ufe0f"}),(0,Cr.jsx)("button",{onClick:()=>{A||(he(e),le(!0))},disabled:A,title:A?"Tu rol no permite eliminar puntos de emisi\xf3n":"Eliminar punto de emisi\xf3n",style:{padding:"8px",borderRadius:"6px",border:"none",background:A?"linear-gradient(135deg, #d1d5db 0%, #9ca3af 100%)":"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"#fff",cursor:A?"not-allowed":"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",opacity:A?.6:1},onMouseEnter:e=>{A||(e.currentTarget.style.transform="scale(1.1)")},onMouseLeave:e=>{A||(e.currentTarget.style.transform="scale(1)")},children:"\ud83d\uddd1\ufe0f"})]})})]},null!==(n=e.id)&&void 0!==n?n:t)})})()})]})})]})]}),D&&(0,Cr.jsx)(oa,{open:D,companyId:N,editingEst:P,codigoEditable:U,onClose:()=>{B(!1)},onUpdated:e=>{(async()=>{if(N&&C)try{var e,t,n,r;const[a,o]=await Promise.all([ra.show(N,C),Xr.get(N)]),i=null!==(e=null===(t=a.data)||void 0===t?void 0:t.data)&&void 0!==e?e:a.data,l=null!==(n=null===(r=o.data)||void 0===r?void 0:r.data)&&void 0!==n?n:o.data;if(i.logo_url){const e=i.logo_url.includes("?")?"&":"?";i.logo_url=i.logo_url.split("?")[0]+e+"t="+Date.now()}L(i),F(l)}catch($a){_({title:"Error",message:"No se pudo recargar el establecimiento",type:"error"})}})(),B(!1),_({title:"\xc9xito",message:"Establecimiento actualizado",type:"success"})}}),H&&(0,Cr.jsx)("div",{className:"delete-modal-overlay",children:(0,Cr.jsxs)("div",{className:"delete-modal-content",onClick:e=>e.stopPropagation(),children:[(0,Cr.jsxs)("div",{className:"delete-modal-header",children:[(0,Cr.jsxs)("h2",{children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),"Eliminar establecimiento"]}),(0,Cr.jsx)("button",{className:"delete-modal-close",onClick:()=>V(!1),children:"\u2715"})]}),(0,Cr.jsxs)("div",{className:"delete-modal-body",children:[(0,Cr.jsx)("p",{className:"delete-confirmation-text",children:"\xbfEst\xe1 seguro que desea eliminar el establecimiento:"}),(0,Cr.jsxs)("p",{style:{textAlign:"center",marginTop:12,marginBottom:20,fontSize:18},children:[(0,Cr.jsx)("span",{style:{color:"#dc2626",fontWeight:800},children:null!==(w=null===P||void 0===P?void 0:P.codigo)&&void 0!==w?w:""}),(0,Cr.jsx)("span",{style:{fontWeight:600},children:" - "}),(0,Cr.jsx)("span",{style:{color:"#dc2626",fontWeight:800},children:null!==(S=null===P||void 0===P?void 0:P.nombre)&&void 0!==S?S:""})]}),(0,Cr.jsx)("p",{className:"delete-info-text",style:{textAlign:"center"},children:"y todos sus datos asociados?"})]}),(0,Cr.jsxs)("div",{className:"delete-modal-footer",children:[(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-cancel",onClick:()=>V(!1),children:"Cancelar"}),(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-danger",onClick:()=>{V(!1),G(!0)},children:"\ud83d\uddd1\ufe0f Confirmar"})]})]})}),Q&&(0,Cr.jsx)("div",{className:"delete-modal-overlay",children:(0,Cr.jsxs)("div",{className:"delete-modal-content",onClick:e=>e.stopPropagation(),children:[(0,Cr.jsxs)("div",{className:"delete-modal-header",children:[(0,Cr.jsxs)("h2",{children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udd12"}),"Verificar contrase\xf1a"]}),(0,Cr.jsx)("button",{className:"delete-modal-close",onClick:()=>{G(!1),K(""),$(null)},children:"\u2715"})]}),(0,Cr.jsxs)("div",{className:"delete-modal-body",children:[(0,Cr.jsx)("p",{className:"delete-password-text",children:"Ingresa tu clave de administrador para confirmar la eliminaci\xf3n del establecimiento"}),(0,Cr.jsxs)("div",{className:"delete-form-group",children:[(0,Cr.jsx)("label",{htmlFor:"delete-password",className:"delete-form-label",children:"Clave de administrador *"}),(0,Cr.jsx)("input",{id:"delete-password",type:"password",value:X,onChange:e=>K(e.target.value),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:Y?"delete-form-input error":"delete-form-input",autoFocus:!0,onKeyPress:e=>{"Enter"===e.key&&X&&!J&&(async()=>{if(N&&C){Z(!0),$(null);try{await ra.delete(N,C,X),G(!1),_({title:"\xc9xito",message:"Establecimiento eliminado correctamente",type:"success"}),E("/emisores/".concat(N))}catch(n){var e,t;const r=(null===n||void 0===n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"No se pudo eliminar el establecimiento";$(r)}finally{Z(!1)}}})()}}),Y&&(0,Cr.jsxs)("span",{className:"delete-error-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0"}),Y]})]})]}),(0,Cr.jsxs)("div",{className:"delete-modal-footer",children:[(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-cancel",onClick:()=>{G(!1),K(""),$(null)},disabled:J,children:"Cancelar"}),(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-danger",onClick:async()=>{if(N&&C){Z(!0),$(null);try{await ra.delete(N,C,X),G(!1),_({title:"\xc9xito",message:"Establecimiento eliminado correctamente",type:"success"}),E("/emisores/".concat(N))}catch(n){var e,t;const r=(null===n||void 0===n||null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"No se pudo eliminar el establecimiento";$(r)}finally{Z(!1)}}},disabled:J||0===X.length,children:J?"Eliminando\u2026":"\ud83d\uddd1\ufe0f Eliminar"})]})]})}),ee&&(0,Cr.jsx)(Ra,{isOpen:ee,companyId:Number(N),establecimientoId:Number(C),initialData:ne,onClose:()=>{te(!1),ae(null)},onSave:async e=>{const t=!!ne;te(!1),ae(null);try{var n,r;const e=await ra.show(N,C),a=null!==(n=null===(r=e.data)||void 0===r?void 0:r.data)&&void 0!==n?n:e.data;L(a),setTimeout(()=>{_({title:"\xc9xito",message:t?"Punto de emisi\xf3n actualizado":"Punto de emisi\xf3n creado",type:"success"})},100)}catch($a){_({title:"Error",message:"No se pudo recargar los datos",type:"error"})}},existingPuntos:null!==(k=null===P||void 0===P?void 0:P.puntos_emision)&&void 0!==k?k:[]}),ie&&me&&(0,Cr.jsx)(Oa,{isOpen:ie,punto:me,companyId:Number(N),establecimientoId:Number(C),onClose:()=>{le(!1),he(null)},onSuccess:async()=>{le(!1),he(null);try{var e,t;const n=await ra.show(N,C),r=null!==(e=null===(t=n.data)||void 0===t?void 0:t.data)&&void 0!==e?e:n.data;L(r)}catch($a){}},onError:e=>{_({title:"Error",message:e,type:"error"})},onSuccess_notification:e=>{_({title:"\xc9xito",message:e,type:"success"})}})]})})},La=()=>{var e,t,n,r,a,i,l,s,c,d,u,p,f,m,h,g,b,x,v,y,j,w;const{id:S,estId:k,puntoId:N}=oe(),C=re(),{show:E}=Rr(),[_,z]=(0,o.useState)(!0),[T,A]=(0,o.useState)(null),[R,O]=(0,o.useState)(null),[P,L]=(0,o.useState)(null);if((0,o.useEffect)(()=>{(async()=>{if(S&&k&&N){z(!0);try{var e,t,n,r,a,o;const[i,l,s]=await Promise.all([za.show(S,k,N),ra.show(S,k),Xr.get(S)]);A(null!==(e=null===(t=i.data)||void 0===t?void 0:t.data)&&void 0!==e?e:i.data),O(null!==(n=null===(r=l.data)||void 0===r?void 0:r.data)&&void 0!==n?n:l.data),L(null!==(a=null===(o=s.data)||void 0===o?void 0:o.data)&&void 0!==a?a:s.data)}catch(i){E({title:"Error",message:"No se pudo cargar la informaci\xf3n del punto de emisi\xf3n",type:"error"})}finally{z(!1)}}})()},[S,k,N,E]),_)return(0,Cr.jsx)("div",{style:{padding:"40px 0"},children:(0,Cr.jsx)(Pr,{fullHeight:!0,message:"Cargando informaci\xf3n del punto\u2026"})});const I=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return(0,Cr.jsxs)("div",{style:{padding:"20px"},children:[(0,Cr.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("h1",{style:{margin:"0 0 8px 0",fontSize:"28px",fontWeight:700,color:"#1f2937"},children:null===T||void 0===T?void 0:T.nombre}),(0,Cr.jsxs)("p",{style:{margin:0,fontSize:"14px",color:"#6b7280"},children:["C\xf3digo: ",(0,Cr.jsx)("span",{style:{fontWeight:600,color:"#1f2937"},children:null===T||void 0===T?void 0:T.codigo})]})]}),(0,Cr.jsx)("button",{onClick:()=>C("/emisores/".concat(S,"/establecimientos/").concat(k)),style:{padding:"10px 20px",background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"8px",cursor:"pointer",fontWeight:600,fontSize:"14px",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="#e5e7eb",e.currentTarget.style.borderColor="#9ca3af"},onMouseLeave:e=>{e.currentTarget.style.background="#f3f4f6",e.currentTarget.style.borderColor="#d1d5db"},children:"\u2190 Volver"})]}),(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[(0,Cr.jsxs)("div",{style:{background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",border:"1px solid #d1d5db",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.05)"},children:[(0,Cr.jsx)("h2",{style:{margin:"0 0 16px 0",fontSize:"16px",fontWeight:700,color:"#1f2937"},children:"\ud83d\udccb Emisor"}),(0,Cr.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"12px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"RUC"}),(0,Cr.jsx)("p",{onClick:()=>C("/emisores/".concat(null===P||void 0===P?void 0:P.id)),style:{margin:"4px 0 0 0",fontSize:"15px",fontWeight:600,color:"#2563eb",cursor:"pointer",textDecoration:"underline",transition:"color 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.color="#1d4ed8",onMouseLeave:e=>e.currentTarget.style.color="#2563eb",children:null!==(e=null===P||void 0===P?void 0:P.ruc)&&void 0!==e?e:"-"})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"12px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Raz\xf3n Social"}),(0,Cr.jsx)("p",{style:{margin:"4px 0 0 0",fontSize:"15px",fontWeight:500,color:"#1f2937"},children:null!==(t=null===P||void 0===P?void 0:P.razon_social)&&void 0!==t?t:"-"})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"12px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Estado"}),(0,Cr.jsx)("div",{style:{marginTop:"4px"},children:(0,Cr.jsx)("span",{style:{display:"inline-block",padding:"6px 12px",borderRadius:"20px",fontSize:"13px",fontWeight:600,background:"ABIERTO"===(null===P||void 0===P?void 0:P.estado)?"#bbf7d0":"#f3f4f6",color:"ABIERTO"===(null===P||void 0===P?void 0:P.estado)?"#059669":"#374151"},children:"ABIERTO"===(null===P||void 0===P?void 0:P.estado)?"\u2713 Activo":null!==(n=null===P||void 0===P?void 0:P.estado)&&void 0!==n?n:"-"})})]})]})]}),(0,Cr.jsxs)("div",{style:{background:"linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%)",border:"1px solid #d1d5db",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.05)"},children:[(0,Cr.jsx)("h2",{style:{margin:"0 0 16px 0",fontSize:"16px",fontWeight:700,color:"#1f2937"},children:"\ud83c\udfe2 Establecimiento"}),(0,Cr.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"12px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"C\xf3digo"}),(0,Cr.jsx)("p",{onClick:()=>C("/emisores/".concat(S,"/establecimientos/").concat(k)),style:{margin:"4px 0 0 0",fontSize:"15px",fontWeight:600,color:"#2563eb",cursor:"pointer",textDecoration:"underline",transition:"color 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.color="#1d4ed8",onMouseLeave:e=>e.currentTarget.style.color="#2563eb",children:null!==(r=null===R||void 0===R?void 0:R.codigo)&&void 0!==r?r:"-"})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"12px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Nombre"}),(0,Cr.jsx)("p",{style:{margin:"4px 0 0 0",fontSize:"15px",fontWeight:500,color:"#1f2937"},children:null!==(a=null===R||void 0===R?void 0:R.nombre)&&void 0!==a?a:"-"})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"12px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Nombre Comercial"}),(0,Cr.jsx)("p",{style:{margin:"4px 0 0 0",fontSize:"15px",fontWeight:500,color:"#1f2937"},children:null!==(i=null===R||void 0===R?void 0:R.nombre_comercial)&&void 0!==i?i:"-"})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"12px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Direcci\xf3n"}),(0,Cr.jsx)("p",{style:{margin:"4px 0 0 0",fontSize:"15px",fontWeight:500,color:"#1f2937"},children:null!==(l=null===R||void 0===R?void 0:R.direccion)&&void 0!==l?l:"-"})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"12px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Correo"}),(0,Cr.jsx)("p",{style:{margin:"4px 0 0 0",fontSize:"15px",fontWeight:500,color:"#1f2937"},children:null!==(s=null===R||void 0===R?void 0:R.correo)&&void 0!==s?s:"-"})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"12px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Tel\xe9fono"}),(0,Cr.jsx)("p",{style:{margin:"4px 0 0 0",fontSize:"15px",fontWeight:500,color:"#1f2937"},children:null!==(c=null===R||void 0===R?void 0:R.telefono)&&void 0!==c?c:"-"})]})]})]})]}),(0,Cr.jsxs)("div",{style:{background:"linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"28px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.05)"},children:[(0,Cr.jsx)("h2",{style:{margin:"0 0 24px 0",fontSize:"18px",fontWeight:700,color:"#1f2937"},children:"\ud83d\udccd Informaci\xf3n del Punto de Emisi\xf3n"}),(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"24px",marginBottom:"24px"},children:[(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"12px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"C\xf3digo"}),(0,Cr.jsx)("p",{style:{margin:"8px 0 0 0",fontSize:"18px",fontWeight:700,color:"#1f2937"},children:null!==(d=null===T||void 0===T?void 0:T.codigo)&&void 0!==d?d:"-"})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"12px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Nombre"}),(0,Cr.jsx)("p",{style:{margin:"8px 0 0 0",fontSize:"16px",fontWeight:600,color:"#1f2937"},children:null!==(u=null===T||void 0===T?void 0:T.nombre)&&void 0!==u?u:"-"})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"12px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Estado"}),(0,Cr.jsx)("div",{style:{marginTop:"8px"},children:(0,Cr.jsxs)("span",{style:{display:"inline-block",padding:"8px 14px",borderRadius:"20px",fontSize:"13px",fontWeight:600,background:"ACTIVO"===(null===T||void 0===T?void 0:T.estado)?"#d1fae5":"#f3f4f6",color:"ACTIVO"===(null===T||void 0===T?void 0:T.estado)?"#059669":"#374151"},children:["ACTIVO"===(null===T||void 0===T?void 0:T.estado)?"\u2713 ":"",null!==(p=null===T||void 0===T?void 0:T.estado)&&void 0!==p?p:"-"]})})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"12px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Usuario Asociado"}),(0,Cr.jsx)("p",{style:{margin:"8px 0 0 0",fontSize:"15px",fontWeight:600,color:null!==T&&void 0!==T&&T.user_id?"#2563eb":"#6b7280",cursor:null!==T&&void 0!==T&&T.user_id?"pointer":"default",textDecoration:null!==T&&void 0!==T&&T.user_id?"underline":"none",transition:"color 0.2s ease"},onClick:()=>{null!==T&&void 0!==T&&T.user_id},onMouseEnter:e=>{null!==T&&void 0!==T&&T.user_id&&(e.currentTarget.style.color="#1d4ed8")},onMouseLeave:e=>{null!==T&&void 0!==T&&T.user_id&&(e.currentTarget.style.color="#2563eb")},children:null!==(f=null!==(m=null===T||void 0===T||null===(h=T.user)||void 0===h?void 0:h.name)&&void 0!==m?m:null===T||void 0===T?void 0:T.user_id)&&void 0!==f?f:"-"})]})]}),(0,Cr.jsx)("div",{style:{borderTop:"2px solid #e5e7eb",margin:"24px 0"}}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("h3",{style:{margin:"0 0 16px 0",fontSize:"14px",fontWeight:700,color:"#374151",textTransform:"uppercase",letterSpacing:"0.5px"},children:"\ud83d\udd22 Secuenciales de Comprobantes"}),(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px"},children:[(0,Cr.jsxs)("div",{style:{background:"#fff",padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,Cr.jsx)("label",{style:{fontSize:"11px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase"},children:"Factura"}),(0,Cr.jsx)("p",{style:{margin:"6px 0 0 0",fontSize:"18px",fontWeight:700,color:"#3b82f6"},children:null!==(g=null===T||void 0===T?void 0:T.secuencial_factura)&&void 0!==g?g:"-"})]}),(0,Cr.jsxs)("div",{style:{background:"#fff",padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,Cr.jsx)("label",{style:{fontSize:"11px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase"},children:"Liquidaci\xf3n Compra"}),(0,Cr.jsx)("p",{style:{margin:"6px 0 0 0",fontSize:"18px",fontWeight:700,color:"#3b82f6"},children:null!==(b=null===T||void 0===T?void 0:T.secuencial_liquidacion_compra)&&void 0!==b?b:"-"})]}),(0,Cr.jsxs)("div",{style:{background:"#fff",padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,Cr.jsx)("label",{style:{fontSize:"11px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase"},children:"Nota Cr\xe9dito"}),(0,Cr.jsx)("p",{style:{margin:"6px 0 0 0",fontSize:"18px",fontWeight:700,color:"#3b82f6"},children:null!==(x=null===T||void 0===T?void 0:T.secuencial_nota_credito)&&void 0!==x?x:"-"})]}),(0,Cr.jsxs)("div",{style:{background:"#fff",padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,Cr.jsx)("label",{style:{fontSize:"11px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase"},children:"Nota D\xe9bito"}),(0,Cr.jsx)("p",{style:{margin:"6px 0 0 0",fontSize:"18px",fontWeight:700,color:"#3b82f6"},children:null!==(v=null===T||void 0===T?void 0:T.secuencial_nota_debito)&&void 0!==v?v:"-"})]}),(0,Cr.jsxs)("div",{style:{background:"#fff",padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,Cr.jsx)("label",{style:{fontSize:"11px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase"},children:"Gu\xeda Remisi\xf3n"}),(0,Cr.jsx)("p",{style:{margin:"6px 0 0 0",fontSize:"18px",fontWeight:700,color:"#3b82f6"},children:null!==(y=null===T||void 0===T?void 0:T.secuencial_guia_remision)&&void 0!==y?y:"-"})]}),(0,Cr.jsxs)("div",{style:{background:"#fff",padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,Cr.jsx)("label",{style:{fontSize:"11px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase"},children:"Retenci\xf3n"}),(0,Cr.jsx)("p",{style:{margin:"6px 0 0 0",fontSize:"18px",fontWeight:700,color:"#3b82f6"},children:null!==(j=null===T||void 0===T?void 0:T.secuencial_retencion)&&void 0!==j?j:"-"})]}),(0,Cr.jsxs)("div",{style:{background:"#fff",padding:"16px",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,Cr.jsx)("label",{style:{fontSize:"11px",fontWeight:600,color:"#9ca3af",textTransform:"uppercase"},children:"Proforma"}),(0,Cr.jsx)("p",{style:{margin:"6px 0 0 0",fontSize:"18px",fontWeight:700,color:"#3b82f6"},children:null!==(w=null===T||void 0===T?void 0:T.secuencial_proforma)&&void 0!==w?w:"-"})]})]})]}),(0,Cr.jsx)("div",{style:{borderTop:"2px solid #e5e7eb",margin:"24px 0"}}),(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"12px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"\ud83d\udcc5 Fecha de Creaci\xf3n"}),(0,Cr.jsx)("p",{style:{margin:"8px 0 0 0",fontSize:"14px",fontWeight:500,color:"#1f2937"},children:I(null===T||void 0===T?void 0:T.created_at)})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"12px",fontWeight:600,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"\u270f\ufe0f \xdaltima Actualizaci\xf3n"}),(0,Cr.jsx)("p",{style:{margin:"8px 0 0 0",fontSize:"14px",fontWeight:500,color:"#1f2937"},children:I(null===T||void 0===T?void 0:T.updated_at)})]})]})]})]})},Ia=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return[{value:"administrador",label:"\ud83d\udc68\u200d\ud83d\udcbc Administrador"},{value:"distribuidor",label:"\ud83d\udce6 Distribuidor"}];return{administrador:[{value:"administrador",label:"\ud83d\udc68\u200d\ud83d\udcbc Administrador"},{value:"distribuidor",label:"\ud83d\udce6 Distribuidor"},{value:"emisor",label:"\ud83c\udfe2 Emisor"},{value:"gerente",label:"\ud83d\udcca Gerente"},{value:"cajero",label:"\ud83d\udcb3 Cajero"}],distribuidor:[{value:"emisor",label:"\ud83c\udfe2 Emisor"},{value:"gerente",label:"\ud83d\udcca Gerente"},{value:"cajero",label:"\ud83d\udcb3 Cajero"}],emisor:[{value:"gerente",label:"\ud83d\udcca Gerente"},{value:"cajero",label:"\ud83d\udcb3 Cajero"}],gerente:[{value:"cajero",label:"\ud83d\udcb3 Cajero"}],cajero:[]}[e]||[]},Fa=e=>{var t;let{isOpen:n,initialData:r,onClose:a,onSubmit:i,isEditing:l}=e;const{user:s}=zr(),{show:c}=Rr(),[d,u]=o.useState(""),[p,f]=o.useState(""),[m,h]=o.useState(""),[g,b]=o.useState(""),[x,v]=o.useState(""),[y,j]=o.useState("administrador"),[w,S]=o.useState({}),[k,N]=o.useState(!1),[C,E]=o.useState("nuevo"),[_,z]=o.useState(!1),[T,A]=o.useState(!1),[R,O]=o.useState(!1),[P,L]=o.useState(!1),I=o.useMemo(()=>s&&s.role?Ia(s.role,!l):[],[null===s||void 0===s?void 0:s.role,l]),F=o.useMemo(()=>({nuevo:[{value:"nuevo",label:"\ud83c\udd95 Nuevo",tooltip:"Usuario reci\xe9n creado, pendiente de verificaci\xf3n de email"},{value:"pendiente_verificacion",label:"\u23f3 Pendiente Verificaci\xf3n",tooltip:"Enviar email de verificaci\xf3n al usuario"}],activo:[{value:"activo",label:"\u2705 Activo",tooltip:"Usuario con acceso completo al sistema"},{value:"suspendido",label:"\u23f8\ufe0f Suspendido",tooltip:"Suspender temporalmente el acceso del usuario"},{value:"retirado",label:"\ud83d\udc4b Retirado",tooltip:"Usuario ya no forma parte de la organizaci\xf3n"}],pendiente_verificacion:[{value:"activo",label:"\u2705 Activo",tooltip:"Verificaci\xf3n completada, activar usuario"},{value:"suspendido",label:"\u23f8\ufe0f Suspendido",tooltip:"Suspender temporalmente el acceso del usuario"},{value:"retirado",label:"\ud83d\udc4b Retirado",tooltip:"Usuario ya no forma parte de la organizaci\xf3n"}],suspendido:[],retirado:[]}[C]||[{value:"nuevo",label:"\ud83c\udd95 Nuevo",tooltip:"Usuario reci\xe9n creado"}]),[C]);o.useEffect(()=>{if(n){if(l&&r)u(r.cedula||""),f(r.nombres||""),h(r.apellidos||""),b(r.username||""),v(r.email||""),j(r.role||"administrador"),E(r.estado||("admin@factura.local"===r.email?"activo":"nuevo"));else{u(""),f(""),h(""),b(""),v("");const e=null===s||void 0===s?void 0:s.role,t=e?Ia(e,!0):[];j(t.length>0?t[0].value:"administrador"),E("nuevo")}S({})}},[n,l,r,null===s||void 0===s?void 0:s.role]);return n?(0,Cr.jsx)("div",{className:"usuario-modal-overlay",children:(0,Cr.jsxs)("div",{className:"usuario-modal-content usuario-modal-content-barra-izquierda",children:[(0,Cr.jsx)("div",{className:"usuario-modal-barra-izquierda"}),(0,Cr.jsxs)("div",{className:"usuario-modal-main",children:[(0,Cr.jsxs)("div",{className:"usuario-modal-header",style:{position:"relative"},children:[(0,Cr.jsx)("h2",{children:l?"\u270f\ufe0f Editar Usuario":"\u2795 Crear Nuevo Usuario"}),(0,Cr.jsx)("button",{type:"button",className:"usuario-modal-close",onClick:a,disabled:k,style:{position:"absolute",top:24,right:24},children:"\u2715"})]}),(0,Cr.jsx)("div",{className:"usuario-barra-horizontal-interna"}),(0,Cr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={},t=l&&"admin@factura.local"===(null===r||void 0===r?void 0:r.email);C&&["nuevo","activo","pendiente_verificacion","suspendido","retirado"].includes(C)||(e.estado="Estado inv\xe1lido"),t&&"activo"!==C&&(e.estado="El admin debe estar siempre Activo"),d&&10===d.length||(e.cedula="La c\xe9dula debe tener exactamente 10 d\xedgitos"),(!p||p.trim().length<3)&&(e.nombres="El nombre debe tener al menos 3 caracteres"),/^[a-z\xe1\xe9\xed\xf3\xfa\xf1A-Z\xc1\xc9\xcd\xd3\xda\xd1\s'-]+$/.test(p)||(e.nombres="Solo se permiten caracteres alfab\xe9ticos"),(!m||m.trim().length<3)&&(e.apellidos="El apellido debe tener al menos 3 caracteres"),/^[a-z\xe1\xe9\xed\xf3\xfa\xf1A-Z\xc1\xc9\xcd\xd3\xda\xd1\s'-]+$/.test(m)||(e.apellidos="Solo se permiten caracteres alfab\xe9ticos"),(!g||g.trim().length<3)&&(e.username="El nombre de usuario debe tener al menos 3 caracteres"),x&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x)||(e.email="Email inv\xe1lido. Use formato: usuario@dominio.com");const n=I.map(e=>e.value);return y&&n.includes(y)||(e.role="Rol inv\xe1lido o no permitido"),S(e),0===Object.keys(e).length})())try{N(!0);const e={cedula:d,nombres:p,apellidos:m,username:g,email:x,role:y,estado:l?C:"nuevo"};await i(e)}finally{N(!1)}},children:[(0,Cr.jsx)("div",{className:"usuario-modal-body",children:(0,Cr.jsxs)("div",{className:"usuario-form-grid",children:[(0,Cr.jsxs)("div",{className:"usuario-form-group",children:[(0,Cr.jsxs)("label",{htmlFor:"modal-cedula",className:"usuario-form-label",children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83c\udd94"}),"N\xfamero de C\xe9dula",(0,Cr.jsx)("span",{className:"required",children:"*"})]}),(0,Cr.jsx)("input",{id:"modal-cedula",type:"text",value:d,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,10);u(t);const n=ha(t);let r=n.valid?"":n.error||"";if(S(e=>He(He({},e),{},{cedula:r})),10===t.length&&!r&&!l){A(!0);setTimeout(async()=>{try{await Ta.checkCedula(t),S(e=>He(He({},e),{},{cedula:"\u274c Esta c\xe9dula ya est\xe1 registrada en el sistema"}))}catch(n){var e;404===(null===n||void 0===n||null===(e=n.response)||void 0===e?void 0:e.status)&&S(e=>{const t=He({},e);return delete t.cedula,t})}finally{A(!1)}},500)}},placeholder:"0123456789",maxLength:10,className:w.cedula?"usuario-form-input error":"usuario-form-input",disabled:k||l&&"nuevo"!==C,autoComplete:"off"}),w.cedula&&(0,Cr.jsxs)("span",{className:"usuario-error-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),w.cedula]})]}),(0,Cr.jsxs)("div",{className:"usuario-form-group",children:[(0,Cr.jsxs)("label",{htmlFor:"modal-email",className:"usuario-form-label",children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udce7"}),"Email",(0,Cr.jsx)("span",{className:"required",children:"*"})]}),(0,Cr.jsx)("input",{id:"modal-email",type:"email",value:x,onChange:e=>{const t=e.target.value;v(t);const n=ga(t),r=n.valid?"":n.error||"";if(S(e=>He(He({},e),{},{email:r})),n.valid&&!l){O(!0);setTimeout(async()=>{try{await Ta.checkEmail(t),S(e=>He(He({},e),{},{email:"\u274c Este correo electr\xf3nico ya est\xe1 registrado en el sistema. Por favor usa otro."}))}catch(n){var e;404===(null===n||void 0===n||null===(e=n.response)||void 0===e?void 0:e.status)&&S(e=>{const t=He({},e);return delete t.email,t})}finally{O(!1)}},500)}},placeholder:"usuario@example.com",className:w.email?"usuario-form-input error":"usuario-form-input",disabled:k||l&&"nuevo"!==C,autoComplete:"off"}),w.email&&(0,Cr.jsxs)("span",{className:"usuario-error-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),w.email]})]}),(0,Cr.jsxs)("div",{className:"usuario-form-group",children:[(0,Cr.jsxs)("label",{htmlFor:"modal-nombres",className:"usuario-form-label",children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udc64"}),"Nombres",(0,Cr.jsx)("span",{className:"required",children:"*"})]}),(0,Cr.jsx)("input",{id:"modal-nombres",type:"text",value:p,onChange:e=>{let t=e.target.value;t=t.replace(/[^a-z\xe1\xe9\xed\xf3\xfa\xf1A-Z\xc1\xc9\xcd\xd3\xda\xd1\s'-]/g,""),f(t);const n=xa(t,"nombres"),r=n.valid?"":n.error||"";S(He(He({},w),{},{nombres:r}))},placeholder:"Ingrese sus nombres",className:w.nombres?"usuario-form-input error":"usuario-form-input",disabled:k||l&&"nuevo"!==C,autoComplete:"off"}),w.nombres&&(0,Cr.jsxs)("span",{className:"usuario-error-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),w.nombres]})]}),(0,Cr.jsxs)("div",{className:"usuario-form-group",children:[(0,Cr.jsxs)("label",{htmlFor:"modal-apellidos",className:"usuario-form-label",children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udc65"}),"Apellidos",(0,Cr.jsx)("span",{className:"required",children:"*"})]}),(0,Cr.jsx)("input",{id:"modal-apellidos",type:"text",value:m,onChange:e=>{let t=e.target.value;t=t.replace(/[^a-z\xe1\xe9\xed\xf3\xfa\xf1A-Z\xc1\xc9\xcd\xd3\xda\xd1\s'-]/g,""),h(t);const n=xa(t,"apellidos"),r=n.valid?"":n.error||"";S(He(He({},w),{},{apellidos:r}))},placeholder:"Ingrese sus apellidos",className:w.apellidos?"usuario-form-input error":"usuario-form-input",disabled:k||l&&"nuevo"!==C,autoComplete:"off"}),w.apellidos&&(0,Cr.jsxs)("span",{className:"usuario-error-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),w.apellidos]})]}),(0,Cr.jsxs)("div",{className:"usuario-form-group",children:[(0,Cr.jsxs)("label",{htmlFor:"modal-username",className:"usuario-form-label",children:[(0,Cr.jsx)("span",{className:"icon",children:"@"}),"Nombre de Usuario",(0,Cr.jsx)("span",{className:"required",children:"*"})]}),(0,Cr.jsx)("input",{id:"modal-username",type:"text",value:g,onChange:e=>{const t=e.target.value;b(t);const n=ba(t),r=n.valid?"":n.error||"";if(S(e=>He(He({},e),{},{username:r})),t.length>=4&&!r&&!l){z(!0);setTimeout(async()=>{try{await Ta.checkUsername(t),S(e=>He(He({},e),{},{username:"\u274c Este nombre de usuario ya est\xe1 registrado. Por favor elige otro."}))}catch(n){var e;404===(null===n||void 0===n||null===(e=n.response)||void 0===e?void 0:e.status)&&S(e=>{const t=He({},e);return delete t.username,t})}finally{z(!1)}},500)}},placeholder:"nombre_usuario",className:w.username?"usuario-form-input error":"usuario-form-input",disabled:k||l&&"nuevo"!==C,autoComplete:"off"}),w.username&&(0,Cr.jsxs)("span",{className:"usuario-error-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),w.username]})]}),(0,Cr.jsxs)("div",{className:"usuario-form-group",children:[(0,Cr.jsxs)("label",{htmlFor:"modal-role",className:"usuario-form-label",children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83c\udfad"}),"Rol",(0,Cr.jsx)("span",{className:"required",children:"*"})]}),I.length>0?(0,Cr.jsx)("select",{id:"modal-role",value:y,onChange:e=>{const t=e.target.value;j(t),w.role&&S(He(He({},w),{},{role:""}))},className:w.role?"usuario-form-select error":"usuario-form-select",disabled:k,children:I.map(e=>(0,Cr.jsx)("option",{value:e.value,children:e.label},e.value))}):(0,Cr.jsxs)("div",{className:"usuario-no-permissions",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),"No tienes permisos para crear usuarios"]}),w.role&&(0,Cr.jsxs)("span",{className:"usuario-error-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),w.role]})]}),l&&"nuevo"!==C&&(0,Cr.jsxs)("div",{className:"usuario-form-group full-width",children:[(0,Cr.jsxs)("label",{htmlFor:"modal-estado",className:"usuario-form-label",children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udd04"}),"Estado del Usuario",(0,Cr.jsx)("span",{className:"required",children:"*"})]}),"admin@factura.local"===(null===r||void 0===r?void 0:r.email)?(0,Cr.jsxs)("div",{className:"usuario-estado-locked",children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udd12"}),(0,Cr.jsx)("strong",{children:"\u2705 Activo"}),(0,Cr.jsx)("span",{className:"help-text",children:"El administrador principal siempre debe estar activo"})]}):"retirado"===C||"suspendido"===C?(0,Cr.jsxs)("div",{className:"usuario-estado-locked",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u2139\ufe0f"}),(0,Cr.jsx)("strong",{children:"retirado"===C?"\ud83d\udc4b Retirado":"\u23f8\ufe0f Suspendido"}),(0,Cr.jsx)("span",{className:"help-text",children:'Para cambiar el estado, usa el bot\xf3n "Reenviar Correo" para iniciar el proceso de verificaci\xf3n'})]}):(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)("select",{id:"modal-estado",value:C,onChange:e=>E(e.target.value),className:w.estado?"usuario-form-select error":"usuario-form-select",disabled:k,children:F.map(e=>(0,Cr.jsx)("option",{value:e.value,title:e.tooltip,children:e.label},e.value))}),(0,Cr.jsxs)("span",{className:"usuario-help-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u2139\ufe0f"}),(null===(t=F.find(e=>e.value===C))||void 0===t?void 0:t.tooltip)||"Selecciona un estado"]})]}),w.estado&&(0,Cr.jsxs)("span",{className:"usuario-error-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),w.estado]})]}),!l&&(0,Cr.jsxs)("div",{className:"usuario-form-group full-width",children:[(0,Cr.jsxs)("label",{className:"usuario-form-label",children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udd10"}),"Contrase\xf1a",(0,Cr.jsx)("span",{className:"required",children:"*"})]}),(0,Cr.jsxs)("div",{className:"usuario-password-auto",children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udd10"}),"Generada autom\xe1ticamente"]}),(0,Cr.jsxs)("span",{className:"usuario-help-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u2139\ufe0f"}),"El usuario recibir\xe1 un correo para verificar su cuenta y establecer su propia contrase\xf1a."]})]})]})}),(0,Cr.jsxs)("div",{className:"usuario-modal-footer",children:[(0,Cr.jsx)("button",{type:"button",className:"usuario-btn usuario-btn-cancel",onClick:a,disabled:k||P,children:"Cancelar"}),l&&r&&["nuevo","suspendido","retirado"].includes(C)&&(0,Cr.jsx)("button",{type:"button",className:"usuario-btn usuario-btn-resend",onClick:async()=>{if(null!==r&&void 0!==r&&r.id){L(!0);try{var e;let t=C;"retirado"!==C&&"suspendido"!==C||(t="pendiente_verificacion");const n=await Ta.resendVerificationEmail(r.id,t);t!==C&&E(t);const a={nuevo:{title:"\u2709\ufe0f Correo Reenviado",message:"Correo de verificaci\xf3n enviado a ".concat(r.email,". El usuario debe verificar su cuenta para activarla.")},retirado:{title:"\ud83d\udd04 Proceso de Reactivaci\xf3n Iniciado",message:"Correo de reactivaci\xf3n enviado a ".concat(r.email,". Estado cambiado a Pendiente Verificaci\xf3n. El usuario debe verificar su correo para reactivar su cuenta.")},suspendido:{title:"\ud83d\udd04 Proceso de Reactivaci\xf3n Iniciado",message:"Correo de reactivaci\xf3n enviado a ".concat(r.email,". Estado cambiado a Pendiente Verificaci\xf3n. El usuario debe verificar su correo para reactivar su cuenta.")}}[C]||{title:"\u2705 Correo Enviado",message:(null===(e=n.data)||void 0===e?void 0:e.message)||"Correo enviado exitosamente"};c({title:a.title,message:a.message,type:"success"})}catch(a){var t,n;const e=(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error al reenviar el correo";c({title:"\u274c Error",message:e,type:"error"})}finally{L(!1)}}},disabled:k||P,title:"nuevo"===C?"Reenviar correo de verificaci\xf3n inicial":"Enviar correo de reactivaci\xf3n (cambiar\xe1 a Pendiente Verificaci\xf3n)",children:P?(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)(Pr,{inline:!0,size:18,message:""}),"Enviando..."]}):(0,Cr.jsx)(Cr.Fragment,{children:"\ud83d\udce7 Reenviar Correo"})}),(0,Cr.jsx)("button",{type:"submit",className:"usuario-btn usuario-btn-submit",disabled:k||P||0===I.length||_||T||R||Object.values(w).some(e=>e&&e.length>0)||!d||!p||!m||!g||!x,title:Object.values(w).some(e=>e&&e.length>0)?"Por favor corrige los errores antes de continuar":_||T||R?"Verificando disponibilidad...":"",children:k?(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)(Pr,{inline:!0,size:18,message:""}),"Guardando..."]}):(0,Cr.jsx)(Cr.Fragment,{children:l?"\ud83d\udcbe Actualizar":"\u2728 Registrar"})})]})]})]})]})}):null},Da=e=>{let{isOpen:t,onClose:n,onSubmit:r}=e;const[a,i]=(0,o.useState)("confirmation"),[l,s]=(0,o.useState)(""),[c,d]=(0,o.useState)(null),[u,p]=(0,o.useState)(!1),f=async()=>{if(l.trim()){p(!0);try{await r(l),p(!1),n(),m()}catch(o){var e,t,a;p(!1);const n=(null===o||void 0===o||null===(e=o.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||(null===o||void 0===o?void 0:o.message)||"Error al eliminar el usuario";401===(null===o||void 0===o||null===(a=o.response)||void 0===a?void 0:a.status)||n.includes("contrase\xf1a")||n.includes("password")?d("Contrase\xf1a incorrecta"):d(n)}}else d("La contrase\xf1a es obligatoria")},m=()=>{i("confirmation"),s(""),d(null)};return t?(0,Cr.jsx)("div",{className:"delete-modal-overlay",children:(0,Cr.jsxs)("div",{className:"delete-modal-content",onClick:e=>e.stopPropagation(),children:[(0,Cr.jsxs)("div",{className:"delete-modal-header",children:[(0,Cr.jsxs)("h2",{children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),"confirmation"===a?"Eliminar Usuario":"Verificar Contrase\xf1a"]}),(0,Cr.jsx)("button",{className:"delete-modal-close",onClick:n,children:"\u2715"})]}),"confirmation"===a?(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsxs)("div",{className:"delete-modal-body",children:[(0,Cr.jsxs)("p",{className:"delete-confirmation-text",children:["\xbfEst\xe1 seguro de que desea ",(0,Cr.jsx)("strong",{children:"eliminar este usuario"}),"? Esta acci\xf3n es permanente y no se puede deshacer."]}),(0,Cr.jsxs)("div",{className:"delete-warning-box",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("strong",{children:"Esta acci\xf3n no se puede deshacer."})," Todos los datos asociados al usuario ser\xe1n eliminados permanentemente del sistema."]})]}),(0,Cr.jsx)("p",{className:"delete-info-text",children:'Para continuar, haz clic en "Eliminar". Se te solicitar\xe1 que ingreses tu contrase\xf1a como medida de seguridad.'})]}),(0,Cr.jsxs)("div",{className:"delete-modal-footer",children:[(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-cancel",onClick:n,disabled:u,children:"Cancelar"}),(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-danger",onClick:()=>{i("password"),s(""),d(null)},disabled:u,children:"\ud83d\uddd1\ufe0f S\xed, eliminar"})]})]}):(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsxs)("div",{className:"delete-modal-body",children:[(0,Cr.jsx)("p",{className:"delete-password-text",children:"Por seguridad, debes confirmar tu identidad ingresando tu contrase\xf1a de administrador."}),(0,Cr.jsxs)("div",{className:"delete-form-group",children:[(0,Cr.jsx)("label",{htmlFor:"password",className:"delete-form-label",children:"Contrase\xf1a del administrador *"}),(0,Cr.jsx)("input",{id:"password",type:"password",value:l,onChange:e=>{s(e.target.value),c&&d(null)},placeholder:"Ingresa tu contrase\xf1a",className:c?"delete-form-input error":"delete-form-input",autoFocus:!0,onKeyPress:e=>{"Enter"===e.key&&l.trim()&&!u&&f()}}),c&&(0,Cr.jsxs)("span",{className:"delete-error-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),c]})]})]}),(0,Cr.jsxs)("div",{className:"delete-modal-footer",children:[(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-cancel",onClick:()=>{m(),n()},disabled:u,children:"Cancelar"}),(0,Cr.jsx)("button",{type:"button",className:"delete-btn delete-btn-danger",onClick:f,disabled:u||!l.trim(),children:u?(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)(Pr,{inline:!0,size:18,message:""}),"Eliminando..."]}):"\ud83d\uddd1\ufe0f Eliminar usuario"})]})]})]})}):null},Ba=()=>{const[e,t]=o.useState([]),[n,r]=o.useState(!1),[a,i]=o.useState(1),[l,s]=o.useState(10),[c,d]=o.useState(0),[u,p]=o.useState(""),{show:f}=Rr(),{user:m}=zr(),[h,g]=o.useState(!1),[b,x]=o.useState(!1),[v,y]=o.useState(null),[j,w]=o.useState(!1),[S,k]=o.useState(null),[N,C]=o.useState(!1),[E,_]=o.useState(null),[z,T]=o.useState(!1),[A,R]=o.useState("created_at"),[O,P]=o.useState("desc"),[L,I]=o.useState(!1),[F,D]=o.useState({cedula:"",nombres:"",apellidos:"",username:"",email:"",roles:[],estados:[],creator:"",establishment:"",emisor:"",dateFrom:"",dateTo:"",updateDateFrom:"",updateDateTo:""}),B=o.useCallback(async()=>{try{r(!0);const e=(await Ta.list({page:a,per_page:l,search:u})).data;t(e.data),d(e.meta.total)}catch(o){var e,n;const t=(null===o||void 0===o||null===(e=o.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||(null===o||void 0===o?void 0:o.message)||"Error cargando usuarios";f({title:"Error",message:t,type:"error"})}finally{r(!1)}},[a,l,u,f]);o.useEffect(()=>{B()},[B]);const W=o.useCallback(e=>!!m&&("administrador"===m.role||"distribuidor"===m.role),[m]),M=o.useCallback(e=>{if(!m)return!1;if(!("administrador"===m.role||"distribuidor"===m.role))return!1;return"administrador"===e.role||"distribuidor"===e.role},[m]),U=o.useCallback(e=>!!W(e)&&"nuevo"===e.estado,[W]),q=o.useMemo(()=>{let t=e;return t=(e=>e.filter(e=>{var t,n,r,a,o;if(F.cedula&&(null===(t=e.cedula)||void 0===t||!t.toLowerCase().includes(F.cedula.toLowerCase())))return!1;if(F.nombres&&(null===(n=e.nombres)||void 0===n||!n.toLowerCase().includes(F.nombres.toLowerCase())))return!1;if(F.apellidos&&(null===(r=e.apellidos)||void 0===r||!r.toLowerCase().includes(F.apellidos.toLowerCase())))return!1;if(F.username&&(null===(a=e.username)||void 0===a||!a.toLowerCase().includes(F.username.toLowerCase())))return!1;if(F.email&&(null===(o=e.email)||void 0===o||!o.toLowerCase().includes(F.email.toLowerCase())))return!1;if(F.roles.length>0&&!F.roles.includes(e.role))return!1;if(F.estados.length>0&&!F.estados.includes(e.estado||"activo"))return!1;if(F.creator&&!"".concat(e.created_by_role||""," ").concat(e.created_by_username||""," ").concat(e.created_by_nombres||""," ").concat(e.created_by_apellidos||"").toLowerCase().includes(F.creator.toLowerCase()))return!1;if(F.establishment&&!(e.establecimientos||[]).some(e=>e.codigo.toLowerCase().includes(F.establishment.toLowerCase())||e.nombre.toLowerCase().includes(F.establishment.toLowerCase())))return!1;if(F.emisor&&!"".concat(e.emisor_ruc||""," ").concat(e.emisor_razon_social||"").toLowerCase().includes(F.emisor.toLowerCase()))return!1;if(F.dateFrom&&e.created_at&&new Date(e.created_at)<new Date(F.dateFrom))return!1;if(F.dateTo&&e.created_at){const t=new Date(e.created_at),n=new Date(F.dateTo);if(n.setHours(23,59,59,999),t>n)return!1}if(F.updateDateFrom&&e.updated_at&&new Date(e.updated_at)<new Date(F.updateDateFrom))return!1;if(F.updateDateTo&&e.updated_at){const t=new Date(e.updated_at),n=new Date(F.updateDateTo);if(n.setHours(23,59,59,999),t>n)return!1}return!0}))(t),t=(e=>[...e].sort((e,t)=>{let n,r;switch(A){case"cedula":n=e.cedula||"",r=t.cedula||"";break;case"nombres":n="".concat(e.nombres||""," ").concat(e.apellidos||""),r="".concat(t.nombres||""," ").concat(t.apellidos||"");break;case"username":n=e.username||"",r=t.username||"";break;case"email":n=e.email||"",r=t.email||"";break;case"estado":n=e.estado||"activo",r=t.estado||"activo";break;case"role":n=e.role||"",r=t.role||"";break;case"created_at":n=new Date(e.created_at||0).getTime(),r=new Date(t.created_at||0).getTime();break;case"updated_at":n=new Date(e.updated_at||0).getTime(),r=new Date(t.updated_at||0).getTime();break;default:return 0}return n<r?"asc"===O?-1:1:n>r?"asc"===O?1:-1:0}))(t),t},[e,F,A,O]),H=e=>{"nuevo"===e.estado?(k(e),w(!0)):f({title:"\u274c No permitido",message:'Solo se pueden eliminar usuarios en estado "Nuevo". Este usuario est\xe1 en estado "'.concat(e.estado,'". Para cambiar su estado a "Retirado", utiliza la opci\xf3n editar.'),type:"error"})},V=o.useCallback(async(e,t)=>{const n=null!==t&&void 0!==t?t:null===e||void 0===e?void 0:e.id;if(n){_(e||null),C(!0),T(!0);try{var r,a,o;let t=null!==(r=null!==(a=null===(o=(await Ta.get(n)).data)||void 0===o?void 0:o.data)&&void 0!==a?a:e)&&void 0!==r?r:null;if(!t)throw new Error("No se pudo cargar la informaci\xf3n del usuario");if(t.emisor_id)try{var i;const e=null===(i=(await Xr.get(t.emisor_id)).data)||void 0===i?void 0:i.data;e&&(t=He(He({},t),{},{emisor_ruc:e.ruc,emisor_razon_social:e.razon_social,emisor_estado:e.estado}))}catch(c){console.error("Error cargando emisor asociado al usuario",c)}_(t)}catch(d){var l,s;const t=(null===d||void 0===d||null===(l=d.response)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.message)||(null===d||void 0===d?void 0:d.message)||"Error obteniendo detalles del usuario";f({title:"Error",message:t,type:"error"}),e||C(!1)}finally{T(!1)}}},[f]),Q=Math.ceil(c/l),G=[{key:"cedula",label:"C\xe9dula",width:140,render:e=>(0,Cr.jsx)("span",{className:"cedula-link",onClick:()=>V(e),children:(0,Cr.jsx)("span",{className:"cedula-numero",children:e.cedula||"Sin c\xe9dula"})})},{key:"nombres",label:"Nombres y Apellidos",width:280,render:e=>"".concat(e.nombres||""," ").concat(e.apellidos||"").trim()||"-"},{key:"username",label:"Usuario",width:180},{key:"email",label:"Email",width:300,render:e=>(0,Cr.jsx)("span",{className:"email-cell",children:e.email})},{key:"role",label:"Rol",width:150,render:e=>(0,Cr.jsx)("span",{className:"badge-rol",style:{background:{administrador:"#7c3aed",distribuidor:"#f97316",emisor:"#3b82f6",gerente:"#10b981",cajero:"#8b5cf6"}[e.role]||"#9ca3af"},children:e.role})},{key:"estado",label:"Estados",width:200,render:e=>{const t=e.estado||"nuevo",n={nuevo:"\ud83c\udd95 Usuario creado, pero sin validar correo. El nombre de usuario y el correo pueden modificarse. Sin acceso al sistema.",activo:"\u2705 Usuario con correo validado y acceso normal. El nombre de usuario se vuelve inalterable. No puede volver a estado Nuevo.",pendiente_verificacion:"\u23f3 Estado temporal cuando el usuario solicita cambio de correo. Requiere ingresar su contrase\xf1a y verificar el nuevo correo. Sin acceso al sistema.",suspendido:"\ud83d\udeab Acceso bloqueado temporalmente por decisi\xf3n de un usuario con jerarqu\xeda superior. No puede iniciar sesi\xf3n hasta su reactivaci\xf3n.",retirado:"\ud83d\udc4b Baja formal del usuario dentro del emisor (temporal o permanente). No tiene acceso. Solo puede reactivarse mediante nueva verificaci\xf3n de correo solicitada por el creador."}[t]||"Estado sin descripci\xf3n disponible.";return(0,Cr.jsxs)("div",{className:"tooltip-container",children:[(0,Cr.jsx)("span",{className:"badge-estado",style:{background:{nuevo:"#6366f1",activo:"#16a34a",pendiente_verificacion:"#f59e0b",suspendido:"#ec4899",retirado:"#6b7280"}[t]||"#9ca3af"},children:{nuevo:"Nuevo",activo:"Activo",pendiente_verificacion:"Pendiente de verificaci\xf3n",suspendido:"Suspendido",retirado:"Retirado"}[t]||e.estado}),(0,Cr.jsx)("div",{className:"tooltip-content",children:n})]})}},{key:"emisor_ruc",label:"Emisor",width:300,render:e=>{return e.emisor_ruc||e.emisor_razon_social?(0,Cr.jsx)("div",{className:"emisor-info",children:(0,Cr.jsx)("a",{href:"#",onClick:t=>{t.preventDefault(),e.emisor_id&&ya(e.emisor_id)},children:(t=e.emisor_ruc,n=e.emisor_razon_social,t||n?"".concat(t||"\u2014"," \u2013 ").concat(n||"\u2014"):"\u2014")})}):"-";var t,n}},{key:"establecimientos",label:"Establecimientos",width:250,render:e=>{const t=e.establecimientos||[];return 0===t.length?"-":(0,Cr.jsx)("div",{className:"list-items",children:t.map((t,n)=>(0,Cr.jsx)("div",{className:"list-item-link",children:(0,Cr.jsx)("a",{href:"#",onClick:n=>{n.preventDefault(),e.emisor_id&&ja(e.emisor_id,t.id)},children:Sa(t.codigo,t.nombre)})},n))})}},{key:"puntos_emision",label:"Puntos de Emisi\xf3n",width:280,render:e=>{const t=e.puntos_emision||[];return 0===t.length?"-":(0,Cr.jsx)("div",{className:"list-items",children:t.map((t,n)=>(0,Cr.jsx)("div",{className:"list-item-link",children:(0,Cr.jsx)("a",{href:"#",onClick:n=>{n.preventDefault(),e.emisor_id&&t.establecimiento_id&&wa(e.emisor_id,t.establecimiento_id,t.id)},children:ka(t.codigo,t.nombre)})},n))})}},{key:"created_by_username",label:"Usuario creador",width:300,render:e=>{if(!e.created_by_username)return"-";if(!Ca(e.created_by_role))return"-";const t=Na(e.created_by_role,e.created_by_username,e.created_by_nombres,e.created_by_apellidos);return(0,Cr.jsx)("span",{className:"creator-link",onClick:()=>{e.created_by_id&&V(null,e.created_by_id)},style:{cursor:e.created_by_id?"pointer":"default",color:e.created_by_id?"#6366f1":"#64748b",fontWeight:500,fontSize:"13px"},children:t})}},{key:"created_at",label:"Fecha de creaci\xf3n",width:180,render:e=>{if(!e.created_at)return"-";return new Date(e.created_at).toLocaleDateString("es-EC",{day:"2-digit",month:"2-digit",year:"numeric"})}},{key:"updated_at",label:"\xdaltima actualizaci\xf3n",width:180,render:e=>{if(!e.updated_at)return"-";return new Date(e.updated_at).toLocaleDateString("es-EC",{day:"2-digit",month:"2-digit",year:"numeric"})}}];return(0,Cr.jsxs)("div",{className:"usuarios-page-container",children:[(0,Cr.jsxs)("div",{className:"usuarios-header",children:[(0,Cr.jsx)("h1",{children:"Gesti\xf3n de Usuarios"}),(0,Cr.jsxs)("div",{className:"header-actions",children:[(0,Cr.jsxs)("button",{onClick:()=>I(!L),className:"btn-toggle-filters",title:L?"Ocultar filtros":"Mostrar filtros",style:{background:L?"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)":"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"#fff",border:"none",borderRadius:"12px",padding:"14px 24px",cursor:"pointer",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",marginRight:"12px"},children:["\ud83d\udd0d ",L?"Ocultar":"Filtros"]}),(0,Cr.jsxs)("button",{className:"btn-nuevo",onClick:()=>g(!0),children:[(0,Cr.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Cr.jsx)("path",{d:"M12 5v14M5 12h14"})}),"Nuevo Usuario"]})]})]}),L&&(0,Cr.jsxs)("div",{className:"filters-panel",style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",border:"2px solid #dee2e6",borderRadius:"12px",padding:"20px",marginBottom:"16px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.05)"},children:[(0,Cr.jsxs)("div",{className:"filters-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px",marginBottom:"16px"},children:[(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151"},children:"C\xe9dula"}),(0,Cr.jsx)("input",{type:"text",value:F.cedula,onChange:e=>D(He(He({},F),{},{cedula:e.target.value})),placeholder:"Buscar por c\xe9dula",style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db"}})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151"},children:"Nombres"}),(0,Cr.jsx)("input",{type:"text",value:F.nombres,onChange:e=>D(He(He({},F),{},{nombres:e.target.value})),placeholder:"Buscar por nombres",style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db"}})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151"},children:"Apellidos"}),(0,Cr.jsx)("input",{type:"text",value:F.apellidos,onChange:e=>D(He(He({},F),{},{apellidos:e.target.value})),placeholder:"Buscar por apellidos",style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db"}})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151"},children:"Username"}),(0,Cr.jsx)("input",{type:"text",value:F.username,onChange:e=>D(He(He({},F),{},{username:e.target.value})),placeholder:"Buscar por username",style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db"}})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151"},children:"Email"}),(0,Cr.jsx)("input",{type:"text",value:F.email,onChange:e=>D(He(He({},F),{},{email:e.target.value})),placeholder:"Buscar por email",style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db"}})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151"},children:"Emisor"}),(0,Cr.jsx)("input",{type:"text",value:F.emisor,onChange:e=>D(He(He({},F),{},{emisor:e.target.value})),placeholder:"RUC o raz\xf3n social",style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db"}})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151"},children:"Establecimiento"}),(0,Cr.jsx)("input",{type:"text",value:F.establishment,onChange:e=>D(He(He({},F),{},{establishment:e.target.value})),placeholder:"C\xf3digo o nombre",style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db"}})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151"},children:"Usuario creador"}),(0,Cr.jsx)("input",{type:"text",value:F.creator,onChange:e=>D(He(He({},F),{},{creator:e.target.value})),placeholder:"Buscar por creador",style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db"}})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151"},children:"Roles"}),(0,Cr.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:["administrador","distribuidor","emisor","gerente","cajero"].map(e=>(0,Cr.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",cursor:"pointer"},children:[(0,Cr.jsx)("input",{type:"checkbox",checked:F.roles.includes(e),onChange:()=>(e=>{D(t=>He(He({},t),{},{roles:t.roles.includes(e)?t.roles.filter(t=>t!==e):[...t.roles,e]}))})(e),style:{cursor:"pointer"}}),e.charAt(0).toUpperCase()+e.slice(1)]},e))})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151"},children:"Estados"}),(0,Cr.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:["nuevo","activo","pendiente_verificacion","suspendido","retirado"].map(e=>(0,Cr.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",cursor:"pointer"},children:[(0,Cr.jsx)("input",{type:"checkbox",checked:F.estados.includes(e),onChange:()=>(e=>{D(t=>He(He({},t),{},{estados:t.estados.includes(e)?t.estados.filter(t=>t!==e):[...t.estados,e]}))})(e),style:{cursor:"pointer"}}),"pendiente_verificacion"===e?"Pendiente":e.charAt(0).toUpperCase()+e.slice(1)]},e))})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151"},children:"Fecha creaci\xf3n desde"}),(0,Cr.jsx)("input",{type:"date",value:F.dateFrom,onChange:e=>D(He(He({},F),{},{dateFrom:e.target.value})),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db"}})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151"},children:"Fecha creaci\xf3n hasta"}),(0,Cr.jsx)("input",{type:"date",value:F.dateTo,onChange:e=>D(He(He({},F),{},{dateTo:e.target.value})),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db"}})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151"},children:"Actualizaci\xf3n desde"}),(0,Cr.jsx)("input",{type:"date",value:F.updateDateFrom,onChange:e=>D(He(He({},F),{},{updateDateFrom:e.target.value})),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db"}})]}),(0,Cr.jsxs)("div",{className:"filter-group",children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151"},children:"Actualizaci\xf3n hasta"}),(0,Cr.jsx)("input",{type:"date",value:F.updateDateTo,onChange:e=>D(He(He({},F),{},{updateDateTo:e.target.value})),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db"}})]})]}),(0,Cr.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",paddingTop:"12px",borderTop:"1px solid #dee2e6"},children:(0,Cr.jsx)("button",{onClick:()=>{D({cedula:"",nombres:"",apellidos:"",username:"",email:"",roles:[],estados:[],creator:"",establishment:"",emisor:"",dateFrom:"",dateTo:"",updateDateFrom:"",updateDateTo:""})},style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"#fff",border:"none",borderRadius:"8px",padding:"10px 20px",cursor:"pointer",fontWeight:600},children:"\ud83d\uddd1\ufe0f Limpiar filtros"})})]}),(0,Cr.jsx)("div",{className:"usuarios-search-container",children:(0,Cr.jsxs)("div",{className:"usuarios-search-wrapper",children:[(0,Cr.jsxs)("svg",{className:"usuarios-search-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Cr.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,Cr.jsx)("path",{d:"m21 21-4.35-4.35"})]}),(0,Cr.jsx)("input",{type:"text",placeholder:"Buscar por nombre, email o c\xe9dula...",value:u,onChange:e=>{p(e.target.value),i(1)},className:"usuarios-search-input"})]})}),(0,Cr.jsxs)("div",{className:"usuarios-table-container",children:[(0,Cr.jsx)("div",{className:"usuarios-table-wrapper",children:(0,Cr.jsxs)("table",{className:"usuarios-table",children:[(0,Cr.jsx)("thead",{children:(0,Cr.jsxs)("tr",{children:[G.map(e=>(0,Cr.jsx)("th",{style:{width:e.width},children:e.label},e.key)),(0,Cr.jsx)("th",{style:{width:120},children:"Acciones"})]})}),(0,Cr.jsx)("tbody",{children:n?(0,Cr.jsx)("tr",{children:(0,Cr.jsx)("td",{colSpan:G.length+1,style:{textAlign:"center",padding:"20px"},children:(0,Cr.jsx)(Pr,{message:"Cargando usuarios\u2026"})})}):0===q.length?(0,Cr.jsx)("tr",{children:(0,Cr.jsx)("td",{colSpan:G.length+1,style:{textAlign:"center",padding:"20px",color:"#9ca3af"},children:"No hay usuarios registrados"})}):q.map(e=>(0,Cr.jsxs)("tr",{children:[G.map(t=>{var n;return(0,Cr.jsx)("td",{children:t.render?t.render(e):(null===(n=e[t.key])||void 0===n?void 0:n.toString())||"-"},"".concat(e.id,"-").concat(t.key))}),(0,Cr.jsx)("td",{children:(0,Cr.jsxs)("div",{className:"usuarios-actions",children:[(0,Cr.jsx)("button",{className:"btn-action btn-editar",onClick:()=>{y(e),x(!0)},disabled:!M(e),title:M(e)?"Editar":!m||"administrador"!==m.role&&"distribuidor"!==m.role?"Solo un usuario con rol Administrador o Distribuidor puede editar":"Solo se pueden editar usuarios con rol Administrador o Distribuidor",children:"\u270f\ufe0f"}),(0,Cr.jsx)("button",{className:"btn-action btn-eliminar",onClick:()=>H(e),disabled:!U(e),title:W(e)?"nuevo"!==e.estado?"Solo se pueden eliminar usuarios en estado Nuevo":"Eliminar":"Solo administrador o distribuidor puede eliminar",children:"\ud83d\uddd1\ufe0f"})]})})]},e.id))})]})}),(0,Cr.jsxs)("div",{className:"pagination-controls",children:[(0,Cr.jsxs)("div",{className:"pagination-info-left",style:{fontSize:"13px",color:"#374151",fontWeight:500},children:["Mostrando ",q.length," de ",c," usuarios"]}),(0,Cr.jsxs)("div",{className:"pagination-info",children:["Filas por p\xe1gina:",(0,Cr.jsxs)("select",{value:l,onChange:e=>{s(Number(e.target.value)),i(1)},className:"items-per-page-select",children:[(0,Cr.jsx)("option",{value:5,children:"5"}),(0,Cr.jsx)("option",{value:10,children:"10"}),(0,Cr.jsx)("option",{value:15,children:"15"}),(0,Cr.jsx)("option",{value:25,children:"25"}),(0,Cr.jsx)("option",{value:50,children:"50"})]}),(0,Cr.jsxs)("span",{className:"page-range",children:[0===c?"0-0":"".concat((a-1)*l+1,"-").concat(Math.min(a*l,c))," de ",c]})]}),(0,Cr.jsxs)("div",{className:"pagination-buttons",children:[(0,Cr.jsx)("button",{onClick:()=>i(1),disabled:1===a,title:"Primera p\xe1gina",className:"page-btn",children:"\u27ea"}),(0,Cr.jsx)("button",{onClick:()=>i(e=>Math.max(1,e-1)),disabled:1===a,title:"P\xe1gina anterior",className:"page-btn",children:"\u2039"}),(0,Cr.jsx)("button",{onClick:()=>i(e=>Math.min(Q,e+1)),disabled:a>=Q,title:"P\xe1gina siguiente",className:"page-btn",children:"\u203a"}),(0,Cr.jsx)("button",{onClick:()=>i(Q),disabled:a>=Q,title:"\xdaltima p\xe1gina",className:"page-btn",children:"\u27eb"})]})]})]}),(0,Cr.jsx)(Fa,{isOpen:h,initialData:null,onClose:()=>g(!1),onSubmit:async e=>{try{await Ta.create(e),f({title:"\xc9xito",message:"Usuario creado exitosamente",type:"success"}),g(!1),i(1),await B()}catch(r){var t,n;const e=(null===r||void 0===r||null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||(null===r||void 0===r?void 0:r.message)||"Error creando usuario";f({title:"Error",message:e,type:"error"})}},isEditing:!1}),(0,Cr.jsx)(Fa,{isOpen:b,initialData:v,onClose:()=>{x(!1),y(null)},onSubmit:async e=>{if(v&&v.id)try{await Ta.update(v.id,e),f({title:"\xc9xito",message:"Usuario actualizado exitosamente",type:"success"}),x(!1),y(null),await B()}catch(r){var t,n;const e=(null===r||void 0===r||null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||(null===r||void 0===r?void 0:r.message)||"Error actualizando usuario";f({title:"Error",message:e,type:"error"})}},isEditing:!0}),(0,Cr.jsx)(_a,{open:N,user:E,loading:z,onClose:()=>{C(!1),_(null),T(!1)},onEdit:()=>{E&&(y(E),x(!0),C(!1))},onDelete:()=>{E&&(H(E),C(!1))}}),(0,Cr.jsx)(Da,{isOpen:j,onClose:()=>{w(!1),k(null)},onSubmit:async e=>{if(null!==S&&void 0!==S&&S.id)try{await Ta.delete(S.id,e),f({title:"\xc9xito",message:"Usuario eliminado exitosamente",type:"success"}),w(!1),k(null),await B()}catch(t){throw t}}})]})},Wa=()=>{const{id:e}=oe(),t=re(),{show:n}=Rr(),[r,a]=o.useState(!1),[i,l]=o.useState(null),[s,c]=o.useState(null),[d,u]=o.useState(!1),[p,f]=o.useState(!1),m=o.useCallback(async()=>{if(e)try{var t,r;a(!0),c(null);const n=await Ta.get(e),o=null!==(t=null===(r=n.data)||void 0===r?void 0:r.data)&&void 0!==t?t:n.data;l(o)}catch(s){var o,i;const e=(null===s||void 0===s||null===(o=s.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.message)||(null===s||void 0===s?void 0:s.message)||"Error cargando usuario";c(e),n({title:"Error",message:e,type:"error"})}finally{a(!1)}},[e,n]);o.useEffect(()=>{m()},[m]);return r?(0,Cr.jsx)("div",{className:"page-container",children:(0,Cr.jsx)(Pr,{fullHeight:!0,message:"Cargando usuario\u2026"})}):s||!i?(0,Cr.jsxs)("div",{className:"page-container",children:[(0,Cr.jsx)("div",{className:"alert alert-error",style:{marginBottom:"20px"},children:s||"Usuario no encontrado"}),(0,Cr.jsx)("button",{className:"btn-secondary",onClick:()=>t("/usuarios"),children:"\u2190 Volver a Usuarios"})]}):(0,Cr.jsxs)("div",{className:"page-container",children:[(0,Cr.jsxs)("div",{className:"page-header",children:[(0,Cr.jsx)("button",{className:"btn-secondary",onClick:()=>t("/usuarios"),style:{marginRight:"10px"},children:"\u2190 Volver"}),(0,Cr.jsx)("h1",{children:"Informaci\xf3n del Usuario"}),(0,Cr.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,Cr.jsx)("button",{className:"btn-primary",onClick:()=>u(!0),children:"\u270f\ufe0f Editar"}),(0,Cr.jsx)("button",{className:"btn-danger",onClick:()=>f(!0),children:"\ud83d\uddd1\ufe0f Eliminar"})]})]}),(0,Cr.jsx)("div",{className:"info-card",style:{background:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"30px",marginBottom:"20px"},children:(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{display:"block",fontSize:"12px",color:"#666",marginBottom:"4px",fontWeight:600},children:"ID"}),(0,Cr.jsx)("p",{style:{fontSize:"16px",margin:0},children:i.id})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{display:"block",fontSize:"12px",color:"#666",marginBottom:"4px",fontWeight:600},children:"C\xe9dula"}),(0,Cr.jsx)("p",{style:{fontSize:"16px",margin:0},children:i.cedula||"-"})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{display:"block",fontSize:"12px",color:"#666",marginBottom:"4px",fontWeight:600},children:"Nombres"}),(0,Cr.jsx)("p",{style:{fontSize:"16px",margin:0},children:i.nombres||"-"})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{display:"block",fontSize:"12px",color:"#666",marginBottom:"4px",fontWeight:600},children:"Apellidos"}),(0,Cr.jsx)("p",{style:{fontSize:"16px",margin:0},children:i.apellidos||"-"})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{display:"block",fontSize:"12px",color:"#666",marginBottom:"4px",fontWeight:600},children:"Nombre de Usuario"}),(0,Cr.jsx)("p",{style:{fontSize:"16px",margin:0},children:i.username||"-"})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{display:"block",fontSize:"12px",color:"#666",marginBottom:"4px",fontWeight:600},children:"Email"}),(0,Cr.jsx)("p",{style:{fontSize:"16px",margin:0},children:(0,Cr.jsx)("a",{href:"mailto:".concat(i.email),style:{color:"#0066cc",textDecoration:"none"},children:i.email})})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{display:"block",fontSize:"12px",color:"#666",marginBottom:"4px",fontWeight:600},children:"Rol"}),(0,Cr.jsx)("span",{style:{display:"inline-block",padding:"6px 12px",borderRadius:"4px",fontSize:"14px",fontWeight:600,background:"administrador"===i.role?"#fee2e2":"#e0e7ff",color:"administrador"===i.role?"#991b1b":"#3730a3"},children:"administrador"===i.role?"\ud83d\udc64 Administrador":"\ud83d\udc64 ".concat(i.role.charAt(0).toUpperCase()+i.role.slice(1))})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{display:"block",fontSize:"12px",color:"#666",marginBottom:"4px",fontWeight:600},children:"Creado"}),(0,Cr.jsx)("p",{style:{fontSize:"14px",margin:0},children:i.created_at?new Date(i.created_at).toLocaleDateString("es-EC",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{display:"block",fontSize:"12px",color:"#666",marginBottom:"4px",fontWeight:600},children:"\xdaltima actualizaci\xf3n"}),(0,Cr.jsx)("p",{style:{fontSize:"14px",margin:0},children:i.updated_at?new Date(i.updated_at).toLocaleDateString("es-EC",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"})]})]})}),(0,Cr.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,Cr.jsx)("button",{className:"btn-primary",onClick:()=>u(!0),children:"\u270f\ufe0f Editar usuario"}),(0,Cr.jsx)("button",{className:"btn-danger",onClick:()=>f(!0),children:"\ud83d\uddd1\ufe0f Eliminar usuario"})]}),(0,Cr.jsx)(Fa,{isOpen:d,initialData:i,onClose:()=>u(!1),onSubmit:async t=>{if(e)try{await Ta.update(e,t),n({title:"\xc9xito",message:"Usuario actualizado exitosamente",type:"success"}),u(!1),m()}catch(o){var r,a;const e=(null===o||void 0===o||null===(r=o.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||(null===o||void 0===o?void 0:o.message)||"Error actualizando usuario";n({title:"Error",message:e,type:"error"})}},isEditing:!0}),(0,Cr.jsx)(Da,{isOpen:p,onClose:()=>f(!1),onSubmit:async r=>{if(e)try{await Ta.delete(e,r),n({title:"\xc9xito",message:"Usuario eliminado exitosamente",type:"success"}),f(!1),setTimeout(()=>t("/usuarios"),500)}catch(i){var a,o;const e=(null===i||void 0===i||null===(a=i.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message)||(null===i||void 0===i?void 0:i.message)||"Error eliminando usuario";n({title:"Error",message:e,type:"error"})}}})]})},Ma={list:e=>Nr.get("/api/planes",{params:e}),get:e=>Nr.get("/api/planes/".concat(e)),create:e=>Nr.post("/api/planes",e),update:(e,t)=>Nr.put("/api/planes/".concat(e),t),delete:e=>Nr.delete("/api/planes/".concat(e)),getPeriodos:()=>Nr.get("/api/planes/periodos"),getEstados:()=>Nr.get("/api/planes/estados")},Ua=["Mensual","Trimestral","Semestral","Anual","Bianual","Trianual"],qa=["Activo","Desactivado"],Ha=e=>{let{open:t,onClose:n,onSuccess:r,plan:a}=e;const{show:i}=Rr(),[l,s]=o.useState(!1),[c,d]=o.useState({}),[u,p]=o.useState({nombre:"",cantidad_comprobantes:100,precio:0,periodo:"Mensual",observacion:"",color_fondo:"#808080",color_texto:"#000000",estado:"Activo",comprobantes_minimos:5,dias_minimos:5});o.useEffect(()=>{p(a?{nombre:a.nombre,cantidad_comprobantes:a.cantidad_comprobantes,precio:a.precio,periodo:a.periodo,observacion:a.observacion||"",color_fondo:a.color_fondo,color_texto:a.color_texto,estado:a.estado,comprobantes_minimos:a.comprobantes_minimos,dias_minimos:a.dias_minimos}:{nombre:"",cantidad_comprobantes:100,precio:0,periodo:"Mensual",observacion:"",color_fondo:"#808080",color_texto:"#000000",estado:"Activo",comprobantes_minimos:5,dias_minimos:5}),d({})},[a,t]);const f=(e,t)=>{switch(e){case"nombre":return t.trim()?t.length<3?"El nombre debe tener al menos 3 caracteres":t.length>255?"El nombre no puede exceder 255 caracteres":"":"El nombre es obligatorio";case"cantidad_comprobantes":return!Number.isInteger(Number(t))||Number(t)<1?"La cantidad de comprobantes debe ser un n\xfamero entero positivo (\u22651)":"";case"precio":const n=parseFloat(t);return isNaN(n)?"El precio debe ser un n\xfamero v\xe1lido":n<.01?"El precio debe ser mayor a 0 (valores positivos)":/^\d+(\.\d{1,2})?$/.test(String(n))?"":"El precio debe ser un decimal v\xe1lido con hasta 2 d\xedgitos (ej: 99.99)";case"color_fondo":case"color_texto":return t?/^#[0-9A-Fa-f]{6}$/.test(t)?"":"El color debe estar en formato hexadecimal v\xe1lido (ej: #808080)":"color_fondo"===e?"El color de fondo es obligatorio":"El color de texto es obligatorio";case"comprobantes_minimos":return!Number.isInteger(Number(t))||Number(t)<1?"Los comprobantes m\xednimos deben ser un n\xfamero entero positivo (\u22651)":"";case"dias_minimos":return!Number.isInteger(Number(t))||Number(t)<1?"Los d\xedas m\xednimos deben ser un n\xfamero entero positivo (\u22651)":"";default:return""}},m=e=>{const{name:t,value:n}=e.target;if("cantidad_comprobantes"===t||"comprobantes_minimos"===t||"dias_minimos"===t){const e=parseInt(n)||0,r=e<0?0:e;p(e=>He(He({},e),{},{[t]:r}));const a=f(t,r);d(e=>He(He({},e),{},{[t]:a}))}else if("precio"===t){const e=parseFloat(n)||0,r=e<0?0:e;p(e=>He(He({},e),{},{[t]:r}));const a=f(t,r);d(e=>He(He({},e),{},{[t]:a}))}else{p(e=>He(He({},e),{},{[t]:n}));const e=f(t,n);d(n=>He(He({},n),{},{[t]:e}))}};return t?(0,Cr.jsx)("div",{className:"usuario-modal-overlay",children:(0,Cr.jsxs)("div",{className:"usuario-modal-content usuario-modal-content-barra-izquierda",children:[(0,Cr.jsx)("div",{className:"usuario-modal-barra-izquierda"}),(0,Cr.jsxs)("div",{className:"usuario-modal-main",children:[(0,Cr.jsxs)("div",{className:"usuario-modal-header",style:{position:"relative"},children:[(0,Cr.jsx)("h2",{children:a?"\u270f\ufe0f Editar Plan":"\ud83d\udcca Crear Nuevo Plan"}),(0,Cr.jsx)("button",{type:"button",className:"usuario-modal-close",onClick:n,disabled:l,style:{position:"absolute",top:24,right:24},children:"\u2715"})]}),(0,Cr.jsx)("div",{className:"usuario-barra-horizontal-interna"}),(0,Cr.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={},t=f("nombre",u.nombre);t&&(e.nombre=t);const n=f("cantidad_comprobantes",u.cantidad_comprobantes);n&&(e.cantidad_comprobantes=n);const r=f("precio",u.precio);r&&(e.precio=r);const a=f("color_fondo",u.color_fondo);a&&(e.color_fondo=a);const o=f("color_texto",u.color_texto);o&&(e.color_texto=o);const i=f("comprobantes_minimos",u.comprobantes_minimos);i&&(e.comprobantes_minimos=i);const l=f("dias_minimos",u.dias_minimos);return l&&(e.dias_minimos=l),d(e),0===Object.keys(e).length})())try{s(!0),null!==a&&void 0!==a&&a.id?(await Ma.update(a.id,u),i({title:"\u2705 \xc9xito",message:"Plan actualizado correctamente",type:"success"})):(await Ma.create(u),i({title:"\u2705 Plan registrado exitosamente",message:"El plan ha sido guardado en la base de datos",type:"success"})),setTimeout(()=>{r()},500)}catch(c){var t,n,o,l;let e="Error al guardar el plan";if(null!==c&&void 0!==c&&null!==(t=c.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.errors){const t=c.response.data.errors,n=Object.keys(t)[0];n&&t[n][0]&&(e=t[n][0])}else null!==c&&void 0!==c&&null!==(o=c.response)&&void 0!==o&&null!==(l=o.data)&&void 0!==l&&l.message&&(e=c.response.data.message,e.toLowerCase().includes("ya existe")&&(e="\u274c Ya existe un plan con este nombre."));i({title:"\u274c Error",message:e,type:"error"})}finally{s(!1)}else i({title:"\u26a0\ufe0f Error de Validaci\xf3n",message:"Por favor corrige los errores en el formulario",type:"error"})},children:(0,Cr.jsxs)("div",{className:"usuario-modal-body",children:[(0,Cr.jsxs)("div",{className:"usuario-form-grid",children:[(0,Cr.jsxs)("div",{className:"usuario-form-group full-width",children:[(0,Cr.jsxs)("label",{htmlFor:"plan-nombre",className:"usuario-form-label",children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udcdd"}),"Nombre del Plan",(0,Cr.jsx)("span",{className:"required",children:"*"})]}),(0,Cr.jsx)("input",{id:"plan-nombre",type:"text",name:"nombre",value:u.nombre,onChange:m,placeholder:"Ej: Plan B\xe1sico, Plan Profesional",className:c.nombre?"usuario-form-input error":"usuario-form-input",disabled:l,autoComplete:"off"}),c.nombre&&(0,Cr.jsxs)("span",{className:"usuario-error-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),c.nombre]})]}),(0,Cr.jsxs)("div",{className:"usuario-form-group",children:[(0,Cr.jsxs)("label",{htmlFor:"plan-cantidad",className:"usuario-form-label",children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udcc4"}),"Cantidad de Comprobantes",(0,Cr.jsx)("span",{className:"required",children:"*"})]}),(0,Cr.jsx)("input",{id:"plan-cantidad",type:"number",name:"cantidad_comprobantes",value:u.cantidad_comprobantes,onChange:m,min:"1",step:"1",className:c.cantidad_comprobantes?"usuario-form-input error":"usuario-form-input",disabled:l,placeholder:"Ej: 100 (solo n\xfameros positivos)"}),c.cantidad_comprobantes&&(0,Cr.jsxs)("span",{className:"usuario-error-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),c.cantidad_comprobantes]})]}),(0,Cr.jsxs)("div",{className:"usuario-form-group",children:[(0,Cr.jsxs)("label",{htmlFor:"plan-precio",className:"usuario-form-label",children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udcb0"}),"Precio (USD)",(0,Cr.jsx)("span",{className:"required",children:"*"})]}),(0,Cr.jsx)("input",{id:"plan-precio",type:"number",name:"precio",value:u.precio||"",onChange:m,min:"0.01",step:"0.01",className:c.precio?"usuario-form-input error":"usuario-form-input",disabled:l,placeholder:"Ej: 25.99 (>0, m\xe1x 2 decimales)"}),c.precio&&(0,Cr.jsxs)("span",{className:"usuario-error-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),c.precio]})]}),(0,Cr.jsxs)("div",{className:"usuario-form-group",children:[(0,Cr.jsxs)("label",{htmlFor:"plan-periodo",className:"usuario-form-label",children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udcc5"}),"Per\xedodo",(0,Cr.jsx)("span",{className:"required",children:"*"})]}),(0,Cr.jsx)("select",{id:"plan-periodo",name:"periodo",value:u.periodo,onChange:m,className:"usuario-form-select",disabled:l,children:Ua.map(e=>(0,Cr.jsx)("option",{value:e,children:e},e))})]}),(0,Cr.jsxs)("div",{className:"usuario-form-group",children:[(0,Cr.jsxs)("label",{htmlFor:"plan-estado",className:"usuario-form-label",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u2705"}),"Estado",(0,Cr.jsx)("span",{className:"required",children:"*"})]}),(0,Cr.jsx)("select",{id:"plan-estado",name:"estado",value:u.estado,onChange:m,className:"usuario-form-select",disabled:l,children:qa.map(e=>(0,Cr.jsx)("option",{value:e,children:e},e))})]}),(0,Cr.jsxs)("div",{className:"usuario-form-group",children:[(0,Cr.jsxs)("label",{htmlFor:"plan-comp-min",className:"usuario-form-label",children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udccb"}),"Comprobantes M\xednimos",(0,Cr.jsx)("span",{className:"required",children:"*"})]}),(0,Cr.jsx)("input",{id:"plan-comp-min",type:"number",name:"comprobantes_minimos",value:u.comprobantes_minimos,onChange:m,min:"1",step:"1",className:c.comprobantes_minimos?"usuario-form-input error":"usuario-form-input",disabled:l,placeholder:"Ej: 5 (solo n\xfameros positivos)"}),c.comprobantes_minimos&&(0,Cr.jsxs)("span",{className:"usuario-error-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),c.comprobantes_minimos]})]}),(0,Cr.jsxs)("div",{className:"usuario-form-group",children:[(0,Cr.jsxs)("label",{htmlFor:"plan-dias-min",className:"usuario-form-label",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u23f0"}),"D\xedas M\xednimos",(0,Cr.jsx)("span",{className:"required",children:"*"})]}),(0,Cr.jsx)("input",{id:"plan-dias-min",type:"number",name:"dias_minimos",value:u.dias_minimos,onChange:m,min:"1",step:"1",className:c.dias_minimos?"usuario-form-input error":"usuario-form-input",disabled:l,placeholder:"Ej: 5 (solo n\xfameros positivos)"}),c.dias_minimos&&(0,Cr.jsxs)("span",{className:"usuario-error-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),c.dias_minimos]})]}),(0,Cr.jsxs)("div",{className:"usuario-form-group",children:[(0,Cr.jsxs)("label",{htmlFor:"plan-color-fondo",className:"usuario-form-label",children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83c\udfa8"}),"Color de Fondo",(0,Cr.jsx)("span",{className:"required",children:"*"})]}),(0,Cr.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,Cr.jsx)("input",{type:"color",id:"plan-color-fondo",name:"color_fondo",value:u.color_fondo,onChange:m,style:{width:"50px",height:"40px",cursor:"pointer",borderRadius:"4px",border:"none",padding:0},disabled:l,title:"Selector visual de color"}),(0,Cr.jsx)("input",{type:"text",value:u.color_fondo.toUpperCase(),onChange:m,name:"color_fondo",className:c.color_fondo?"usuario-form-input error":"usuario-form-input",placeholder:"#000000",maxLength:7,style:{flex:1},disabled:l,title:"Formato: #RRGGBB (ej: #808080)"})]}),c.color_fondo&&(0,Cr.jsxs)("span",{className:"usuario-error-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),c.color_fondo]})]}),(0,Cr.jsxs)("div",{className:"usuario-form-group",children:[(0,Cr.jsxs)("label",{htmlFor:"plan-color-texto",className:"usuario-form-label",children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83c\udfa8"}),"Color de Texto",(0,Cr.jsx)("span",{className:"required",children:"*"})]}),(0,Cr.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,Cr.jsx)("input",{type:"color",id:"plan-color-texto",name:"color_texto",value:u.color_texto,onChange:m,style:{width:"50px",height:"40px",cursor:"pointer",borderRadius:"4px",border:"none",padding:0},disabled:l,title:"Selector visual de color"}),(0,Cr.jsx)("input",{type:"text",value:u.color_texto.toUpperCase(),onChange:m,name:"color_texto",className:c.color_texto?"usuario-form-input error":"usuario-form-input",placeholder:"#000000",maxLength:7,style:{flex:1},disabled:l,title:"Formato: #RRGGBB (ej: #000000)"})]}),c.color_texto&&(0,Cr.jsxs)("span",{className:"usuario-error-text",children:[(0,Cr.jsx)("span",{className:"icon",children:"\u26a0\ufe0f"}),c.color_texto]})]}),(0,Cr.jsxs)("div",{className:"usuario-form-group full-width",children:[(0,Cr.jsxs)("label",{htmlFor:"plan-observacion",className:"usuario-form-label",children:[(0,Cr.jsx)("span",{className:"icon",children:"\ud83d\udcdd"}),"Observaci\xf3n (Opcional)"]}),(0,Cr.jsx)("textarea",{id:"plan-observacion",name:"observacion",value:u.observacion,onChange:m,rows:3,placeholder:"A\xf1ade notas o detalles adicionales sobre este plan",className:"usuario-form-input",disabled:l,style:{fontFamily:"inherit",resize:"vertical"}})]})]}),(0,Cr.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"24px",borderTop:"1px solid #eee",paddingTop:"20px"},children:[(0,Cr.jsx)("button",{type:"button",className:"usuario-btn usuario-btn-secondary",onClick:n,disabled:l,children:"Cancelar"}),(0,Cr.jsx)("button",{type:"submit",className:"usuario-btn usuario-btn-primary",disabled:l,children:l?(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)("span",{style:{marginRight:"8px"},children:"\u23f3"}),a?"Actualizando...":"Creando..."]}):(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)("span",{style:{marginRight:"8px"},children:a?"\u270f\ufe0f":"\u2705"}),a?"Actualizar Plan":"Crear Plan"]})})]})]})})]})]})}):null},Va=e=>{let{open:t,plan:n,onClose:r,onSuccess:a}=e;const{show:i}=Rr(),[l,s]=o.useState(!1);return t?(0,Cr.jsx)("div",{className:"modal-overlay",onClick:r,children:(0,Cr.jsxs)("div",{className:"delete-modal-container",onClick:e=>e.stopPropagation(),children:[(0,Cr.jsxs)("div",{className:"delete-modal-header",children:[(0,Cr.jsx)("div",{className:"delete-icon-container",children:(0,Cr.jsx)("span",{className:"delete-icon",children:"\ud83d\uddd1\ufe0f"})}),(0,Cr.jsx)("h2",{children:"\xbfEliminar Plan?"}),(0,Cr.jsx)("button",{className:"close-button",onClick:r,children:"\xd7"})]}),(0,Cr.jsxs)("div",{className:"delete-modal-body",children:[(0,Cr.jsx)("p",{className:"warning-text",children:"Est\xe1s a punto de eliminar el siguiente plan:"}),(0,Cr.jsxs)("div",{className:"plan-info-card",children:[(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"label",children:"Nombre:"}),(0,Cr.jsx)("span",{className:"value",children:n.nombre})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"label",children:"Precio:"}),(0,Cr.jsxs)("span",{className:"value",children:["$",n.precio.toFixed(2)," - ",n.periodo]})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"label",children:"Comprobantes:"}),(0,Cr.jsx)("span",{className:"value",children:n.cantidad_comprobantes.toLocaleString()})]}),(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"label",children:"Estado:"}),(0,Cr.jsx)("span",{className:"badge ".concat("Activo"===n.estado?"badge-success":"badge-danger"),children:n.estado})]}),n.observacion&&(0,Cr.jsxs)("div",{className:"info-row",children:[(0,Cr.jsx)("span",{className:"label",children:"Observaci\xf3n:"}),(0,Cr.jsx)("span",{className:"value",children:n.observacion})]})]}),(0,Cr.jsxs)("div",{className:"alert alert-warning",children:[(0,Cr.jsx)("strong",{children:"\u26a0\ufe0f Advertencia:"})," Esta acci\xf3n no se puede deshacer. El plan ser\xe1 eliminado del sistema."]})]}),(0,Cr.jsxs)("div",{className:"delete-modal-actions",children:[(0,Cr.jsx)("button",{type:"button",className:"btn-secondary",onClick:r,disabled:l,children:"Cancelar"}),(0,Cr.jsx)("button",{type:"button",className:"btn-danger",onClick:async()=>{if(n.id)try{s(!0),await Ma.delete(n.id),i({title:"\xc9xito",message:"Plan eliminado correctamente",type:"success"}),a()}catch(r){var e,t;const n=(null===r||void 0===r||null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||(null===r||void 0===r?void 0:r.message)||"Error al eliminar el plan";i({title:"Error",message:n,type:"error"})}finally{s(!1)}},disabled:l,children:l?"Eliminando...":"S\xed, Eliminar Plan"})]})]})}):null},Qa=()=>{const[e,t]=o.useState([]),[n,r]=o.useState(!1),[a,i]=o.useState(1),[l,s]=o.useState(10),[c,d]=o.useState(0),{show:u}=Rr(),{user:p}=zr(),[f,m]=o.useState(!1),[h,g]=o.useState(!1),[b,x]=o.useState(null),[v,y]=o.useState(!1),[j,w]=o.useState(null),[S,k]=o.useState("created_at"),[N,C]=o.useState("desc"),[E,_]=o.useState(!1),[z,T]=o.useState({nombre:"",cantidad_comprobantes_gte:"",precio:"",periodo:"",observacion:"",estado:"",createdFrom:"",createdTo:"",updatedFrom:"",updatedTo:""}),A="administrador"===(null===p||void 0===p?void 0:p.role),R=o.useCallback(async()=>{try{r(!0);const e={page:a,per_page:l,sort_by:S,sort_dir:N};z.nombre&&(e.nombre=z.nombre),z.cantidad_comprobantes_gte&&(e.cantidad_comprobantes_gte=z.cantidad_comprobantes_gte),z.precio&&(e.precio=z.precio),z.periodo&&(e.periodo=z.periodo),z.observacion&&(e.observacion=z.observacion),z.estado&&(e.estado=z.estado),z.createdFrom&&(e.created_at_from=z.createdFrom),z.createdTo&&(e.created_at_to=z.createdTo),z.updatedFrom&&(e.updated_at_from=z.updatedFrom),z.updatedTo&&(e.updated_at_to=z.updatedTo);const n=(await Ma.list(e)).data;t(n.data),d(n.pagination.total)}catch(o){var e,n;const t=(null===o||void 0===o||null===(e=o.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||(null===o||void 0===o?void 0:o.message)||"Error cargando planes";u({title:"Error",message:t,type:"error"})}finally{r(!1)}},[a,l,z,S,N,u]);o.useEffect(()=>{R()},[R]);const O=e=>{S===e?C("asc"===N?"desc":"asc"):(k(e),C("asc"))},P=e=>S!==e?null:"asc"===N?" \u2191":" \u2193",L=e=>{if(!e)return"-";return new Date(e).toLocaleDateString("es-EC",{year:"numeric",month:"short",day:"numeric"})},I=Math.ceil(c/l);return A?(0,Cr.jsxs)("div",{className:"emisores-container",children:[(0,Cr.jsxs)("div",{className:"content-header",children:[(0,Cr.jsxs)("div",{className:"header-top",children:[(0,Cr.jsxs)("div",{className:"title-section",children:[(0,Cr.jsx)("h1",{children:"Gesti\xf3n de Planes"}),(0,Cr.jsx)("p",{className:"subtitle",children:"Administra los planes de facturaci\xf3n del sistema"})]}),(0,Cr.jsxs)("button",{className:"btn-primary",onClick:()=>m(!0),children:[(0,Cr.jsx)("span",{className:"icon",children:"+"}),"Nuevo Plan"]})]}),(0,Cr.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Cr.jsxs)("button",{className:"btn-primary",onClick:()=>_(!E),style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",color:"white",padding:"12px 24px",borderRadius:"12px",fontSize:"14px",fontWeight:600,cursor:"pointer",marginBottom:E?"20px":"0",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease"},children:[(0,Cr.jsx)("span",{children:"\ud83d\udd0d"}),E?"Ocultar Filtros":"Filtros"]}),E&&(0,Cr.jsxs)("div",{style:{background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",border:"2px solid #667eea",borderRadius:"12px",padding:"20px",marginBottom:"20px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,Cr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px",marginBottom:"16px"},children:[(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"6px",display:"block"},children:"Nombre"}),(0,Cr.jsx)("input",{type:"text",placeholder:"Buscar por nombre...",value:z.nombre,onChange:e=>{T(He(He({},z),{},{nombre:e.target.value})),i(1)},style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px",boxSizing:"border-box"}})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"6px",display:"block"},children:"Cantidad Comprobantes (\u2265)"}),(0,Cr.jsx)("input",{type:"number",placeholder:"Cantidad m\xednima...",value:z.cantidad_comprobantes_gte,onChange:e=>{T(He(He({},z),{},{cantidad_comprobantes_gte:e.target.value})),i(1)},min:"0",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px",boxSizing:"border-box"}})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"6px",display:"block"},children:"Precio"}),(0,Cr.jsx)("input",{type:"number",placeholder:"Precio...",value:z.precio,onChange:e=>{T(He(He({},z),{},{precio:e.target.value})),i(1)},min:"0",step:"0.01",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px",boxSizing:"border-box"}})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"6px",display:"block"},children:"Per\xedodo"}),(0,Cr.jsxs)("select",{value:z.periodo,onChange:e=>{T(He(He({},z),{},{periodo:e.target.value})),i(1)},style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px",boxSizing:"border-box"},children:[(0,Cr.jsx)("option",{value:"",children:"Todos"}),(0,Cr.jsx)("option",{value:"Mensual",children:"Mensual"}),(0,Cr.jsx)("option",{value:"Trimestral",children:"Trimestral"}),(0,Cr.jsx)("option",{value:"Semestral",children:"Semestral"}),(0,Cr.jsx)("option",{value:"Anual",children:"Anual"}),(0,Cr.jsx)("option",{value:"Bianual",children:"Bianual"}),(0,Cr.jsx)("option",{value:"Trianual",children:"Trianual"})]})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"6px",display:"block"},children:"Observaci\xf3n"}),(0,Cr.jsx)("input",{type:"text",placeholder:"Buscar por observaci\xf3n...",value:z.observacion,onChange:e=>{T(He(He({},z),{},{observacion:e.target.value})),i(1)},style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px",boxSizing:"border-box"}})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"6px",display:"block"},children:"Estado"}),(0,Cr.jsxs)("select",{value:z.estado,onChange:e=>{T(He(He({},z),{},{estado:e.target.value})),i(1)},style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px",boxSizing:"border-box"},children:[(0,Cr.jsx)("option",{value:"",children:"Todos"}),(0,Cr.jsx)("option",{value:"Activo",children:"Activo"}),(0,Cr.jsx)("option",{value:"Desactivado",children:"Desactivado"})]})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"6px",display:"block"},children:"Fecha Creaci\xf3n (Desde)"}),(0,Cr.jsx)("input",{type:"date",value:z.createdFrom,onChange:e=>{T(He(He({},z),{},{createdFrom:e.target.value})),i(1)},style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px",boxSizing:"border-box"}})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"6px",display:"block"},children:"Fecha Creaci\xf3n (Hasta)"}),(0,Cr.jsx)("input",{type:"date",value:z.createdTo,onChange:e=>{T(He(He({},z),{},{createdTo:e.target.value})),i(1)},style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px",boxSizing:"border-box"}})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"6px",display:"block"},children:"Fecha Actualizaci\xf3n (Desde)"}),(0,Cr.jsx)("input",{type:"date",value:z.updatedFrom,onChange:e=>{T(He(He({},z),{},{updatedFrom:e.target.value})),i(1)},style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px",boxSizing:"border-box"}})]}),(0,Cr.jsxs)("div",{children:[(0,Cr.jsx)("label",{style:{fontSize:"13px",fontWeight:600,color:"#374151",marginBottom:"6px",display:"block"},children:"Fecha Actualizaci\xf3n (Hasta)"}),(0,Cr.jsx)("input",{type:"date",value:z.updatedTo,onChange:e=>{T(He(He({},z),{},{updatedTo:e.target.value})),i(1)},style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px",boxSizing:"border-box"}})]})]}),(0,Cr.jsx)("div",{style:{textAlign:"right"},children:(0,Cr.jsx)("button",{onClick:()=>{T({nombre:"",cantidad_comprobantes_gte:"",precio:"",periodo:"",observacion:"",estado:"",createdFrom:"",createdTo:"",updatedFrom:"",updatedTo:""}),i(1)},style:{background:"linear-gradient(135deg, #f93b1d 0%, #ea1e63 100%)",border:"none",color:"white",padding:"10px 20px",borderRadius:"6px",fontSize:"14px",fontWeight:600,cursor:"pointer",transition:"all 0.3s ease"},children:"\ud83d\uddd1\ufe0f Limpiar Filtros"})})]}),(0,Cr.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"center",marginBottom:"16px"},children:[(0,Cr.jsx)("label",{style:{fontSize:"14px",fontWeight:600},children:"Mostrar:"}),(0,Cr.jsxs)("select",{value:l,onChange:e=>{s(Number(e.target.value)),i(1)},style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px"},children:[(0,Cr.jsx)("option",{value:"10",children:"10 por p\xe1gina"}),(0,Cr.jsx)("option",{value:"25",children:"25 por p\xe1gina"}),(0,Cr.jsx)("option",{value:"50",children:"50 por p\xe1gina"}),(0,Cr.jsx)("option",{value:"100",children:"100 por p\xe1gina"})]})]})]})]}),n?(0,Cr.jsx)(Pr,{message:"Cargando planes..."}):(0,Cr.jsxs)(Cr.Fragment,{children:[(0,Cr.jsx)("div",{className:"table-container",children:(0,Cr.jsxs)("table",{className:"data-table",children:[(0,Cr.jsx)("thead",{children:(0,Cr.jsxs)("tr",{children:[(0,Cr.jsxs)("th",{onClick:()=>O("nombre"),style:{cursor:"pointer"},children:["Nombre ",P("nombre")]}),(0,Cr.jsx)("th",{children:"Cantidad de comprobantes"}),(0,Cr.jsxs)("th",{onClick:()=>O("precio"),style:{cursor:"pointer"},children:["Precio ",P("precio")]}),(0,Cr.jsxs)("th",{onClick:()=>O("periodo"),style:{cursor:"pointer"},children:["Per\xedodo ",P("periodo")]}),(0,Cr.jsx)("th",{children:"Colores"}),(0,Cr.jsx)("th",{children:"Observaci\xf3n"}),(0,Cr.jsxs)("th",{onClick:()=>O("estado"),style:{cursor:"pointer"},children:["Estado ",P("estado")]}),(0,Cr.jsx)("th",{children:"Comprobantes m\xednimos"}),(0,Cr.jsx)("th",{children:"D\xedas m\xednimos"}),(0,Cr.jsxs)("th",{onClick:()=>O("created_at"),style:{cursor:"pointer"},children:["Fecha de creaci\xf3n ",P("created_at")]}),(0,Cr.jsx)("th",{children:"Fecha de actualizaci\xf3n"}),(0,Cr.jsx)("th",{className:"actions-column",children:"Acciones"})]})}),(0,Cr.jsx)("tbody",{children:0===e.length?(0,Cr.jsx)("tr",{children:(0,Cr.jsx)("td",{colSpan:12,style:{textAlign:"center",padding:"2rem"},children:z.nombre||z.cantidad_comprobantes_gte||z.precio||z.periodo||z.observacion||z.estado||z.createdFrom||z.createdTo||z.updatedFrom||z.updatedTo?"No se encontraron planes con los filtros aplicados":"No hay planes registrados"})}):e.map(e=>{return(0,Cr.jsxs)("tr",{children:[(0,Cr.jsx)("td",{children:(0,Cr.jsx)("strong",{children:e.nombre})}),(0,Cr.jsx)("td",{children:e.cantidad_comprobantes.toLocaleString()}),(0,Cr.jsx)("td",{children:(0,Cr.jsx)("strong",{children:(t=e.precio,new Intl.NumberFormat("es-EC",{style:"currency",currency:"USD"}).format(t))})}),(0,Cr.jsx)("td",{children:e.periodo}),(0,Cr.jsx)("td",{children:(0,Cr.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,Cr.jsx)("div",{style:{width:"30px",height:"30px",backgroundColor:e.color_fondo,border:"1px solid #ddd",borderRadius:"4px"},title:"Fondo: ".concat(e.color_fondo)}),(0,Cr.jsx)("div",{style:{width:"30px",height:"30px",backgroundColor:e.color_texto,border:"1px solid #ddd",borderRadius:"4px"},title:"Texto: ".concat(e.color_texto)})]})}),(0,Cr.jsx)("td",{children:e.observacion?e.observacion.length>80?"".concat(e.observacion.substring(0,80),"..."):e.observacion:"-"}),(0,Cr.jsx)("td",{children:(0,Cr.jsx)("span",{className:"badge ".concat("Activo"===e.estado?"badge-success":"badge-danger"),children:e.estado})}),(0,Cr.jsx)("td",{children:e.comprobantes_minimos}),(0,Cr.jsx)("td",{children:e.dias_minimos}),(0,Cr.jsx)("td",{children:L(e.created_at)}),(0,Cr.jsx)("td",{children:L(e.updated_at)}),(0,Cr.jsxs)("td",{className:"actions-cell",children:[(0,Cr.jsx)("button",{className:"btn-icon btn-edit",onClick:()=>(e=>{x(e),g(!0)})(e),title:"Editar plan",children:"\u270f\ufe0f"}),(0,Cr.jsx)("button",{className:"btn-icon btn-delete",onClick:()=>(e=>{w(e),y(!0)})(e),title:"Eliminar plan",children:"\ud83d\uddd1\ufe0f"})]})]},e.id);var t})})]})}),I>1&&(0,Cr.jsxs)("div",{className:"pagination",children:[(0,Cr.jsx)("button",{onClick:()=>i(a-1),disabled:1===a,className:"pagination-btn",children:"Anterior"}),(0,Cr.jsxs)("span",{className:"pagination-info",children:["P\xe1gina ",a," de ",I," (",c," planes en total)"]}),(0,Cr.jsx)("button",{onClick:()=>i(a+1),disabled:a>=I,className:"pagination-btn",children:"Siguiente"})]})]}),f&&(0,Cr.jsx)(Ha,{open:f,onClose:()=>m(!1),onSuccess:()=>{m(!1),R()}}),h&&b&&(0,Cr.jsx)(Ha,{open:h,onClose:()=>{g(!1),x(null)},onSuccess:()=>{g(!1),x(null),R()},plan:b}),v&&j&&(0,Cr.jsx)(Va,{open:v,plan:j,onClose:()=>{y(!1),w(null)},onSuccess:()=>{y(!1),w(null),R()}})]}):(0,Cr.jsx)("div",{className:"emisores-container",children:(0,Cr.jsxs)("div",{className:"content-header",children:[(0,Cr.jsx)("h1",{children:"Acceso Denegado"}),(0,Cr.jsx)("p",{children:"No tienes permisos para acceder a esta secci\xf3n."})]})})},Ga=()=>(0,Cr.jsx)("div",{style:{minHeight:"400px"}});const Xa=function(){return(0,Cr.jsx)(Re,{children:(0,Cr.jsx)(Ar,{children:(0,Cr.jsx)(_r,{children:(0,Cr.jsx)(qr,{children:(0,Cr.jsxs)(ke,{children:[(0,Cr.jsx)(we,{path:"/",element:(0,Cr.jsx)(Lr,{})}),(0,Cr.jsx)(we,{path:"/login",element:(0,Cr.jsx)(Lr,{})}),(0,Cr.jsx)(we,{path:"/PasswordRecovery",element:(0,Cr.jsx)(Ir,{})}),(0,Cr.jsx)(we,{path:"/cambiarPassword",element:(0,Cr.jsx)(Dr,{})}),(0,Cr.jsx)(we,{path:"/verify-email",element:(0,Cr.jsx)(Br,{})}),(0,Cr.jsx)(we,{path:"/change-password",element:(0,Cr.jsx)(Mr,{})}),(0,Cr.jsxs)(we,{element:(0,Cr.jsx)(Ka,{children:(0,Cr.jsx)(Gr,{})}),children:[(0,Cr.jsx)(we,{path:"/emisores",element:(0,Cr.jsx)(na,{})}),(0,Cr.jsx)(we,{path:"/emisores/:id",element:(0,Cr.jsx)(Aa,{})}),(0,Cr.jsx)(we,{path:"/emisores/:id/establecimientos/:estId",element:(0,Cr.jsx)(Pa,{})}),(0,Cr.jsx)(we,{path:"/emisores/:id/establecimientos/:estId/puntos/:puntoId",element:(0,Cr.jsx)(La,{})}),(0,Cr.jsx)(we,{path:"/usuarios",element:(0,Cr.jsx)(Ba,{})}),(0,Cr.jsx)(we,{path:"/usuarios/:id",element:(0,Cr.jsx)(Wa,{})}),(0,Cr.jsx)(we,{path:"/planes",element:(0,Cr.jsx)(Qa,{})}),(0,Cr.jsx)(we,{path:"/Navbar",element:(0,Cr.jsx)(ye,{to:"/emisores",replace:!0})}),(0,Cr.jsx)(we,{path:"/dashboard",element:(0,Cr.jsx)(Ga,{})}),(0,Cr.jsx)(we,{path:"/impuestos",element:(0,Cr.jsx)(Ga,{})})]}),(0,Cr.jsx)(we,{path:"*",element:(0,Cr.jsx)(ye,{to:"/",replace:!0})})]})})})})})},Ka=e=>{let{children:t}=e;const{user:n,loading:r}=zr();return r?(0,Cr.jsx)("div",{children:"Loading..."}):n?(0,Cr.jsx)(Cr.Fragment,{children:t}):(0,Cr.jsx)(ye,{to:"/",replace:!0})},Ya=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:o,getTTFB:i}=t;n(e),r(e),a(e),o(e),i(e)})};l.createRoot(document.getElementById("root")).render((0,Cr.jsx)(o.StrictMode,{children:(0,Cr.jsx)(Xa,{})})),Ya()})();
//# sourceMappingURL=main.3dc09b42.js.map